@Test
public void makeSureBackupCannotBePerformedWithInvalidArgs() throws Exception {
    if (osIsWindows())
        return;
    startDb("true");
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode());
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-full"));
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-incremental"));
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-from", "localhost"));
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-to", "some-dir"));
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-full", "-from", "foo://localhost", "-to", "some-dir", "-incremental"));
}||||||||@Test
public void makeSureBackupCannotBePerformedWithInvalidArgs() throws Exception {
    if (osIsWindows())
        return;
    startDb("true");
    // No args at all
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode());
    // no targets
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-full"));
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-incremental"));
    // Invalid from and no to
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-from", "localhost"));
    // invalid from and no to
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-from", "foo:localhost:123"));
    // no from with to
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-to", "some-dir"));
    // all in place but both modes
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-full", "-from", "foo://localhost", "-to", "some-dir", "-incremental"));
    // all in place, typo in from uri
    assertEquals(1, runBackupToolFromOtherJvmToGetExitCode("-full", "-from", "foo:/localhost", "-to", "some-dir"));
}||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(MethodCallExpr
				SimpleName
			)
			(ReturnStmt
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				StringLiteralExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					SimpleName
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
		)
	)
	(VoidType
	)
	SimpleName
	(ClassOrInterfaceType
		SimpleName
	)
	(MarkerAnnotationExpr
		Name
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(MethodCallExpr
				SimpleName
			)
			(ReturnStmt
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				StringLiteralExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				(IntegerLiteralExpr
				)
				(MethodCallExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					StringLiteralExpr
					SimpleName
				)
				SimpleName
			)
			LineComment
		)
	)
	(VoidType
	)
	SimpleName
	(ClassOrInterfaceType
		SimpleName
	)
	(MarkerAnnotationExpr
		Name
	)
)

