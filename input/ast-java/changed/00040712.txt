/**
 * Applies network rules to bandwidth and firewall controllers based on uid policy.
 *
 * <p>There are currently 2 types of restriction rules:
 * <ul>
 * <li>Battery Saver Mode (also referred as power save).
 * <li>Data Saver Mode (The Feature Formerly Known As 'Restrict Background Data').
 * </ul>
 */
private void updateRestrictionRulesForUidLocked(int uid) {
    updateRuleForRestrictPowerLocked(uid);
    updateRuleForRestrictBackgroundLocked(uid);
}||||||||/**
 * Applies network rules to bandwidth and firewall controllers based on uid policy.
 *
 * <p>There are currently 4 types of restriction rules:
 * <ul>
 * <li>Doze mode
 * <li>App idle mode
 * <li>Battery Saver Mode (also referred as power save).
 * <li>Data Saver Mode (The Feature Formerly Known As 'Restrict Background Data').
 * </ul>
 *
 * <p>This method changes both the external firewall rules and the internal state.
 */
private void updateRestrictionRulesForUidLocked(int uid) {
    // Methods below only changes the firewall rules for the power-related modes.
    updateRuleForDeviceIdleLocked(uid);
    updateRuleForAppIdleLocked(uid);
    updateRuleForRestrictPowerLocked(uid);
    // Update internal state for power-related modes.
    updateRulesForPowerRestrictionsLocked(uid);
    // Update firewall and internal rules for Data Saver Mode.
    updateRulesForDataUsageRestrictionsLocked(uid);
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(PrimitiveType
		)
	)
	(JavadocComment
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(PrimitiveType
		)
	)
	(JavadocComment
	)
)

