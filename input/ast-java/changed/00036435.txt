/**
 * Make sure that the current lookahead symbol is consistent with
 * what were expecting at this point in the ATN.
 * sync() differs fundamentally from the recoverInline() method.
 * In this case, we throw out a token that's not in the set of what
 * were expecting at this point. recoverInline() only deletes this
 * token if LT(2) (token after the current token) is what were expecting;
 * i.e., we have an extra token sitting on the input stream.  sync()
 * simply consumes until it finds something that can start whatever
 * follows the call to sync().
 */
@Override
public void sync(BaseRecognizer recognizer) {
    // If already recovering, don't try to sync
    if (errorRecoveryMode)
        return;
    // TODO: CACHE THESE RESULTS!!
    IntervalSet expecting = getExpectedTokens(recognizer);
    // TODO: subclass this class for treeparsers
    TokenStream tokens = (TokenStream) recognizer.getInputStream();
    Token la = tokens.LT(1);
    // Return but don't end recovery. only do that upon valid token match
    if (la.getType() == Token.EOF || expecting.contains(la.getType()))
        return;
    reportUnwantedToken(recognizer);
    consumeUntil(recognizer, expecting);
}||||||||/**
 * Make sure that the current lookahead symbol is consistent with
 * what were expecting at this point in the ATN.
 *
 * At the start of a sub rule upon error, sync() performs single
 * token deletion, if possible. If it can't do that, it bails
 * on the current rule and uses the default error recovery,
 * which consumes until the resynchronization set of the current rule.
 *
 * If the sub rule is optional, ()? or ()* or optional alternative,
 * then the expected set includes what follows the subrule.
 *
 * During loop iteration, it consumes until it sees a token that can
 * start a sub rule or what follows loop. Yes, that is pretty aggressive.
 * We opt to stay in the loop as long as possible.
 */
@Override
public void sync(BaseRecognizer recognizer) {
    ATNState s = recognizer._interp.atn.states.get(recognizer._ctx.s);
    // If already recovering, don't try to sync
    if (errorRecoveryMode)
        return;
    // TODO: CACHE THESE RESULTS!!
    IntervalSet expecting = getExpectedTokens(recognizer);
    // System.err.println("sync expecting: "+expecting);
    // TODO: subclass this class for treeparsers
    TokenStream tokens = (TokenStream) recognizer.getInputStream();
    Token la = tokens.LT(1);
    // Return but don't end recovery. only do that upon valid token match
    if (la.getType() == Token.EOF || expecting.contains(la.getType()))
        return;
    if (s instanceof PlusBlockStartState || s instanceof StarLoopEntryState || s instanceof BlockStartState) {
        // report error and recover if possible
        if (singleTokenDeletion(recognizer) != null)
            return;
        throw new InputMismatchException(recognizer);
    }
    if (s instanceof PlusLoopbackState || s instanceof StarLoopbackState) {
        // System.err.println("at loop back: "+s.getClass().getSimpleName());
        reportUnwantedToken(recognizer);
        consumeUntil(recognizer, expecting);
    }
// do nothing if we can identify the exact kind of ATN state
}||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			NameExpr
				SimpleName
			(ReturnStmt
			)
			LineComment
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
			LineComment
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(CastExpr
						(MethodCallExpr
							SimpleName
							NameExpr
								SimpleName
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
			LineComment
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						(IntegerLiteralExpr
						)
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					(FieldAccessExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(MethodCallExpr
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					NameExpr
						SimpleName
				)
			)
			(ReturnStmt
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
				SimpleName
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(MarkerAnnotationExpr
		Name
	)
	(JavadocComment
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						(FieldAccessExpr
							SimpleName
							(FieldAccessExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
						SimpleName
						(FieldAccessExpr
							SimpleName
							(FieldAccessExpr
								SimpleName
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
							)
						)
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			NameExpr
				SimpleName
			(ReturnStmt
			)
			LineComment
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
			LineComment
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(CastExpr
						(MethodCallExpr
							SimpleName
							NameExpr
								SimpleName
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
			LineComment
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						(IntegerLiteralExpr
						)
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					(FieldAccessExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(MethodCallExpr
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					NameExpr
						SimpleName
				)
			)
			(ReturnStmt
			)
			LineComment
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					(InstanceOfExpr
						NameExpr
							SimpleName
						(ClassOrInterfaceType
							SimpleName
						)
					)
					(InstanceOfExpr
						NameExpr
							SimpleName
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
				(InstanceOfExpr
					NameExpr
						SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
			(BlockStmt
				(IfStmt
					(BinaryExpr
						(MethodCallExpr
							NameExpr
								SimpleName
							SimpleName
						)
						NullLiteralExpr
					)
					(ReturnStmt
					)
					LineComment
				)
				(ThrowStmt
					(ObjectCreationExpr
						NameExpr
							SimpleName
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(InstanceOfExpr
					NameExpr
						SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
				(InstanceOfExpr
					NameExpr
						SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
					)
					LineComment
				)
				(ExpressionStmt
					(MethodCallExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
						SimpleName
					)
				)
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(MarkerAnnotationExpr
		Name
	)
	(JavadocComment
	)
)

