	public function edit($transLang = '', $langFile = '')
	{
		if ($langFile) {
            // Save the file...
            if (isset($_POST['save'])) {
                if (save_lang_file($langFile, $transLang, $_POST['lang'])) {
                    Template::set_message(lang('tr_save_success'), 'success');
                    redirect(SITE_AREA . "/developer/translate/index/{$transLang}");
                }

                Template::set_message(lang('tr_save_fail'), 'error');
            }

    		// Get the lang file
			$orig = load_lang_file($langFile, 'english');
			$new  = load_lang_file($langFile, $transLang);

			Template::set('orig', $orig);
			Template::set('new', $new);
			Template::set('lang_file', $langFile);
		}

		Template::set('trans_lang', $transLang);
		Template::set('toolbar_title', "{$langFile}: " . sprintf(lang('tr_translate_title'), ucfirst($transLang)));
		Template::render();
	}

	/**
	 * Export a set of files for a language
	 *
	 * @return void
	 */
||||||||	public function edit($transLang = '', $langFile = '')
	{
		$config =& get_config();
		$origLang = ( ! isset($config['language'])) ? 'english' : $config['language'];
		if ($langFile) {
			// Translate
			if (isset($_POST['translate']) && is_array($_POST['checked'])) {
				/* begin translate */
				$orig = load_lang_file($langFile, $origLang);
				$new = $orig;
				if ($transLang) {
					$this->load->library('translate_lib');
					$new  = load_lang_file($langFile, $transLang);
					$this->load->config('langcodes');
					$codes = $config['translate']['codes']['google'];
				}
				if (isset($_POST['lang']))
					foreach ($_POST['lang'] as $key=>$val) {
							$new[$key]=$val;
					}
				if ($transLang) {
					$transLangCode = isset($codes[$transLang])?$codes[$transLang]:'';
					$errcnt=0; $cnt=0; $chkd=array();
					foreach ($_POST['checked'] as $key) {
						$new[$key]='* '.$new[$key];
						$val = '';
						if ($transLangCode)
							$val=$this->translate_lib->setLang('en', $transLangCode)
								->translate($orig[$key]);
						if ($val) {
							$new[$key]=$val;
							$cnt+=1;
						}
						else {
							$errcnt+=1;
							$chkd[]=$key;
						}
						if ($errcnt>=5 && $cnt==0) break;
					}
					if ($errcnt==0)
						Template::set_message($cnt.' '.lang('tr_translate_success'), 'success');
					else if ($cnt>0)
						Template::set_message($cnt.' '.sprintf(lang('tr_translate_part_success'),$errcnt), 'info');
					else
						Template::set_message(lang('tr_translate_failed'), 'error');
				}
				Template::set('chkd', $chkd);
				Template::set('orig', $orig);
				Template::set('new', $new);
				Template::set('lang_file', $langFile);

				Template::set('orig_lang', $origLang);
				Template::set('trans_lang', $transLang);
				Template::set('toolbar_title', "{$langFile}: " . sprintf(lang('tr_translate_title'), ucfirst($transLang)));
				Template::render();
				return;
				/* end translate */
			}
			// Save the file...
			else if (isset($_POST['save'])) {
				if (save_lang_file($langFile, $transLang, $_POST['lang'])) {
					Template::set_message(lang('tr_save_success'), 'success');
					redirect(SITE_AREA . "/developer/translate/index/{$transLang}");
				}

				Template::set_message(lang('tr_save_fail'), 'error');
			}

			// Get the lang file
			$orig = load_lang_file($langFile, $origLang);
			$new  = load_lang_file($langFile, $transLang);

			Template::set('orig', $orig);
			Template::set('new', $new);
			Template::set('lang_file', $langFile);
		}

		Template::set('chkd', array());
		Template::set('orig_lang', $origLang);
		Template::set('trans_lang', $transLang);
		Template::set('toolbar_title', "{$langFile}: " . sprintf(lang('tr_translate_title'), ucfirst($transLang)));
		Template::render();
	}

	/**
	 * Export a set of files for a language
	 *
	 * @return void
	 */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_ISSET
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR)))
                        (
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_CALL
                                        (
                                            (AST_VAR)
                                            (AST_VAR)
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR))))
                                    (
                                        (AST_STATIC_CALL
                                            (
                                                (AST_CALL
                                                    (
                                                        (SCALAR)))
                                                (SCALAR)))
                                        (AST_CALL
                                            (
                                                (AST_BINARY_OP
                                                    (AST_CONST)
                                                    (AST_ENCAPS_LIST
                                                        (SCALAR)
                                                        (AST_VAR))))))))
                            (AST_STATIC_CALL
                                (
                                    (AST_CALL
                                        (
                                            (SCALAR)))
                                    (SCALAR))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR)
                            (SCALAR))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR)
                            (AST_VAR))))
                (AST_STATIC_CALL
                    (
                        (SCALAR)
                        (AST_VAR)))
                (AST_STATIC_CALL
                    (
                        (SCALAR)
                        (AST_VAR)))
                (AST_STATIC_CALL
                    (
                        (SCALAR)
                        (AST_VAR))))))
    (AST_STATIC_CALL
        (
            (SCALAR)
            (AST_VAR)))
    (AST_STATIC_CALL
        (
            (SCALAR)
            (AST_BINARY_OP
                (AST_ENCAPS_LIST
                    (AST_VAR)
                    (SCALAR))
                (AST_CALL
                    (
                        (AST_CALL
                            (
                                (SCALAR)))
                        (AST_CALL
                            (
                                (AST_VAR))))))))
    (AST_STATIC_CALL))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN_REF
        (AST_VAR)
        (AST_CALL))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONDITIONAL
            (AST_UNARY_OP
                (AST_ISSET
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))))
            (SCALAR)
            (AST_DIM
                (AST_VAR)
                (SCALAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR)))
                            (AST_CALL
                                (
                                    (AST_DIM
                                        (AST_VAR)
                                        (SCALAR)))))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (AST_VAR)
                                        (AST_VAR))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_VAR))
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_VAR)
                                    (
                                        (AST_METHOD_CALL
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (SCALAR)))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (AST_VAR)
                                                    (AST_VAR))))
                                        (AST_METHOD_CALL
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (SCALAR)))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_DIM
                                                (AST_DIM
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (SCALAR))
                                                (SCALAR))))))
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_ISSET
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR)))
                                    (
                                        (AST_FOREACH
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR))
                                            (AST_VAR)
                                            (AST_VAR)
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (AST_VAR))
                                                    (AST_VAR)))))))
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_VAR)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CONDITIONAL
                                                (AST_ISSET
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (AST_VAR)))
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (AST_VAR))
                                                (SCALAR)))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (SCALAR))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (SCALAR))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_ARRAY))
                                        (AST_FOREACH
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR))
                                            (AST_VAR)
                                            (NULL)
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (AST_VAR))
                                                    (AST_BINARY_OP
                                                        (SCALAR)
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (AST_VAR))))
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_VAR)
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_VAR)
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (
                                                                            (SCALAR)
                                                                            (AST_VAR)))
                                                                    (
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR))))))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_VAR)
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (AST_VAR))
                                                                (AST_VAR))
                                                            (AST_ASSIGN_OP
                                                                (AST_VAR)
                                                                (SCALAR))))
                                                    (AST_IF_ELEM
                                                        (NULL)
                                                        (
                                                            (AST_ASSIGN_OP
                                                                (AST_VAR)
                                                                (SCALAR))
                                                            (AST_ASSIGN
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (NULL))
                                                                (AST_VAR)))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_BINARY_OP
                                                            (AST_BINARY_OP
                                                                (AST_VAR)
                                                                (SCALAR))
                                                            (AST_BINARY_OP
                                                                (AST_VAR)
                                                                (SCALAR)))
                                                        (
                                                            (AST_BREAK
                                                                (NULL)))))))
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_BINARY_OP
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (
                                                    (AST_STATIC_CALL
                                                        (
                                                            (AST_BINARY_OP
                                                                (AST_BINARY_OP
                                                                    (AST_VAR)
                                                                    (SCALAR))
                                                                (AST_CALL
                                                                    (
                                                                        (SCALAR))))
                                                            (SCALAR)))))
                                            (AST_IF_ELEM
                                                (NULL)
                                                (
                                                    (AST_IF
                                                        (AST_IF_ELEM
                                                            (AST_BINARY_OP
                                                                (AST_VAR)
                                                                (SCALAR))
                                                            (
                                                                (AST_STATIC_CALL
                                                                    (
                                                                        (AST_BINARY_OP
                                                                            (AST_BINARY_OP
                                                                                (AST_VAR)
                                                                                (SCALAR))
                                                                            (AST_CALL
                                                                                (
                                                                                    (AST_CALL
                                                                                        (
                                                                                            (SCALAR)))
                                                                                    (AST_VAR))))
                                                                        (SCALAR)))))
                                                        (AST_IF_ELEM
                                                            (NULL)
                                                            (
                                                                (AST_STATIC_CALL
                                                                    (
                                                                        (AST_CALL
                                                                            (
                                                                                (SCALAR)))
                                                                        (SCALAR))))))))))))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR)))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR)))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR)))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR)))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR)))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR)))
                            (AST_STATIC_CALL
                                (
                                    (SCALAR)
                                    (AST_BINARY_OP
                                        (AST_ENCAPS_LIST
                                            (AST_VAR)
                                            (SCALAR))
                                        (AST_CALL
                                            (
                                                (AST_CALL
                                                    (
                                                        (SCALAR)))
                                                (AST_CALL
                                                    (
                                                        (AST_VAR))))))))
                            (AST_STATIC_CALL)
                            (AST_RETURN
                                (NULL))))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_ISSET
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR)))
                                    (
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_CALL
                                                    (
                                                        (AST_VAR)
                                                        (AST_VAR)
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (SCALAR))))
                                                (
                                                    (AST_STATIC_CALL
                                                        (
                                                            (AST_CALL
                                                                (
                                                                    (SCALAR)))
                                                            (SCALAR)))
                                                    (AST_CALL
                                                        (
                                                            (AST_BINARY_OP
                                                                (AST_CONST)
                                                                (AST_ENCAPS_LIST
                                                                    (SCALAR)
                                                                    (AST_VAR))))))))
                                        (AST_STATIC_CALL
                                            (
                                                (AST_CALL
                                                    (
                                                        (SCALAR)))
                                                (SCALAR)))))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR)
                            (AST_VAR))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR)
                            (AST_VAR))))
                (AST_STATIC_CALL
                    (
                        (SCALAR)
                        (AST_VAR)))
                (AST_STATIC_CALL
                    (
                        (SCALAR)
                        (AST_VAR)))
                (AST_STATIC_CALL
                    (
                        (SCALAR)
                        (AST_VAR))))))
    (AST_STATIC_CALL
        (
            (SCALAR)
            (AST_ARRAY)))
    (AST_STATIC_CALL
        (
            (SCALAR)
            (AST_VAR)))
    (AST_STATIC_CALL
        (
            (SCALAR)
            (AST_VAR)))
    (AST_STATIC_CALL
        (
            (SCALAR)
            (AST_BINARY_OP
                (AST_ENCAPS_LIST
                    (AST_VAR)
                    (SCALAR))
                (AST_CALL
                    (
                        (AST_CALL
                            (
                                (SCALAR)))
                        (AST_CALL
                            (
                                (AST_VAR))))))))
    (AST_STATIC_CALL))