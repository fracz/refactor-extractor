	public function index()
	{
		Piwik::checkUserHasViewAccess($this->idSite);

		$template = 'index';
		if (Piwik_Config::getInstance()->General['overlay_disable_framed_mode']) {
			$template = 'index_noframe';
		}

		$view = Piwik_View::factory($template);
		$view->idSite = $this->idSite;
		$view->date = Piwik_Common::getRequestVar('date', 'today');
		$view->period = Piwik_Common::getRequestVar('period', 'day');

		// the % signs in the encoded url have been replaced with $ to make sure that
		// browsers can't break the exact encoding. we need to reverse this here.
		// see javascript Piwik_Overlay.setCurrentUrl()
		$url = Piwik_Common::getRequestVar('overlayUrl', '');
		$url = urldecode(str_replace('$', '%', $url));
		$view->targetUrl = $url;

		echo $view->render();
	}

	/** Render the area left of the iframe */
||||||||	public function index()
	{
		Piwik::checkUserHasViewAccess($this->idSite);

		$template = 'index';
		if (Piwik_Config::getInstance()->General['overlay_disable_framed_mode']) {
			$template = 'index_noframe';
		}

		$view = Piwik_View::factory($template);
		$view->idSite = $this->idSite;
		$view->date = Piwik_Common::getRequestVar('date', 'today');
		$view->period = Piwik_Common::getRequestVar('period', 'day');

		// the % signs in the encoded url have been replaced with $ to make sure that
		// browsers can't break the exact encoding. we need to reverse this here.
		// see javascript Piwik_Overlay.setCurrentUrl()
		$url = Piwik_Common::getRequestVar('overlayUrl', '');
		$url = urldecode(str_replace('$', '%', $url));
		$view->targetUrl = $url;

		$view->ssl = $this->usingSsl();

		echo $view->render();
	}

	/** Render the area left of the iframe */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_STATIC_CALL
        (
            (AST_PROP
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (SCALAR))
    (AST_IF
        (AST_IF_ELEM
            (AST_DIM
                (AST_PROP
                    (AST_STATIC_CALL))
                (SCALAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_PROP
            (AST_VAR)))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_STATIC_CALL
            (
                (SCALAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_STATIC_CALL
            (
                (SCALAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (SCALAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_CALL
                    (
                        (SCALAR)
                        (SCALAR)
                        (AST_VAR))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_ECHO
        (AST_METHOD_CALL
            (AST_VAR))))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_STATIC_CALL
        (
            (AST_PROP
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (SCALAR))
    (AST_IF
        (AST_IF_ELEM
            (AST_DIM
                (AST_PROP
                    (AST_STATIC_CALL))
                (SCALAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_PROP
            (AST_VAR)))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_STATIC_CALL
            (
                (SCALAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_STATIC_CALL
            (
                (SCALAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (SCALAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_CALL
                    (
                        (SCALAR)
                        (SCALAR)
                        (AST_VAR))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_ECHO
        (AST_METHOD_CALL
            (AST_VAR))))