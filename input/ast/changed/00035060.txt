  public function testWhiteSpaceAtLineEndingIsEncoded()
  {
    /* -- RFC 2045, 6.7 --
    (3)   (White Space) Octets with values of 9 and 32 MAY be
          represented as US-ASCII TAB (HT) and SPACE characters,
          respectively, but MUST NOT be so represented at the end
          of an encoded line.  Any TAB (HT) or SPACE characters
          on an encoded line MUST thus be followed on that line
          by a printable character.  In particular, an "=" at the
          end of an encoded line, indicating a soft line break
          (see rule #5) may follow one or more TAB (HT) or SPACE
          characters.  It follows that an octet with decimal
          value 9 or 32 appearing at the end of an encoded line
          must be represented according to Rule #1.  This rule is
          necessary because some MTAs (Message Transport Agents,
          programs which transport messages from one user to
          another, or perform a portion of such transfers) are
          known to pad lines of text with SPACEs, and others are
          known to remove "white space" characters from the end
          of a line.  Therefore, when decoding a Quoted-Printable
          body, any trailing white space on a line must be
          deleted, as it will necessarily have been added by
          intermediate transport agents.
          */

    $context = new Mockery();

    $HT = chr(0x09); //9
    $SPACE = chr(0x20); //32

    //HT
    $string = 'a' . $HT . $HT . "\r\n" . 'b';

    $seq = $context->sequence('byte-sequence');
    $charStream = $context->mock('Swift_CharacterStream');
    $context->checking(Expectations::create()
      -> one($charStream)->flushContents()
      -> one($charStream)->importString($string)
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('a')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x09))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x09))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0D))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0A))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('b')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(false)
      );

    $encoder = new Swift_Encoder_QpEncoder($charStream);
    $this->assertEqual(
      'a' . $HT . '=09' . "\r\n" . 'b',
      $encoder->encodeString($string)
      );

    //SPACE
    $string = 'a' . $SPACE . $SPACE . "\r\n" . 'b';

    $seq = $context->sequence('byte-sequence');
    $charStream = $context->mock('Swift_CharacterStream');
    $context->checking(Expectations::create()
      -> one($charStream)->flushContents()
      -> one($charStream)->importString($string)
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('a')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x20))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x20))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0D))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0A))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('b')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(false)
      );

    $encoder = new Swift_Encoder_QpEncoder($charStream);
    $this->assertEqual(
      'a' . $SPACE . '=20' . "\r\n" . 'b',
      $encoder->encodeString($string)
      );

    $context->assertIsSatisfied();
  }

||||||||  public function testWhiteSpaceAtLineEndingIsEncoded()
  {
    /* -- RFC 2045, 6.7 --
    (3)   (White Space) Octets with values of 9 and 32 MAY be
          represented as US-ASCII TAB (HT) and SPACE characters,
          respectively, but MUST NOT be so represented at the end
          of an encoded line.  Any TAB (HT) or SPACE characters
          on an encoded line MUST thus be followed on that line
          by a printable character.  In particular, an "=" at the
          end of an encoded line, indicating a soft line break
          (see rule #5) may follow one or more TAB (HT) or SPACE
          characters.  It follows that an octet with decimal
          value 9 or 32 appearing at the end of an encoded line
          must be represented according to Rule #1.  This rule is
          necessary because some MTAs (Message Transport Agents,
          programs which transport messages from one user to
          another, or perform a portion of such transfers) are
          known to pad lines of text with SPACEs, and others are
          known to remove "white space" characters from the end
          of a line.  Therefore, when decoding a Quoted-Printable
          body, any trailing white space on a line must be
          deleted, as it will necessarily have been added by
          intermediate transport agents.
          */

    $HT = chr(0x09); //9
    $SPACE = chr(0x20); //32

    //HT
    $string = 'a' . $HT . $HT . "\r\n" . 'b';

    $seq = $this->_mockery()->sequence('byte-sequence');
    $charStream = $this->_createCharStream();
    $this->_mockery()->checking(Expectations::create()
      -> one($charStream)->flushContents()
      -> one($charStream)->importString($string)
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('a')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x09))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x09))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0D))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0A))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('b')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(false)
      );

    $encoder = new Swift_Encoder_QpEncoder($charStream);
    $this->assertEqual(
      'a' . $HT . '=09' . "\r\n" . 'b',
      $encoder->encodeString($string)
      );

    //SPACE
    $string = 'a' . $SPACE . $SPACE . "\r\n" . 'b';

    $seq = $this->_mockery()->sequence('byte-sequence');
    $charStream = $this->_createCharStream();
    $this->_mockery()->checking(Expectations::create()
      -> one($charStream)->flushContents()
      -> one($charStream)->importString($string)
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('a')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x20))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x20))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0D))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(0x0A))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(array(ord('b')))
      -> one($charStream)->readBytes(optional()) -> inSequence($seq) -> returns(false)
      );

    $encoder = new Swift_Encoder_QpEncoder($charStream);
    $this->assertEqual(
      'a' . $SPACE . '=20' . "\r\n" . 'b',
      $encoder->encodeString($string)
      );
  }

||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (SCALAR)
                        (AST_VAR))
                    (AST_VAR))
                (SCALAR))
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_METHOD_CALL
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_METHOD_CALL
                                                                            (AST_METHOD_CALL
                                                                                (AST_METHOD_CALL
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_METHOD_CALL
                                                                                            (AST_METHOD_CALL
                                                                                                (AST_METHOD_CALL
                                                                                                    (AST_METHOD_CALL
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_METHOD_CALL
                                                                                                                (AST_METHOD_CALL
                                                                                                                    (AST_METHOD_CALL
                                                                                                                        (AST_METHOD_CALL
                                                                                                                            (AST_METHOD_CALL
                                                                                                                                (AST_METHOD_CALL
                                                                                                                                    (AST_METHOD_CALL
                                                                                                                                        (AST_METHOD_CALL
                                                                                                                                            (AST_STATIC_CALL)
                                                                                                                                            (
                                                                                                                                                (AST_VAR))))
                                                                                                                                    (
                                                                                                                                        (AST_VAR)))
                                                                                                                                (
                                                                                                                                    (AST_VAR)))
                                                                                                                            (
                                                                                                                                (AST_VAR)))
                                                                                                                        (
                                                                                                                            (AST_CALL)))
                                                                                                                    (
                                                                                                                        (AST_VAR)))
                                                                                                                (
                                                                                                                    (AST_ARRAY
                                                                                                                        (AST_ARRAY_ELEM
                                                                                                                            (AST_CALL
                                                                                                                                (
                                                                                                                                    (SCALAR)))
                                                                                                                            (NULL)))))
                                                                                                            (
                                                                                                                (AST_VAR)))
                                                                                                        (
                                                                                                            (AST_CALL)))
                                                                                                    (
                                                                                                        (AST_VAR)))
                                                                                                (
                                                                                                    (AST_ARRAY
                                                                                                        (AST_ARRAY_ELEM
                                                                                                            (SCALAR)
                                                                                                            (NULL)))))
                                                                                            (
                                                                                                (AST_VAR)))
                                                                                        (
                                                                                            (AST_CALL)))
                                                                                    (
                                                                                        (AST_VAR)))
                                                                                (
                                                                                    (AST_ARRAY
                                                                                        (AST_ARRAY_ELEM
                                                                                            (SCALAR)
                                                                                            (NULL)))))
                                                                            (
                                                                                (AST_VAR)))
                                                                        (
                                                                            (AST_CALL)))
                                                                    (
                                                                        (AST_VAR)))
                                                                (
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL)))))
                                                            (
                                                                (AST_VAR)))
                                                        (
                                                            (AST_CALL)))
                                                    (
                                                        (AST_VAR)))
                                                (
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (SCALAR)
                                                            (NULL)))))
                                            (
                                                (AST_VAR)))
                                        (
                                            (AST_CALL)))
                                    (
                                        (AST_VAR)))
                                (
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_CALL
                                                (
                                                    (SCALAR)))
                                            (NULL)))))
                            (
                                (AST_VAR)))
                        (
                            (AST_CALL)))
                    (
                        (AST_VAR)))
                (
                    (AST_CONST)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (SCALAR)
                            (AST_VAR))
                        (SCALAR))
                    (SCALAR))
                (SCALAR))
            (AST_METHOD_CALL
                (AST_VAR)
                (
                    (AST_VAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (SCALAR)
                        (AST_VAR))
                    (AST_VAR))
                (SCALAR))
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_METHOD_CALL
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_METHOD_CALL
                                                                            (AST_METHOD_CALL
                                                                                (AST_METHOD_CALL
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_METHOD_CALL
                                                                                            (AST_METHOD_CALL
                                                                                                (AST_METHOD_CALL
                                                                                                    (AST_METHOD_CALL
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_METHOD_CALL
                                                                                                                (AST_METHOD_CALL
                                                                                                                    (AST_METHOD_CALL
                                                                                                                        (AST_METHOD_CALL
                                                                                                                            (AST_METHOD_CALL
                                                                                                                                (AST_METHOD_CALL
                                                                                                                                    (AST_METHOD_CALL
                                                                                                                                        (AST_METHOD_CALL
                                                                                                                                            (AST_STATIC_CALL)
                                                                                                                                            (
                                                                                                                                                (AST_VAR))))
                                                                                                                                    (
                                                                                                                                        (AST_VAR)))
                                                                                                                                (
                                                                                                                                    (AST_VAR)))
                                                                                                                            (
                                                                                                                                (AST_VAR)))
                                                                                                                        (
                                                                                                                            (AST_CALL)))
                                                                                                                    (
                                                                                                                        (AST_VAR)))
                                                                                                                (
                                                                                                                    (AST_ARRAY
                                                                                                                        (AST_ARRAY_ELEM
                                                                                                                            (AST_CALL
                                                                                                                                (
                                                                                                                                    (SCALAR)))
                                                                                                                            (NULL)))))
                                                                                                            (
                                                                                                                (AST_VAR)))
                                                                                                        (
                                                                                                            (AST_CALL)))
                                                                                                    (
                                                                                                        (AST_VAR)))
                                                                                                (
                                                                                                    (AST_ARRAY
                                                                                                        (AST_ARRAY_ELEM
                                                                                                            (SCALAR)
                                                                                                            (NULL)))))
                                                                                            (
                                                                                                (AST_VAR)))
                                                                                        (
                                                                                            (AST_CALL)))
                                                                                    (
                                                                                        (AST_VAR)))
                                                                                (
                                                                                    (AST_ARRAY
                                                                                        (AST_ARRAY_ELEM
                                                                                            (SCALAR)
                                                                                            (NULL)))))
                                                                            (
                                                                                (AST_VAR)))
                                                                        (
                                                                            (AST_CALL)))
                                                                    (
                                                                        (AST_VAR)))
                                                                (
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL)))))
                                                            (
                                                                (AST_VAR)))
                                                        (
                                                            (AST_CALL)))
                                                    (
                                                        (AST_VAR)))
                                                (
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (SCALAR)
                                                            (NULL)))))
                                            (
                                                (AST_VAR)))
                                        (
                                            (AST_CALL)))
                                    (
                                        (AST_VAR)))
                                (
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_CALL
                                                (
                                                    (SCALAR)))
                                            (NULL)))))
                            (
                                (AST_VAR)))
                        (
                            (AST_CALL)))
                    (
                        (AST_VAR)))
                (
                    (AST_CONST)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (SCALAR)
                            (AST_VAR))
                        (SCALAR))
                    (SCALAR))
                (SCALAR))
            (AST_METHOD_CALL
                (AST_VAR)
                (
                    (AST_VAR)))))
    (AST_METHOD_CALL
        (AST_VAR)))||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (SCALAR)
                        (AST_VAR))
                    (AST_VAR))
                (SCALAR))
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_VAR))
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_VAR))
        (
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_METHOD_CALL
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_METHOD_CALL
                                                                            (AST_METHOD_CALL
                                                                                (AST_METHOD_CALL
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_METHOD_CALL
                                                                                            (AST_METHOD_CALL
                                                                                                (AST_METHOD_CALL
                                                                                                    (AST_METHOD_CALL
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_METHOD_CALL
                                                                                                                (AST_METHOD_CALL
                                                                                                                    (AST_METHOD_CALL
                                                                                                                        (AST_METHOD_CALL
                                                                                                                            (AST_METHOD_CALL
                                                                                                                                (AST_METHOD_CALL
                                                                                                                                    (AST_METHOD_CALL
                                                                                                                                        (AST_METHOD_CALL
                                                                                                                                            (AST_STATIC_CALL)
                                                                                                                                            (
                                                                                                                                                (AST_VAR))))
                                                                                                                                    (
                                                                                                                                        (AST_VAR)))
                                                                                                                                (
                                                                                                                                    (AST_VAR)))
                                                                                                                            (
                                                                                                                                (AST_VAR)))
                                                                                                                        (
                                                                                                                            (AST_CALL)))
                                                                                                                    (
                                                                                                                        (AST_VAR)))
                                                                                                                (
                                                                                                                    (AST_ARRAY
                                                                                                                        (AST_ARRAY_ELEM
                                                                                                                            (AST_CALL
                                                                                                                                (
                                                                                                                                    (SCALAR)))
                                                                                                                            (NULL)))))
                                                                                                            (
                                                                                                                (AST_VAR)))
                                                                                                        (
                                                                                                            (AST_CALL)))
                                                                                                    (
                                                                                                        (AST_VAR)))
                                                                                                (
                                                                                                    (AST_ARRAY
                                                                                                        (AST_ARRAY_ELEM
                                                                                                            (SCALAR)
                                                                                                            (NULL)))))
                                                                                            (
                                                                                                (AST_VAR)))
                                                                                        (
                                                                                            (AST_CALL)))
                                                                                    (
                                                                                        (AST_VAR)))
                                                                                (
                                                                                    (AST_ARRAY
                                                                                        (AST_ARRAY_ELEM
                                                                                            (SCALAR)
                                                                                            (NULL)))))
                                                                            (
                                                                                (AST_VAR)))
                                                                        (
                                                                            (AST_CALL)))
                                                                    (
                                                                        (AST_VAR)))
                                                                (
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL)))))
                                                            (
                                                                (AST_VAR)))
                                                        (
                                                            (AST_CALL)))
                                                    (
                                                        (AST_VAR)))
                                                (
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (SCALAR)
                                                            (NULL)))))
                                            (
                                                (AST_VAR)))
                                        (
                                            (AST_CALL)))
                                    (
                                        (AST_VAR)))
                                (
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_CALL
                                                (
                                                    (SCALAR)))
                                            (NULL)))))
                            (
                                (AST_VAR)))
                        (
                            (AST_CALL)))
                    (
                        (AST_VAR)))
                (
                    (AST_CONST)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (SCALAR)
                            (AST_VAR))
                        (SCALAR))
                    (SCALAR))
                (SCALAR))
            (AST_METHOD_CALL
                (AST_VAR)
                (
                    (AST_VAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (SCALAR)
                        (AST_VAR))
                    (AST_VAR))
                (SCALAR))
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_VAR))
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_VAR))
        (
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_METHOD_CALL
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_METHOD_CALL
                                                                            (AST_METHOD_CALL
                                                                                (AST_METHOD_CALL
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_METHOD_CALL
                                                                                            (AST_METHOD_CALL
                                                                                                (AST_METHOD_CALL
                                                                                                    (AST_METHOD_CALL
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_METHOD_CALL
                                                                                                                (AST_METHOD_CALL
                                                                                                                    (AST_METHOD_CALL
                                                                                                                        (AST_METHOD_CALL
                                                                                                                            (AST_METHOD_CALL
                                                                                                                                (AST_METHOD_CALL
                                                                                                                                    (AST_METHOD_CALL
                                                                                                                                        (AST_METHOD_CALL
                                                                                                                                            (AST_STATIC_CALL)
                                                                                                                                            (
                                                                                                                                                (AST_VAR))))
                                                                                                                                    (
                                                                                                                                        (AST_VAR)))
                                                                                                                                (
                                                                                                                                    (AST_VAR)))
                                                                                                                            (
                                                                                                                                (AST_VAR)))
                                                                                                                        (
                                                                                                                            (AST_CALL)))
                                                                                                                    (
                                                                                                                        (AST_VAR)))
                                                                                                                (
                                                                                                                    (AST_ARRAY
                                                                                                                        (AST_ARRAY_ELEM
                                                                                                                            (AST_CALL
                                                                                                                                (
                                                                                                                                    (SCALAR)))
                                                                                                                            (NULL)))))
                                                                                                            (
                                                                                                                (AST_VAR)))
                                                                                                        (
                                                                                                            (AST_CALL)))
                                                                                                    (
                                                                                                        (AST_VAR)))
                                                                                                (
                                                                                                    (AST_ARRAY
                                                                                                        (AST_ARRAY_ELEM
                                                                                                            (SCALAR)
                                                                                                            (NULL)))))
                                                                                            (
                                                                                                (AST_VAR)))
                                                                                        (
                                                                                            (AST_CALL)))
                                                                                    (
                                                                                        (AST_VAR)))
                                                                                (
                                                                                    (AST_ARRAY
                                                                                        (AST_ARRAY_ELEM
                                                                                            (SCALAR)
                                                                                            (NULL)))))
                                                                            (
                                                                                (AST_VAR)))
                                                                        (
                                                                            (AST_CALL)))
                                                                    (
                                                                        (AST_VAR)))
                                                                (
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL)))))
                                                            (
                                                                (AST_VAR)))
                                                        (
                                                            (AST_CALL)))
                                                    (
                                                        (AST_VAR)))
                                                (
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (SCALAR)
                                                            (NULL)))))
                                            (
                                                (AST_VAR)))
                                        (
                                            (AST_CALL)))
                                    (
                                        (AST_VAR)))
                                (
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_CALL
                                                (
                                                    (SCALAR)))
                                            (NULL)))))
                            (
                                (AST_VAR)))
                        (
                            (AST_CALL)))
                    (
                        (AST_VAR)))
                (
                    (AST_CONST)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (SCALAR)
                            (AST_VAR))
                        (SCALAR))
                    (SCALAR))
                (SCALAR))
            (AST_METHOD_CALL
                (AST_VAR)
                (
                    (AST_VAR))))))