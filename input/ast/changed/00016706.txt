	public function init() {
		if (!isset($this->attrs->server['FR_PATH'])) {
			$this->status(404);
			$this->finish();
			return;
		}
		$req = $this;
		$job = new ComplexJob(function($job) use ($req) {
			$req->wakeup();
		});
		$this->job = $job;
		$this->sleep(1, true);
		$req->attrs->server['FR_PATH'] = FS::sanitizePath($req->attrs->server['FR_PATH']);
		$job('stat', function($name, $job) use ($req) {
			FS::stat($req->attrs->server['FR_PATH'], function($path, $stat) use ($job, $req) {
				if ($stat === -1) {
					$req->fileNotFound();
					$job->setResult('stat', false);
					return;
				}
				if ($stat['type'] === 'd') {
					$job('readdir', function ($name, $job) use ($path, $req) {
						FS::readdir(rtrim($path,'/'), function ($path, $dir) use ($job, $req) {
							$found = false;
							if (is_array($dir)) {
								foreach ($dir['dents'] as $file) {
									if ($file['type'] === EIO_DT_REG) { // is file
										if (in_array($file['name'], $req->appInstance->indexFiles)) {
											$req->file($path . '/' . $file['name']);
											$found = true;
											break;
										}
									}
								}
							}
							if (!$found) {
								if (isset($req->attrs->server['FR_AUTOINDEX']) && $req->attrs->server['FR_AUTOINDEX']) {
									$req->autoindex($path, $dir);
								} else {
									$req->fileNotFound();
								}
							}
							$job->setResult('readdir');
						},  EIO_READDIR_STAT_ORDER | EIO_READDIR_DENTS);
					});
				} elseif ($stat['type'] == 'f') {
					$req->file($path);
				}
				$job->setResult('stat', $stat);
			});
		});
		$job();
	}
||||||||	public function init() {
		if (!isset($this->attrs->server['FR_PATH'])) {
			$this->status(404);
			$this->finish();
			return;
		}
		$req = $this;
		$job = new ComplexJob(function($job) use ($req) {
			$req->wakeup();
		});
		$this->job = $job;
		$this->sleep(5, true);
		$req->attrs->server['FR_PATH'] = FS::sanitizePath($req->attrs->server['FR_PATH']);
		$job('stat', function($name, $job) use ($req) {
			FS::stat($req->attrs->server['FR_PATH'], function($path, $stat) use ($job, $req) {
				if ($stat === -1) {
					$req->fileNotFound();
					$job->setResult('stat', false);
					return;
				}
				if ($stat['type'] === 'd') {
					if (!FS::$supported) {
						$req->file(rtrim($path,'/') . '/index.html');
					}
					else $job('readdir', function ($name, $job) use ($path, $req) {
						FS::readdir(rtrim($path,'/'), function ($path, $dir) use ($job, $req) {
							$found = false;
							if (is_array($dir)) {
								foreach ($dir['dents'] as $file) {
									if ($file['type'] === EIO_DT_REG) { // is file
										if (in_array($file['name'], $req->appInstance->indexFiles)) {
											$req->file($path . '/' . $file['name']);
											$found = true;
											break;
										}
									}
								}
							}
							if (!$found) {
								if (isset($req->attrs->server['FR_AUTOINDEX']) && $req->attrs->server['FR_AUTOINDEX']) {
									$req->autoindex($path, $dir);
								} else {
									$req->fileNotFound();
								}
							}
							$job->setResult('readdir');
						},  EIO_READDIR_STAT_ORDER | EIO_READDIR_DENTS);
					});
				} elseif ($stat['type'] == 'f') {
					$req->file($path);
				}
				$job->setResult('stat', $stat);
			});
		});
		$job();
	}
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_ISSET
                    (AST_DIM
                        (AST_PROP
                            (AST_PROP
                                (AST_VAR)))
                        (SCALAR))))
            (
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR)))
                (AST_METHOD_CALL
                    (AST_VAR))
                (AST_RETURN
                    (NULL)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_CLOSURE
                    (NO_PARAM_TYPENO_PARAM_DEFAULT)
                    (AST_CLOSURE_USES
                        (AST_CLOSURE_VAR))
                    (
                        (AST_METHOD_CALL
                            (AST_VAR)))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_ASSIGN
        (AST_DIM
            (AST_PROP
                (AST_PROP
                    (AST_VAR)))
            (SCALAR))
        (AST_STATIC_CALL
            (
                (AST_DIM
                    (AST_PROP
                        (AST_PROP
                            (AST_VAR)))
                    (SCALAR)))))
    (AST_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CLOSURE
                (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                (AST_CLOSURE_USES
                    (AST_CLOSURE_VAR))
                (
                    (AST_STATIC_CALL
                        (
                            (AST_DIM
                                (AST_PROP
                                    (AST_PROP
                                        (AST_VAR)))
                                (SCALAR))
                            (AST_CLOSURE
                                (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                                (AST_CLOSURE_USES
                                    (AST_CLOSURE_VAR)
                                    (AST_CLOSURE_VAR))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_UNARY_OP
                                                    (SCALAR)))
                                            (
                                                (AST_METHOD_CALL
                                                    (AST_VAR))
                                                (AST_METHOD_CALL
                                                    (AST_VAR)
                                                    (
                                                        (SCALAR)
                                                        (AST_CONST)))
                                                (AST_RETURN
                                                    (NULL)))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (SCALAR))
                                            (
                                                (AST_CALL
                                                    (AST_VAR)
                                                    (
                                                        (SCALAR)
                                                        (AST_CLOSURE
                                                            (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                                                            (AST_CLOSURE_USES
                                                                (AST_CLOSURE_VAR)
                                                                (AST_CLOSURE_VAR))
                                                            (
                                                                (AST_STATIC_CALL
                                                                    (
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_VAR)
                                                                                (SCALAR)))
                                                                        (AST_CLOSURE
                                                                            (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                                                                            (AST_CLOSURE_USES
                                                                                (AST_CLOSURE_VAR)
                                                                                (AST_CLOSURE_VAR))
                                                                            (
                                                                                (AST_ASSIGN
                                                                                    (AST_VAR)
                                                                                    (AST_CONST))
                                                                                (AST_IF
                                                                                    (AST_IF_ELEM
                                                                                        (AST_CALL
                                                                                            (
                                                                                                (AST_VAR)))
                                                                                        (
                                                                                            (AST_FOREACH
                                                                                                (AST_DIM
                                                                                                    (AST_VAR)
                                                                                                    (SCALAR))
                                                                                                (AST_VAR)
                                                                                                (NULL)
                                                                                                (
                                                                                                    (AST_IF
                                                                                                        (AST_IF_ELEM
                                                                                                            (AST_BINARY_OP
                                                                                                                (AST_DIM
                                                                                                                    (AST_VAR)
                                                                                                                    (SCALAR))
                                                                                                                (AST_CONST))
                                                                                                            (
                                                                                                                (AST_IF
                                                                                                                    (AST_IF_ELEM
                                                                                                                        (AST_CALL
                                                                                                                            (
                                                                                                                                (AST_DIM
                                                                                                                                    (AST_VAR)
                                                                                                                                    (SCALAR))
                                                                                                                                (AST_PROP
                                                                                                                                    (AST_PROP
                                                                                                                                        (AST_VAR)))))
                                                                                                                        (
                                                                                                                            (AST_METHOD_CALL
                                                                                                                                (AST_VAR)
                                                                                                                                (
                                                                                                                                    (AST_BINARY_OP
                                                                                                                                        (AST_BINARY_OP
                                                                                                                                            (AST_VAR)
                                                                                                                                            (SCALAR))
                                                                                                                                        (AST_DIM
                                                                                                                                            (AST_VAR)
                                                                                                                                            (SCALAR)))))
                                                                                                                            (AST_ASSIGN
                                                                                                                                (AST_VAR)
                                                                                                                                (AST_CONST))
                                                                                                                            (AST_BREAK
                                                                                                                                (NULL)))))))))))))
                                                                                (AST_IF
                                                                                    (AST_IF_ELEM
                                                                                        (AST_UNARY_OP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (AST_IF
                                                                                                (AST_IF_ELEM
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_ISSET
                                                                                                            (AST_DIM
                                                                                                                (AST_PROP
                                                                                                                    (AST_PROP
                                                                                                                        (AST_VAR)))
                                                                                                                (SCALAR)))
                                                                                                        (AST_DIM
                                                                                                            (AST_PROP
                                                                                                                (AST_PROP
                                                                                                                    (AST_VAR)))
                                                                                                            (SCALAR)))
                                                                                                    (
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_VAR)
                                                                                                            (
                                                                                                                (AST_VAR)
                                                                                                                (AST_VAR)))))
                                                                                                (AST_IF_ELEM
                                                                                                    (NULL)
                                                                                                    (
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_VAR))))))))
                                                                                (AST_METHOD_CALL
                                                                                    (AST_VAR)
                                                                                    (
                                                                                        (SCALAR)))))
                                                                        (AST_BINARY_OP
                                                                            (AST_CONST)
                                                                            (AST_CONST))))))))))
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (SCALAR))
                                            (
                                                (AST_METHOD_CALL
                                                    (AST_VAR)
                                                    (
                                                        (AST_VAR))))))
                                    (AST_METHOD_CALL
                                        (AST_VAR)
                                        (
                                            (SCALAR)
                                            (AST_VAR)))))))))))
    (AST_CALL
        (AST_VAR)))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_ISSET
                    (AST_DIM
                        (AST_PROP
                            (AST_PROP
                                (AST_VAR)))
                        (SCALAR))))
            (
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR)))
                (AST_METHOD_CALL
                    (AST_VAR))
                (AST_RETURN
                    (NULL)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_CLOSURE
                    (NO_PARAM_TYPENO_PARAM_DEFAULT)
                    (AST_CLOSURE_USES
                        (AST_CLOSURE_VAR))
                    (
                        (AST_METHOD_CALL
                            (AST_VAR)))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_ASSIGN
        (AST_DIM
            (AST_PROP
                (AST_PROP
                    (AST_VAR)))
            (SCALAR))
        (AST_STATIC_CALL
            (
                (AST_DIM
                    (AST_PROP
                        (AST_PROP
                            (AST_VAR)))
                    (SCALAR)))))
    (AST_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CLOSURE
                (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                (AST_CLOSURE_USES
                    (AST_CLOSURE_VAR))
                (
                    (AST_STATIC_CALL
                        (
                            (AST_DIM
                                (AST_PROP
                                    (AST_PROP
                                        (AST_VAR)))
                                (SCALAR))
                            (AST_CLOSURE
                                (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                                (AST_CLOSURE_USES
                                    (AST_CLOSURE_VAR)
                                    (AST_CLOSURE_VAR))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_UNARY_OP
                                                    (SCALAR)))
                                            (
                                                (AST_METHOD_CALL
                                                    (AST_VAR))
                                                (AST_METHOD_CALL
                                                    (AST_VAR)
                                                    (
                                                        (SCALAR)
                                                        (AST_CONST)))
                                                (AST_RETURN
                                                    (NULL)))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (SCALAR))
                                            (
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_UNARY_OP
                                                            (AST_STATIC_PROP))
                                                        (
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)
                                                                (
                                                                    (AST_BINARY_OP
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_VAR)
                                                                                (SCALAR)))
                                                                        (SCALAR))))))
                                                    (AST_IF_ELEM
                                                        (NULL)
                                                        (
                                                            (AST_CALL
                                                                (AST_VAR)
                                                                (
                                                                    (SCALAR)
                                                                    (AST_CLOSURE
                                                                        (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                                                                        (AST_CLOSURE_USES
                                                                            (AST_CLOSURE_VAR)
                                                                            (AST_CLOSURE_VAR))
                                                                        (
                                                                            (AST_STATIC_CALL
                                                                                (
                                                                                    (AST_CALL
                                                                                        (
                                                                                            (AST_VAR)
                                                                                            (SCALAR)))
                                                                                    (AST_CLOSURE
                                                                                        (NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
                                                                                        (AST_CLOSURE_USES
                                                                                            (AST_CLOSURE_VAR)
                                                                                            (AST_CLOSURE_VAR))
                                                                                        (
                                                                                            (AST_ASSIGN
                                                                                                (AST_VAR)
                                                                                                (AST_CONST))
                                                                                            (AST_IF
                                                                                                (AST_IF_ELEM
                                                                                                    (AST_CALL
                                                                                                        (
                                                                                                            (AST_VAR)))
                                                                                                    (
                                                                                                        (AST_FOREACH
                                                                                                            (AST_DIM
                                                                                                                (AST_VAR)
                                                                                                                (SCALAR))
                                                                                                            (AST_VAR)
                                                                                                            (NULL)
                                                                                                            (
                                                                                                                (AST_IF
                                                                                                                    (AST_IF_ELEM
                                                                                                                        (AST_BINARY_OP
                                                                                                                            (AST_DIM
                                                                                                                                (AST_VAR)
                                                                                                                                (SCALAR))
                                                                                                                            (AST_CONST))
                                                                                                                        (
                                                                                                                            (AST_IF
                                                                                                                                (AST_IF_ELEM
                                                                                                                                    (AST_CALL
                                                                                                                                        (
                                                                                                                                            (AST_DIM
                                                                                                                                                (AST_VAR)
                                                                                                                                                (SCALAR))
                                                                                                                                            (AST_PROP
                                                                                                                                                (AST_PROP
                                                                                                                                                    (AST_VAR)))))
                                                                                                                                    (
                                                                                                                                        (AST_METHOD_CALL
                                                                                                                                            (AST_VAR)
                                                                                                                                            (
                                                                                                                                                (AST_BINARY_OP
                                                                                                                                                    (AST_BINARY_OP
                                                                                                                                                        (AST_VAR)
                                                                                                                                                        (SCALAR))
                                                                                                                                                    (AST_DIM
                                                                                                                                                        (AST_VAR)
                                                                                                                                                        (SCALAR)))))
                                                                                                                                        (AST_ASSIGN
                                                                                                                                            (AST_VAR)
                                                                                                                                            (AST_CONST))
                                                                                                                                        (AST_BREAK
                                                                                                                                            (NULL)))))))))))))
                                                                                            (AST_IF
                                                                                                (AST_IF_ELEM
                                                                                                    (AST_UNARY_OP
                                                                                                        (AST_VAR))
                                                                                                    (
                                                                                                        (AST_IF
                                                                                                            (AST_IF_ELEM
                                                                                                                (AST_BINARY_OP
                                                                                                                    (AST_ISSET
                                                                                                                        (AST_DIM
                                                                                                                            (AST_PROP
                                                                                                                                (AST_PROP
                                                                                                                                    (AST_VAR)))
                                                                                                                            (SCALAR)))
                                                                                                                    (AST_DIM
                                                                                                                        (AST_PROP
                                                                                                                            (AST_PROP
                                                                                                                                (AST_VAR)))
                                                                                                                        (SCALAR)))
                                                                                                                (
                                                                                                                    (AST_METHOD_CALL
                                                                                                                        (AST_VAR)
                                                                                                                        (
                                                                                                                            (AST_VAR)
                                                                                                                            (AST_VAR)))))
                                                                                                            (AST_IF_ELEM
                                                                                                                (NULL)
                                                                                                                (
                                                                                                                    (AST_METHOD_CALL
                                                                                                                        (AST_VAR))))))))
                                                                                            (AST_METHOD_CALL
                                                                                                (AST_VAR)
                                                                                                (
                                                                                                    (SCALAR)))))
                                                                                    (AST_BINARY_OP
                                                                                        (AST_CONST)
                                                                                        (AST_CONST)))))))))))))
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (SCALAR))
                                            (
                                                (AST_METHOD_CALL
                                                    (AST_VAR)
                                                    (
                                                        (AST_VAR))))))
                                    (AST_METHOD_CALL
                                        (AST_VAR)
                                        (
                                            (SCALAR)
                                            (AST_VAR)))))))))))
    (AST_CALL
        (AST_VAR)))