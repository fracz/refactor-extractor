    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder->add('type_product', 'choice', array(
            'choices'  => array(
                0 => $this->translator->trans('Standard product', [], 'AdminProducts'),
                1 => $this->translator->trans('Pack of existing products', [], 'AdminProducts'),
                2 => $this->translator->trans('Virtual product (services, booking, downloadable products, etc.)', [], 'AdminProducts'),
            ),
            'label' =>  $this->translator->trans('Type', [], 'AdminProducts'),
            'required' => true,
        ))
        ->add('inputPackItems', new TypeaheadProductPackCollectionType(
            $this->context->getAdminLink('', false).'ajax_products_list.php?forceJson=1&excludeVirtuals=1&limit=20&q=%QUERY',
            'id',
            'name',
            $this->translator->trans('search in catalog...', [], 'AdminProducts'),
            '<span>%s</span> (<span>ref: %s</span> <span>X%s</span>) - <a href="" class="delete">X</a>',
            $this->productAdapter
        ), array(
            'required' => false,
            'label' => $this->translator->trans('Add product in your pack', [], 'AdminProducts'),
        ))
        ->add('name', new TranslateType('text', array(
                'constraints' => array(
                    new Assert\NotBlank(),
                    new Assert\Length(array('min' => 3))
                )
            ), $this->locales, true), array(
                'label' =>  $this->translator->trans('Name', [], 'AdminProducts')
            ))
        ->add('description', new TranslateType('textarea', array(
                'attr' => array('class' => 'autoload_rte'),
                'required' => false
            ), $this->locales, true), array(
                'label' =>  $this->translator->trans('Description', [], 'AdminProducts'),
                'required' => false
            ))
        ->add('description_short', new TranslateType('textarea', array(
            'attr' => array('class' => 'autoload_rte'),
            'constraints' => array(
                new Assert\Callback(function ($str, ExecutionContextInterface $context) {
                    $str = strip_tags($str);
                    $limit = (int)$this->configuration->get('PS_PRODUCT_SHORT_DESC_LIMIT') <=0 ? 800 : $this->configuration->get('PS_PRODUCT_SHORT_DESC_LIMIT');

                    if (strlen($str) > $limit) {
                        $context->addViolation(
                            $this->translator->trans('This value is too long. It should have {{ limit }} characters or less.', [], 'AdminProducts'),
                            array('{{ limit }}' => $limit)
                        );
                    }
                }),
            ),
            'required' => false
        ), $this->locales, true), array(
            'label' =>  $this->translator->trans('Short description', [], 'AdminProducts'),
            'required' => false
        ))

        //FEATURES & ATTRIBUTES
        ->add('features', 'collection', array(
            'type' => new ProductFeature(
                $this->translator,
                $this->context,
                $this->router,
                $this->featureDataProvider
            ),
            'prototype' => true,
            'allow_add' => true,
            'allow_delete' => true
        ))
        ->add('id_manufacturer', 'choice', array(
            'choices' => $this->manufacturers,
            'required' => false,
            'label' => $this->translator->trans('Manufacturer', [], 'AdminProducts')
        ))

        //RIGHT COL
        ->add('active', 'checkbox', array(
            'label' => $this->translator->trans('Enabled', [], 'AdminProducts'),
            'required' => false,
        ))
        ->add('price_shortcut', 'money', array(
            'required' => false,
            'label' => $this->translator->trans('Pre-tax retail price', [], 'AdminProducts'),
            'currency' => $this->currency->iso_code,
            'constraints' => array(
                new Assert\NotBlank(),
                new Assert\Type(array('type' => 'float'))
            ),
            'attr' => []
        ))
        ->add('price_ttc_shortcut', 'money', array(
            'required' => false,
            'label' => $this->translator->trans('Retail price with tax', [], 'AdminProducts'),
            'mapped' => false,
            'currency' => $this->currency->iso_code,
        ))
        ->add('qty_0_shortcut', 'number', array(
            'required' => false,
            'label' => $this->translator->trans('Quantity', [], 'AdminProducts'),
            'constraints' => array(
                new Assert\NotBlank(),
                new Assert\Type(array('type' => 'numeric'))
            )
        ))
        ->add('categories', new ChoiceCategoriesTreeType('CatÃ©gories', $this->nested_categories, $this->categories), array(
            'label' => $this->translator->trans('Associated categories', [], 'AdminProducts')
        ))
        ->add('id_category_default', 'choice', array(
            'choices' =>  $this->categories,
            'required' =>  true,
            'label' => $this->translator->trans('Default category', [], 'AdminProducts')
        ))
        ->add('new_category', new SimpleFormCategory(
            $this->translator,
            $this->categoryDataProvider,
            true
        ), array(
            'required' => false,
            'mapped' => false,
            'constraints' => [],
            'label' => $this->translator->trans('Add a new category', [], 'AdminProducts'),
            'attr' => ['data-action' => $this->router->generate('admin_category_simple_add_form')]
        ))
        ->add('related_products', new TypeaheadProductCollectionType(
            $this->context->getAdminLink('', false).'ajax_products_list.php?forceJson=1&disableCombination=1&exclude_packs=0&excludeVirtuals=0&limit=20&q=%QUERY',
            'id',
            'name',
            $this->translator->trans('search in catalog...', [], 'AdminProducts'),
            '',
            $this->productAdapter
        ), array(
            'required' => false,
            'label' => $this->translator->trans('Accessories', [], 'AdminProducts')
        ));

        $builder->addEventListener(FormEvents::PRE_SUBMIT, function (FormEvent $event) {
            $data = $event->getData();
            $form = $event->getForm();

            //if product type is pack, check if inputPackItems is not empty
            if ($data['type_product'] == 1) {
                if (!isset($data['inputPackItems']) || empty($data['inputPackItems']['data'])) {
                    $error = $this->translator->trans('This pack is empty. You must add at least one product item.', [], 'AdminProducts');
                    $form->get('inputPackItems')->addError(new FormError($error));
                }
            }
        });
    }

    /**
     * Returns the name of this type.
     *
     * @return string The name of this type
     */
||||||||    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder->add('type_product', 'choice', array(
            'choices'  => array(
                0 => $this->translator->trans('Standard product', [], 'AdminProducts'),
                1 => $this->translator->trans('Pack of existing products', [], 'AdminProducts'),
                2 => $this->translator->trans('Virtual product (services, booking, downloadable products, etc.)', [], 'AdminProducts'),
            ),
            'label' =>  $this->translator->trans('Type', [], 'AdminProducts'),
            'required' => true,
        ))
        ->add('inputPackItems', new TypeaheadProductPackCollectionType(
            $this->context->getAdminLink('', false).'ajax_products_list.php?forceJson=1&excludeVirtuals=1&limit=20&q=%QUERY',
            'id',
            'name',
            $this->translator->trans('search in catalog...', [], 'AdminProducts'),
            '<span>%s</span> (<span>ref: %s</span> <span>X%s</span>) - <a href="" class="delete">X</a>',
            $this->productAdapter
        ), array(
            'required' => false,
            'label' => $this->translator->trans('Add product in your pack', [], 'AdminProducts'),
        ))
        ->add('name', new TranslateType('text', array(
                'constraints' => array(
                    new Assert\NotBlank(),
                    new Assert\Length(array('min' => 3, 'max' => 128))
                )
            ), $this->locales, true), array(
                'label' =>  $this->translator->trans('Name', [], 'AdminProducts')
            ))
        ->add('description', new TranslateType('textarea', array(
                'attr' => array('class' => 'autoload_rte'),
                'required' => false
            ), $this->locales, true), array(
                'label' =>  $this->translator->trans('Description', [], 'AdminProducts'),
                'required' => false
            ))
        ->add('description_short', new TranslateType('textarea', array(
            'attr' => array('class' => 'autoload_rte'),
            'constraints' => array(
                new Assert\Callback(function ($str, ExecutionContextInterface $context) {
                    $str = strip_tags($str);
                    $limit = (int)$this->configuration->get('PS_PRODUCT_SHORT_DESC_LIMIT') <=0 ? 800 : $this->configuration->get('PS_PRODUCT_SHORT_DESC_LIMIT');

                    if (strlen($str) > $limit) {
                        $context->addViolation(
                            $this->translator->trans('This value is too long. It should have {{ limit }} characters or less.', [], 'AdminProducts'),
                            array('{{ limit }}' => $limit)
                        );
                    }
                }),
            ),
            'required' => false
        ), $this->locales, true), array(
            'label' =>  $this->translator->trans('Short description', [], 'AdminProducts'),
            'required' => false
        ))

        //FEATURES & ATTRIBUTES
        ->add('features', 'collection', array(
            'type' => new ProductFeature(
                $this->translator,
                $this->context,
                $this->router,
                $this->featureDataProvider
            ),
            'prototype' => true,
            'allow_add' => true,
            'allow_delete' => true
        ))
        ->add('id_manufacturer', 'choice', array(
            'choices' => $this->manufacturers,
            'required' => false,
            'label' => $this->translator->trans('Manufacturer', [], 'AdminProducts')
        ))

        //RIGHT COL
        ->add('active', 'checkbox', array(
            'label' => $this->translator->trans('Enabled', [], 'AdminProducts'),
            'required' => false,
        ))
        ->add('price_shortcut', 'money', array(
            'required' => false,
            'label' => $this->translator->trans('Pre-tax retail price', [], 'AdminProducts'),
            'currency' => $this->currency->iso_code,
            'constraints' => array(
                new Assert\NotBlank(),
                new Assert\Type(array('type' => 'float'))
            ),
            'attr' => []
        ))
        ->add('price_ttc_shortcut', 'money', array(
            'required' => false,
            'label' => $this->translator->trans('Retail price with tax', [], 'AdminProducts'),
            'mapped' => false,
            'currency' => $this->currency->iso_code,
        ))
        ->add('qty_0_shortcut', 'number', array(
            'required' => false,
            'label' => $this->translator->trans('Quantity', [], 'AdminProducts'),
            'constraints' => array(
                new Assert\NotBlank(),
                new Assert\Type(array('type' => 'numeric'))
            )
        ))
        ->add('categories', new ChoiceCategoriesTreeType('CatÃ©gories', $this->nested_categories, $this->categories), array(
            'label' => $this->translator->trans('Associated categories', [], 'AdminProducts')
        ))
        ->add('id_category_default', 'choice', array(
            'choices' =>  $this->categories,
            'required' =>  true,
            'label' => $this->translator->trans('Default category', [], 'AdminProducts')
        ))
        ->add('new_category', new SimpleFormCategory(
            $this->translator,
            $this->categoryDataProvider,
            true
        ), array(
            'required' => false,
            'mapped' => false,
            'constraints' => [],
            'label' => $this->translator->trans('Add a new category', [], 'AdminProducts'),
            'attr' => ['data-action' => $this->router->generate('admin_category_simple_add_form')]
        ))
        ->add('related_products', new TypeaheadProductCollectionType(
            $this->context->getAdminLink('', false).'ajax_products_list.php?forceJson=1&disableCombination=1&exclude_packs=0&excludeVirtuals=0&limit=20&q=%QUERY',
            'id',
            'name',
            $this->translator->trans('search in catalog...', [], 'AdminProducts'),
            '',
            $this->productAdapter
        ), array(
            'required' => false,
            'label' => $this->translator->trans('Accessories', [], 'AdminProducts')
        ));

        $builder->addEventListener(FormEvents::PRE_SUBMIT, function (FormEvent $event) {
            $data = $event->getData();
            $form = $event->getForm();

            //if product type is pack, check if inputPackItems is not empty
            if ($data['type_product'] == 1) {
                if (!isset($data['inputPackItems']) || empty($data['inputPackItems']['data'])) {
                    $error = $this->translator->trans('This pack is empty. You must add at least one product item.', [], 'AdminProducts');
                    $form->get('inputPackItems')->addError(new FormError($error));
                }
            }
        });
    }

    /**
     * Returns the name of this type.
     *
     * @return string The name of this type
     */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(PARAM_TYPENO_PARAM_DEFAULTPARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_METHOD_CALL
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)
                                                                (
                                                                    (SCALAR)
                                                                    (SCALAR)
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_ARRAY
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_PROP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_ARRAY)
                                                                                            (SCALAR)))
                                                                                    (SCALAR))
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_PROP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_ARRAY)
                                                                                            (SCALAR)))
                                                                                    (SCALAR))
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_PROP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_ARRAY)
                                                                                            (SCALAR)))
                                                                                    (SCALAR)))
                                                                            (SCALAR))
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_METHOD_CALL
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (
                                                                                    (SCALAR)
                                                                                    (AST_ARRAY)
                                                                                    (SCALAR)))
                                                                            (SCALAR))
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_CONST)
                                                                            (SCALAR)))))
                                                            (
                                                                (SCALAR)
                                                                (AST_NEW
                                                                    (
                                                                        (AST_BINARY_OP
                                                                            (AST_METHOD_CALL
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (
                                                                                    (SCALAR)
                                                                                    (AST_CONST)))
                                                                            (SCALAR))
                                                                        (SCALAR)
                                                                        (SCALAR)
                                                                        (AST_METHOD_CALL
                                                                            (AST_PROP
                                                                                (AST_VAR))
                                                                            (
                                                                                (SCALAR)
                                                                                (AST_ARRAY)
                                                                                (SCALAR)))
                                                                        (SCALAR)
                                                                        (AST_PROP
                                                                            (AST_VAR))))
                                                                (AST_ARRAY
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_CONST)
                                                                        (SCALAR))
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_METHOD_CALL
                                                                            (AST_PROP
                                                                                (AST_VAR))
                                                                            (
                                                                                (SCALAR)
                                                                                (AST_ARRAY)
                                                                                (SCALAR)))
                                                                        (SCALAR)))))
                                                        (
                                                            (SCALAR)
                                                            (AST_NEW
                                                                (
                                                                    (SCALAR)
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_ARRAY
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_NEW)
                                                                                    (NULL))
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_NEW
                                                                                        (
                                                                                            (AST_ARRAY
                                                                                                (AST_ARRAY_ELEM
                                                                                                    (SCALAR)
                                                                                                    (SCALAR)))))
                                                                                    (NULL)))
                                                                            (SCALAR)))
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (AST_CONST)))
                                                            (AST_ARRAY
                                                                (AST_ARRAY_ELEM
                                                                    (AST_METHOD_CALL
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (
                                                                            (SCALAR)
                                                                            (AST_ARRAY)
                                                                            (SCALAR)))
                                                                    (SCALAR)))))
                                                    (
                                                        (SCALAR)
                                                        (AST_NEW
                                                            (
                                                                (SCALAR)
                                                                (AST_ARRAY
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_ARRAY
                                                                            (AST_ARRAY_ELEM
                                                                                (SCALAR)
                                                                                (SCALAR)))
                                                                        (SCALAR))
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_CONST)
                                                                        (SCALAR)))
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_CONST)))
                                                        (AST_ARRAY
                                                            (AST_ARRAY_ELEM
                                                                (AST_METHOD_CALL
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (
                                                                        (SCALAR)
                                                                        (AST_ARRAY)
                                                                        (SCALAR)))
                                                                (SCALAR))
                                                            (AST_ARRAY_ELEM
                                                                (AST_CONST)
                                                                (SCALAR)))))
                                                (
                                                    (SCALAR)
                                                    (AST_NEW
                                                        (
                                                            (SCALAR)
                                                            (AST_ARRAY
                                                                (AST_ARRAY_ELEM
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (SCALAR)))
                                                                    (SCALAR))
                                                                (AST_ARRAY_ELEM
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_NEW
                                                                                (
                                                                                    (AST_CLOSURE
                                                                                        (NO_PARAM_TYPENO_PARAM_DEFAULTPARAM_TYPENO_PARAM_DEFAULT)
                                                                                        (NULL)
                                                                                        (
                                                                                            (AST_ASSIGN
                                                                                                (AST_VAR)
                                                                                                (AST_CALL
                                                                                                    (
                                                                                                        (AST_VAR))))
                                                                                            (AST_ASSIGN
                                                                                                (AST_VAR)
                                                                                                (AST_CONDITIONAL
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_CAST
                                                                                                            (AST_METHOD_CALL
                                                                                                                (AST_PROP
                                                                                                                    (AST_VAR))
                                                                                                                (
                                                                                                                    (SCALAR))))
                                                                                                        (SCALAR))
                                                                                                    (SCALAR)
                                                                                                    (AST_METHOD_CALL
                                                                                                        (AST_PROP
                                                                                                            (AST_VAR))
                                                                                                        (
                                                                                                            (SCALAR)))))
                                                                                            (AST_IF
                                                                                                (AST_IF_ELEM
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_CALL
                                                                                                            (
                                                                                                                (AST_VAR)))
                                                                                                        (AST_VAR))
                                                                                                    (
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_VAR)
                                                                                                            (
                                                                                                                (AST_METHOD_CALL
                                                                                                                    (AST_PROP
                                                                                                                        (AST_VAR))
                                                                                                                    (
                                                                                                                        (SCALAR)
                                                                                                                        (AST_ARRAY)
                                                                                                                        (SCALAR)))
                                                                                                                (AST_ARRAY
                                                                                                                    (AST_ARRAY_ELEM
                                                                                                                        (AST_VAR)
                                                                                                                        (SCALAR))))))))))))
                                                                            (NULL)))
                                                                    (SCALAR))
                                                                (AST_ARRAY_ELEM
                                                                    (AST_CONST)
                                                                    (SCALAR)))
                                                            (AST_PROP
                                                                (AST_VAR))
                                                            (AST_CONST)))
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (AST_METHOD_CALL
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (
                                                                    (SCALAR)
                                                                    (AST_ARRAY)
                                                                    (SCALAR)))
                                                            (SCALAR))
                                                        (AST_ARRAY_ELEM
                                                            (AST_CONST)
                                                            (SCALAR)))))
                                            (
                                                (SCALAR)
                                                (SCALAR)
                                                (AST_ARRAY
                                                    (AST_ARRAY_ELEM
                                                        (AST_NEW
                                                            (
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_PROP
                                                                    (AST_VAR))))
                                                        (SCALAR))
                                                    (AST_ARRAY_ELEM
                                                        (AST_CONST)
                                                        (SCALAR))
                                                    (AST_ARRAY_ELEM
                                                        (AST_CONST)
                                                        (SCALAR))
                                                    (AST_ARRAY_ELEM
                                                        (AST_CONST)
                                                        (SCALAR)))))
                                        (
                                            (SCALAR)
                                            (SCALAR)
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (AST_CONST)
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (AST_METHOD_CALL
                                                        (AST_PROP
                                                            (AST_VAR))
                                                        (
                                                            (SCALAR)
                                                            (AST_ARRAY)
                                                            (SCALAR)))
                                                    (SCALAR)))))
                                    (
                                        (SCALAR)
                                        (SCALAR)
                                        (AST_ARRAY
                                            (AST_ARRAY_ELEM
                                                (AST_METHOD_CALL
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (
                                                        (SCALAR)
                                                        (AST_ARRAY)
                                                        (SCALAR)))
                                                (SCALAR))
                                            (AST_ARRAY_ELEM
                                                (AST_CONST)
                                                (SCALAR)))))
                                (
                                    (SCALAR)
                                    (SCALAR)
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_CONST)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_METHOD_CALL
                                                (AST_PROP
                                                    (AST_VAR))
                                                (
                                                    (SCALAR)
                                                    (AST_ARRAY)
                                                    (SCALAR)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_PROP
                                                (AST_PROP
                                                    (AST_VAR)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (AST_NEW)
                                                    (NULL))
                                                (AST_ARRAY_ELEM
                                                    (AST_NEW
                                                        (
                                                            (AST_ARRAY
                                                                (AST_ARRAY_ELEM
                                                                    (SCALAR)
                                                                    (SCALAR)))))
                                                    (NULL)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY)
                                            (SCALAR)))))
                            (
                                (SCALAR)
                                (SCALAR)
                                (AST_ARRAY
                                    (AST_ARRAY_ELEM
                                        (AST_CONST)
                                        (SCALAR))
                                    (AST_ARRAY_ELEM
                                        (AST_METHOD_CALL
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (SCALAR)
                                                (AST_ARRAY)
                                                (SCALAR)))
                                        (SCALAR))
                                    (AST_ARRAY_ELEM
                                        (AST_CONST)
                                        (SCALAR))
                                    (AST_ARRAY_ELEM
                                        (AST_PROP
                                            (AST_PROP
                                                (AST_VAR)))
                                        (SCALAR)))))
                        (
                            (SCALAR)
                            (SCALAR)
                            (AST_ARRAY
                                (AST_ARRAY_ELEM
                                    (AST_CONST)
                                    (SCALAR))
                                (AST_ARRAY_ELEM
                                    (AST_METHOD_CALL
                                        (AST_PROP
                                            (AST_VAR))
                                        (
                                            (SCALAR)
                                            (AST_ARRAY)
                                            (SCALAR)))
                                    (SCALAR))
                                (AST_ARRAY_ELEM
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_NEW)
                                            (NULL))
                                        (AST_ARRAY_ELEM
                                            (AST_NEW
                                                (
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (SCALAR)
                                                            (SCALAR)))))
                                            (NULL)))
                                    (SCALAR)))))
                    (
                        (SCALAR)
                        (AST_NEW
                            (
                                (SCALAR)
                                (AST_PROP
                                    (AST_VAR))
                                (AST_PROP
                                    (AST_VAR))))
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))
                                    (
                                        (SCALAR)
                                        (AST_ARRAY)
                                        (SCALAR)))
                                (SCALAR)))))
                (
                    (SCALAR)
                    (SCALAR)
                    (AST_ARRAY
                        (AST_ARRAY_ELEM
                            (AST_PROP
                                (AST_VAR))
                            (SCALAR))
                        (AST_ARRAY_ELEM
                            (AST_CONST)
                            (SCALAR))
                        (AST_ARRAY_ELEM
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (SCALAR)
                                    (AST_ARRAY)
                                    (SCALAR)))
                            (SCALAR)))))
            (
                (SCALAR)
                (AST_NEW
                    (
                        (AST_PROP
                            (AST_VAR))
                        (AST_PROP
                            (AST_VAR))
                        (AST_CONST)))
                (AST_ARRAY
                    (AST_ARRAY_ELEM
                        (AST_CONST)
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_CONST)
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_ARRAY)
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_ARRAY)
                                (SCALAR)))
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))
                                    (
                                        (SCALAR)))
                                (SCALAR)))
                        (SCALAR)))))
        (
            (SCALAR)
            (AST_NEW
                (
                    (AST_BINARY_OP
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_CONST)))
                        (SCALAR))
                    (SCALAR)
                    (SCALAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR)
                            (AST_ARRAY)
                            (SCALAR)))
                    (SCALAR)
                    (AST_PROP
                        (AST_VAR))))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_CONST)
                    (SCALAR))
                (AST_ARRAY_ELEM
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR)
                            (AST_ARRAY)
                            (SCALAR)))
                    (SCALAR)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_CLASS_CONST
                (SCALAR))
            (AST_CLOSURE
                (PARAM_TYPENO_PARAM_DEFAULT)
                (NULL)
                (
                    (AST_ASSIGN
                        (AST_VAR)
                        (AST_METHOD_CALL
                            (AST_VAR)))
                    (AST_ASSIGN
                        (AST_VAR)
                        (AST_METHOD_CALL
                            (AST_VAR)))
                    (AST_IF
                        (AST_IF_ELEM
                            (AST_BINARY_OP
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (SCALAR))
                            (
                                (AST_IF
                                    (AST_IF_ELEM
                                        (AST_BINARY_OP
                                            (AST_UNARY_OP
                                                (AST_ISSET
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))))
                                            (AST_EMPTY
                                                (AST_DIM
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (SCALAR))))
                                        (
                                            (AST_ASSIGN
                                                (AST_VAR)
                                                (AST_METHOD_CALL
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (
                                                        (SCALAR)
                                                        (AST_ARRAY)
                                                        (SCALAR))))
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_VAR)
                                                    (
                                                        (SCALAR)))
                                                (
                                                    (AST_NEW
                                                        (
                                                            (AST_VAR))))))))))))))))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(PARAM_TYPENO_PARAM_DEFAULTPARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_METHOD_CALL
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)
                                                                (
                                                                    (SCALAR)
                                                                    (SCALAR)
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_ARRAY
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_PROP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_ARRAY)
                                                                                            (SCALAR)))
                                                                                    (SCALAR))
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_PROP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_ARRAY)
                                                                                            (SCALAR)))
                                                                                    (SCALAR))
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_METHOD_CALL
                                                                                        (AST_PROP
                                                                                            (AST_VAR))
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_ARRAY)
                                                                                            (SCALAR)))
                                                                                    (SCALAR)))
                                                                            (SCALAR))
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_METHOD_CALL
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (
                                                                                    (SCALAR)
                                                                                    (AST_ARRAY)
                                                                                    (SCALAR)))
                                                                            (SCALAR))
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_CONST)
                                                                            (SCALAR)))))
                                                            (
                                                                (SCALAR)
                                                                (AST_NEW
                                                                    (
                                                                        (AST_BINARY_OP
                                                                            (AST_METHOD_CALL
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (
                                                                                    (SCALAR)
                                                                                    (AST_CONST)))
                                                                            (SCALAR))
                                                                        (SCALAR)
                                                                        (SCALAR)
                                                                        (AST_METHOD_CALL
                                                                            (AST_PROP
                                                                                (AST_VAR))
                                                                            (
                                                                                (SCALAR)
                                                                                (AST_ARRAY)
                                                                                (SCALAR)))
                                                                        (SCALAR)
                                                                        (AST_PROP
                                                                            (AST_VAR))))
                                                                (AST_ARRAY
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_CONST)
                                                                        (SCALAR))
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_METHOD_CALL
                                                                            (AST_PROP
                                                                                (AST_VAR))
                                                                            (
                                                                                (SCALAR)
                                                                                (AST_ARRAY)
                                                                                (SCALAR)))
                                                                        (SCALAR)))))
                                                        (
                                                            (SCALAR)
                                                            (AST_NEW
                                                                (
                                                                    (SCALAR)
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_ARRAY
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_NEW)
                                                                                    (NULL))
                                                                                (AST_ARRAY_ELEM
                                                                                    (AST_NEW
                                                                                        (
                                                                                            (AST_ARRAY
                                                                                                (AST_ARRAY_ELEM
                                                                                                    (SCALAR)
                                                                                                    (SCALAR))
                                                                                                (AST_ARRAY_ELEM
                                                                                                    (SCALAR)
                                                                                                    (SCALAR)))))
                                                                                    (NULL)))
                                                                            (SCALAR)))
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (AST_CONST)))
                                                            (AST_ARRAY
                                                                (AST_ARRAY_ELEM
                                                                    (AST_METHOD_CALL
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (
                                                                            (SCALAR)
                                                                            (AST_ARRAY)
                                                                            (SCALAR)))
                                                                    (SCALAR)))))
                                                    (
                                                        (SCALAR)
                                                        (AST_NEW
                                                            (
                                                                (SCALAR)
                                                                (AST_ARRAY
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_ARRAY
                                                                            (AST_ARRAY_ELEM
                                                                                (SCALAR)
                                                                                (SCALAR)))
                                                                        (SCALAR))
                                                                    (AST_ARRAY_ELEM
                                                                        (AST_CONST)
                                                                        (SCALAR)))
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_CONST)))
                                                        (AST_ARRAY
                                                            (AST_ARRAY_ELEM
                                                                (AST_METHOD_CALL
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (
                                                                        (SCALAR)
                                                                        (AST_ARRAY)
                                                                        (SCALAR)))
                                                                (SCALAR))
                                                            (AST_ARRAY_ELEM
                                                                (AST_CONST)
                                                                (SCALAR)))))
                                                (
                                                    (SCALAR)
                                                    (AST_NEW
                                                        (
                                                            (SCALAR)
                                                            (AST_ARRAY
                                                                (AST_ARRAY_ELEM
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (SCALAR)))
                                                                    (SCALAR))
                                                                (AST_ARRAY_ELEM
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (AST_NEW
                                                                                (
                                                                                    (AST_CLOSURE
                                                                                        (NO_PARAM_TYPENO_PARAM_DEFAULTPARAM_TYPENO_PARAM_DEFAULT)
                                                                                        (NULL)
                                                                                        (
                                                                                            (AST_ASSIGN
                                                                                                (AST_VAR)
                                                                                                (AST_CALL
                                                                                                    (
                                                                                                        (AST_VAR))))
                                                                                            (AST_ASSIGN
                                                                                                (AST_VAR)
                                                                                                (AST_CONDITIONAL
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_CAST
                                                                                                            (AST_METHOD_CALL
                                                                                                                (AST_PROP
                                                                                                                    (AST_VAR))
                                                                                                                (
                                                                                                                    (SCALAR))))
                                                                                                        (SCALAR))
                                                                                                    (SCALAR)
                                                                                                    (AST_METHOD_CALL
                                                                                                        (AST_PROP
                                                                                                            (AST_VAR))
                                                                                                        (
                                                                                                            (SCALAR)))))
                                                                                            (AST_IF
                                                                                                (AST_IF_ELEM
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_CALL
                                                                                                            (
                                                                                                                (AST_VAR)))
                                                                                                        (AST_VAR))
                                                                                                    (
                                                                                                        (AST_METHOD_CALL
                                                                                                            (AST_VAR)
                                                                                                            (
                                                                                                                (AST_METHOD_CALL
                                                                                                                    (AST_PROP
                                                                                                                        (AST_VAR))
                                                                                                                    (
                                                                                                                        (SCALAR)
                                                                                                                        (AST_ARRAY)
                                                                                                                        (SCALAR)))
                                                                                                                (AST_ARRAY
                                                                                                                    (AST_ARRAY_ELEM
                                                                                                                        (AST_VAR)
                                                                                                                        (SCALAR))))))))))))
                                                                            (NULL)))
                                                                    (SCALAR))
                                                                (AST_ARRAY_ELEM
                                                                    (AST_CONST)
                                                                    (SCALAR)))
                                                            (AST_PROP
                                                                (AST_VAR))
                                                            (AST_CONST)))
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (AST_METHOD_CALL
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (
                                                                    (SCALAR)
                                                                    (AST_ARRAY)
                                                                    (SCALAR)))
                                                            (SCALAR))
                                                        (AST_ARRAY_ELEM
                                                            (AST_CONST)
                                                            (SCALAR)))))
                                            (
                                                (SCALAR)
                                                (SCALAR)
                                                (AST_ARRAY
                                                    (AST_ARRAY_ELEM
                                                        (AST_NEW
                                                            (
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_PROP
                                                                    (AST_VAR))))
                                                        (SCALAR))
                                                    (AST_ARRAY_ELEM
                                                        (AST_CONST)
                                                        (SCALAR))
                                                    (AST_ARRAY_ELEM
                                                        (AST_CONST)
                                                        (SCALAR))
                                                    (AST_ARRAY_ELEM
                                                        (AST_CONST)
                                                        (SCALAR)))))
                                        (
                                            (SCALAR)
                                            (SCALAR)
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (AST_CONST)
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (AST_METHOD_CALL
                                                        (AST_PROP
                                                            (AST_VAR))
                                                        (
                                                            (SCALAR)
                                                            (AST_ARRAY)
                                                            (SCALAR)))
                                                    (SCALAR)))))
                                    (
                                        (SCALAR)
                                        (SCALAR)
                                        (AST_ARRAY
                                            (AST_ARRAY_ELEM
                                                (AST_METHOD_CALL
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (
                                                        (SCALAR)
                                                        (AST_ARRAY)
                                                        (SCALAR)))
                                                (SCALAR))
                                            (AST_ARRAY_ELEM
                                                (AST_CONST)
                                                (SCALAR)))))
                                (
                                    (SCALAR)
                                    (SCALAR)
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_CONST)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_METHOD_CALL
                                                (AST_PROP
                                                    (AST_VAR))
                                                (
                                                    (SCALAR)
                                                    (AST_ARRAY)
                                                    (SCALAR)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_PROP
                                                (AST_PROP
                                                    (AST_VAR)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (AST_NEW)
                                                    (NULL))
                                                (AST_ARRAY_ELEM
                                                    (AST_NEW
                                                        (
                                                            (AST_ARRAY
                                                                (AST_ARRAY_ELEM
                                                                    (SCALAR)
                                                                    (SCALAR)))))
                                                    (NULL)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY)
                                            (SCALAR)))))
                            (
                                (SCALAR)
                                (SCALAR)
                                (AST_ARRAY
                                    (AST_ARRAY_ELEM
                                        (AST_CONST)
                                        (SCALAR))
                                    (AST_ARRAY_ELEM
                                        (AST_METHOD_CALL
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (SCALAR)
                                                (AST_ARRAY)
                                                (SCALAR)))
                                        (SCALAR))
                                    (AST_ARRAY_ELEM
                                        (AST_CONST)
                                        (SCALAR))
                                    (AST_ARRAY_ELEM
                                        (AST_PROP
                                            (AST_PROP
                                                (AST_VAR)))
                                        (SCALAR)))))
                        (
                            (SCALAR)
                            (SCALAR)
                            (AST_ARRAY
                                (AST_ARRAY_ELEM
                                    (AST_CONST)
                                    (SCALAR))
                                (AST_ARRAY_ELEM
                                    (AST_METHOD_CALL
                                        (AST_PROP
                                            (AST_VAR))
                                        (
                                            (SCALAR)
                                            (AST_ARRAY)
                                            (SCALAR)))
                                    (SCALAR))
                                (AST_ARRAY_ELEM
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_NEW)
                                            (NULL))
                                        (AST_ARRAY_ELEM
                                            (AST_NEW
                                                (
                                                    (AST_ARRAY
                                                        (AST_ARRAY_ELEM
                                                            (SCALAR)
                                                            (SCALAR)))))
                                            (NULL)))
                                    (SCALAR)))))
                    (
                        (SCALAR)
                        (AST_NEW
                            (
                                (SCALAR)
                                (AST_PROP
                                    (AST_VAR))
                                (AST_PROP
                                    (AST_VAR))))
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))
                                    (
                                        (SCALAR)
                                        (AST_ARRAY)
                                        (SCALAR)))
                                (SCALAR)))))
                (
                    (SCALAR)
                    (SCALAR)
                    (AST_ARRAY
                        (AST_ARRAY_ELEM
                            (AST_PROP
                                (AST_VAR))
                            (SCALAR))
                        (AST_ARRAY_ELEM
                            (AST_CONST)
                            (SCALAR))
                        (AST_ARRAY_ELEM
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (SCALAR)
                                    (AST_ARRAY)
                                    (SCALAR)))
                            (SCALAR)))))
            (
                (SCALAR)
                (AST_NEW
                    (
                        (AST_PROP
                            (AST_VAR))
                        (AST_PROP
                            (AST_VAR))
                        (AST_CONST)))
                (AST_ARRAY
                    (AST_ARRAY_ELEM
                        (AST_CONST)
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_CONST)
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_ARRAY)
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_ARRAY)
                                (SCALAR)))
                        (SCALAR))
                    (AST_ARRAY_ELEM
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))
                                    (
                                        (SCALAR)))
                                (SCALAR)))
                        (SCALAR)))))
        (
            (SCALAR)
            (AST_NEW
                (
                    (AST_BINARY_OP
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_CONST)))
                        (SCALAR))
                    (SCALAR)
                    (SCALAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR)
                            (AST_ARRAY)
                            (SCALAR)))
                    (SCALAR)
                    (AST_PROP
                        (AST_VAR))))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_CONST)
                    (SCALAR))
                (AST_ARRAY_ELEM
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR)
                            (AST_ARRAY)
                            (SCALAR)))
                    (SCALAR)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_CLASS_CONST
                (SCALAR))
            (AST_CLOSURE
                (PARAM_TYPENO_PARAM_DEFAULT)
                (NULL)
                (
                    (AST_ASSIGN
                        (AST_VAR)
                        (AST_METHOD_CALL
                            (AST_VAR)))
                    (AST_ASSIGN
                        (AST_VAR)
                        (AST_METHOD_CALL
                            (AST_VAR)))
                    (AST_IF
                        (AST_IF_ELEM
                            (AST_BINARY_OP
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (SCALAR))
                            (
                                (AST_IF
                                    (AST_IF_ELEM
                                        (AST_BINARY_OP
                                            (AST_UNARY_OP
                                                (AST_ISSET
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))))
                                            (AST_EMPTY
                                                (AST_DIM
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (SCALAR))))
                                        (
                                            (AST_ASSIGN
                                                (AST_VAR)
                                                (AST_METHOD_CALL
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (
                                                        (SCALAR)
                                                        (AST_ARRAY)
                                                        (SCALAR))))
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_VAR)
                                                    (
                                                        (SCALAR)))
                                                (
                                                    (AST_NEW
                                                        (
                                                            (AST_VAR))))))))))))))))