    private static function handleMessage($message)
    {
        if (!headers_sent()) {
            header('HTTP/1.1 500 Internal Server Error');
        }

        if (self::$logDir) {
            // TODO: add configurable file mask
            $file = self::$logDir . '/report ' . date('Y-m-d H-i-s ') . substr(microtime(FALSE), 2, 6) . (self::$html ? '.html' : '.txt');
            file_put_contents($file, $message);
        }

        if (self::$display) {
            while (ob_get_level() && ob_end_clean());

            echo $message;

            // fix for IE 6
            if (isset($_SERVER['HTTP_USER_AGENT']) && strpos($_SERVER['HTTP_USER_AGENT'], 'MSIE 6.0')) {
                $s = " \t\r\n";
                for ($i = 2e3; $i; $i--) echo $s{rand(0, 3)};
            }
        }

        if (self::$email) {
            // TODO: pridat limit na pocet odeslanych emailu denne

            // pro mailer v unixu je treba zamenit \r\n na \n, protoze on si to pak opet zameni za \r\n
            $message = str_replace("\r\n", "\n", $message);
            if (PHP_OS != 'Linux') $message = str_replace("\n", "\r\n", $message);

            mail(self::$email, self::$emailSubject, $message, "Content-Type: text/html; charset=ISO-8859-1");
        }
    }



    /**
     * Paint blue screen.
     * @return string
     */
||||||||    private static function handleMessage($message)
    {
        if (!headers_sent()) {
            header('HTTP/1.1 500 Internal Server Error');
        }

        if (self::$logDir) {
            // TODO: add configurable file mask
            $file = self::$logDir . '/report ' . date('Y-m-d H-i-s ') . substr(microtime(FALSE), 2, 6) . (self::$html ? '.html' : '.txt');
            file_put_contents($file, $message);
        }

        if (self::$display) {
            while (ob_get_level() && @ob_end_clean());

            echo $message;

            // fix for IE 6
            if (isset($_SERVER['HTTP_USER_AGENT']) && strpos($_SERVER['HTTP_USER_AGENT'], 'MSIE 6.0')) {
                $s = " \t\r\n";
                for ($i = 2e3; $i; $i--) echo $s{rand(0, 3)};
            }
        }

        if (self::$email) {
            // TODO: pridat limit na pocet odeslanych emailu denne

            // pro mailer v unixu je treba zamenit \r\n na \n, protoze on si to pak opet zameni za \r\n
            $message = str_replace("\r\n", "\n", $message);
            if (PHP_OS != 'Linux') $message = str_replace("\n", "\r\n", $message);

            mail(self::$email, self::$emailSubject, $message, "Content-Type: text/html; charset=ISO-8859-1");
        }
    }



    /**
     * Paint blue screen.
     * @return string
     */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_CALL))
            (
                (AST_CALL
                    (
                        (SCALAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (AST_BINARY_OP
                                (AST_BINARY_OP
                                    (AST_STATIC_PROP)
                                    (SCALAR))
                                (AST_CALL
                                    (
                                        (SCALAR))))
                            (AST_CALL
                                (
                                    (AST_CALL
                                        (
                                            (AST_CONST)))
                                    (SCALAR)
                                    (SCALAR))))
                        (AST_CONDITIONAL
                            (AST_STATIC_PROP)
                            (SCALAR)
                            (SCALAR))))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_VAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_WHILE
                    (AST_BINARY_OP
                        (AST_CALL)
                        (AST_CALL)))
                (AST_ECHO
                    (AST_VAR))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR)))
                            (AST_CALL
                                (
                                    (AST_DIM
                                        (AST_VAR)
                                        (SCALAR))
                                    (SCALAR))))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (SCALAR))
                            (AST_FOR
                                (AST_EXPR_LIST
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (SCALAR)))
                                (AST_EXPR_LIST
                                    (AST_VAR))
                                (AST_EXPR_LIST
                                    (AST_POST_DEC
                                        (AST_VAR)))
                                (
                                    (AST_ECHO
                                        (AST_DIM
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (SCALAR)
                                                    (SCALAR)))))))))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (SCALAR)
                            (AST_VAR))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_CONST)
                            (SCALAR))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (SCALAR)
                                        (SCALAR)
                                        (AST_VAR)))))))
                (AST_CALL
                    (
                        (AST_STATIC_PROP)
                        (AST_STATIC_PROP)
                        (AST_VAR)
                        (SCALAR)))))))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_CALL))
            (
                (AST_CALL
                    (
                        (SCALAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (AST_BINARY_OP
                                (AST_BINARY_OP
                                    (AST_STATIC_PROP)
                                    (SCALAR))
                                (AST_CALL
                                    (
                                        (SCALAR))))
                            (AST_CALL
                                (
                                    (AST_CALL
                                        (
                                            (AST_CONST)))
                                    (SCALAR)
                                    (SCALAR))))
                        (AST_CONDITIONAL
                            (AST_STATIC_PROP)
                            (SCALAR)
                            (SCALAR))))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_VAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_WHILE
                    (AST_BINARY_OP
                        (AST_CALL)
                        (AST_UNARY_OP
                            (AST_CALL))))
                (AST_ECHO
                    (AST_VAR))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR)))
                            (AST_CALL
                                (
                                    (AST_DIM
                                        (AST_VAR)
                                        (SCALAR))
                                    (SCALAR))))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (SCALAR))
                            (AST_FOR
                                (AST_EXPR_LIST
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (SCALAR)))
                                (AST_EXPR_LIST
                                    (AST_VAR))
                                (AST_EXPR_LIST
                                    (AST_POST_DEC
                                        (AST_VAR)))
                                (
                                    (AST_ECHO
                                        (AST_DIM
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (SCALAR)
                                                    (SCALAR)))))))))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (SCALAR)
                            (AST_VAR))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_CONST)
                            (SCALAR))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (SCALAR)
                                        (SCALAR)
                                        (AST_VAR)))))))
                (AST_CALL
                    (
                        (AST_STATIC_PROP)
                        (AST_STATIC_PROP)
                        (AST_VAR)
                        (SCALAR)))))))