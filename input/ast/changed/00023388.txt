    protected function next()
    {
        $get = $this->get();
        if ($get === '/') {
            $commentContents = '';
            switch ($this->peek()) {
                case '/':
                    // "//" comment
                    for (;;) {
                        $get = $this->get();
                        $commentContents .= $get;
                        if (ord($get) <= self::ORD_LF) {
                            return preg_match('/^\\/@(?:cc_on|if|elif|else|end)\\b/', $commentContents)
                                ? "/{$commentContents}"
                                : $get;
                        }
                    }
                case '*':
                    // "/* */" comment
                    $this->get();
                    for (;;) {
                        $get = $this->get();
                        switch ($get) {
                            case '*':
                                if ($this->peek() === '/') {
                                    $this->get();
                                    if (0 === strpos($commentContents, '!')) {
                                        // YUI Compressor style
                                        return "\n/*" . substr($commentContents, 1) . "*/\n";
                                    }
                                    return preg_match('/^@(?:cc_on|if|elif|else|end)\\b/', $commentContents)
                                        ? "/*{$commentContents}*/" // IE conditional compilation
                                        : ' ';
                                }
                                break;
                            case null:
                                throw new JSMinException('Unterminated comment.');
                        }
                        $commentContents .= $get;
                    }
                default:
                    return $get;
            }
        }
        return $get;
    }

||||||||    protected function next()
    {
        $get = $this->get();
        if ($get !== '/') {
            return $get;
        }
        switch ($this->peek()) {
            case '/': return $this->singleLineComment();
            case '*': return $this->multipleLineComment();
            default: return $get;
        }
    }
}

class JSMin_UnterminatedStringException extends Exception {}
class JSMin_UnterminatedCommentException extends Exception {}
class JSMin_UnterminatedRegExpException extends Exception {}||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_VAR)
                (SCALAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR))
                (AST_SWITCH
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (AST_SWITCH_LIST
                        (AST_SWITCH_CASE
                            (SCALAR)
                            (
                                (AST_FOR
                                    (NULL)
                                    (NULL)
                                    (NULL)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_METHOD_CALL
                                                (AST_VAR)))
                                        (AST_ASSIGN_OP
                                            (AST_VAR)
                                            (AST_VAR))
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_BINARY_OP
                                                    (AST_CALL
                                                        (
                                                            (AST_VAR)))
                                                    (AST_CLASS_CONST
                                                        (SCALAR)))
                                                (
                                                    (AST_RETURN
                                                        (AST_CONDITIONAL
                                                            (AST_CALL
                                                                (
                                                                    (SCALAR)
                                                                    (AST_VAR)))
                                                            (AST_ENCAPS_LIST
                                                                (SCALAR)
                                                                (AST_VAR))
                                                            (AST_VAR))))))))))
                        (AST_SWITCH_CASE
                            (SCALAR)
                            (
                                (AST_METHOD_CALL
                                    (AST_VAR))
                                (AST_FOR
                                    (NULL)
                                    (NULL)
                                    (NULL)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_METHOD_CALL
                                                (AST_VAR)))
                                        (AST_SWITCH
                                            (AST_VAR)
                                            (AST_SWITCH_LIST
                                                (AST_SWITCH_CASE
                                                    (SCALAR)
                                                    (
                                                        (AST_IF
                                                            (AST_IF_ELEM
                                                                (AST_BINARY_OP
                                                                    (AST_METHOD_CALL
                                                                        (AST_VAR))
                                                                    (SCALAR))
                                                                (
                                                                    (AST_METHOD_CALL
                                                                        (AST_VAR))
                                                                    (AST_IF
                                                                        (AST_IF_ELEM
                                                                            (AST_BINARY_OP
                                                                                (SCALAR)
                                                                                (AST_CALL
                                                                                    (
                                                                                        (AST_VAR)
                                                                                        (SCALAR))))
                                                                            (
                                                                                (AST_RETURN
                                                                                    (AST_BINARY_OP
                                                                                        (AST_BINARY_OP
                                                                                            (SCALAR)
                                                                                            (AST_CALL
                                                                                                (
                                                                                                    (AST_VAR)
                                                                                                    (SCALAR))))
                                                                                        (SCALAR))))))
                                                                    (AST_RETURN
                                                                        (AST_CONDITIONAL
                                                                            (AST_CALL
                                                                                (
                                                                                    (SCALAR)
                                                                                    (AST_VAR)))
                                                                            (AST_ENCAPS_LIST
                                                                                (SCALAR)
                                                                                (AST_VAR)
                                                                                (SCALAR))
                                                                            (SCALAR))))))
                                                        (AST_BREAK
                                                            (NULL))))
                                                (AST_SWITCH_CASE
                                                    (AST_CONST)
                                                    (
                                                        (AST_THROW
                                                            (AST_NEW
                                                                (
                                                                    (SCALAR))))))))
                                        (AST_ASSIGN_OP
                                            (AST_VAR)
                                            (AST_VAR))))))
                        (AST_SWITCH_CASE
                            (NULL)
                            (
                                (AST_RETURN
                                    (AST_VAR)))))))))
    (AST_RETURN
        (AST_VAR)))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_VAR)
                (SCALAR))
            (
                (AST_RETURN
                    (AST_VAR)))))
    (AST_SWITCH
        (AST_METHOD_CALL
            (AST_VAR))
        (AST_SWITCH_LIST
            (AST_SWITCH_CASE
                (SCALAR)
                (
                    (AST_RETURN
                        (AST_METHOD_CALL
                            (AST_VAR)))))
            (AST_SWITCH_CASE
                (SCALAR)
                (
                    (AST_RETURN
                        (AST_METHOD_CALL
                            (AST_VAR)))))
            (AST_SWITCH_CASE
                (NULL)
                (
                    (AST_RETURN
                        (AST_VAR)))))))