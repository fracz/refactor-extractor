    public function doc_link($path, $text=false, $iconpath=false) {
        global $CFG, $OUTPUT;
        $icon = new moodle_action_icon();
        $icon->linktext = $text;
        $icon->image->alt = $text;
        $icon->image->add_class('iconhelp');
        $icon->link->url = new moodle_url(get_docs_url($path));

        if (!empty($iconpath)) {
            $icon->image->src = $iconpath;
        } else {
            $icon->image->src = $this->pix_url('docs')->out(false, array(), false);
        }

        if (!empty($CFG->doctonewwindow)) {
            $icon->add_action(new popup_action('click', $icon->link->url));
        }

        return $this->action_icon($icon);

    }

    /**
     * Given a moodle_action_icon object, outputs an image linking to an action (URL or AJAX).
     *
     * @param moodle_action_icon $icon A moodle_action_icon object
     * @return string HTML fragment
     */
||||||||    public function doc_link($path, $text) {
        global $CFG;

        $options = array('class'=>'iconhelp', 'alt'=>$text);
        $url = new moodle_url(get_docs_url($path));

        $icon = $this->icon('docs', $options);

        $link = new html_link($url, $icon.$text);

        if (!empty($CFG->doctonewwindow)) {
            $link->add_action(new popup_action('click', $url));
        }

        return $this->link($link);
    }

    /**
     * Given a moodle_action_icon object, outputs an image linking to an action (URL or AJAX).
     *
     * @param mixed $link A html_link object or a string URL (text param required in second case)
     * @param string $title link title and also image alt if no alt specified in $options
     * @param html_image|moodle_url|string $image_or_url image or url of the image,
     *        it is also possible to use short pix name for core images
     * @param array $options image attributes such as title, id, alt, widht, height
     * @param bool $linktext show title next to image in link
     * @return string HTML fragment
     */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPEPARAM_DEFAULTNO_PARAM_TYPEPARAM_DEFAULT)
(
    (AST_GLOBAL
        (AST_VAR))
    (AST_GLOBAL
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_ASSIGN
        (AST_PROP
            (AST_PROP
                (AST_VAR)))
        (AST_VAR))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)))
    (AST_ASSIGN
        (AST_PROP
            (AST_PROP
                (AST_VAR)))
        (AST_NEW
            (
                (AST_CALL
                    (
                        (AST_VAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_EMPTY
                    (AST_VAR)))
            (
                (AST_ASSIGN
                    (AST_PROP
                        (AST_PROP
                            (AST_VAR)))
                    (AST_VAR))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_ASSIGN
                    (AST_PROP
                        (AST_PROP
                            (AST_VAR)))
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_VAR)
                            (
                                (SCALAR)))
                        (
                            (AST_CONST)
                            (AST_ARRAY)
                            (AST_CONST)))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_EMPTY
                    (AST_PROP
                        (AST_VAR))))
            (
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (AST_NEW
                            (
                                (SCALAR)
                                (AST_PROP
                                    (AST_PROP
                                        (AST_VAR))))))))))
    (AST_RETURN
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_VAR)))))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_GLOBAL
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_ARRAY
            (AST_ARRAY_ELEM
                (SCALAR)
                (SCALAR))
            (AST_ARRAY_ELEM
                (AST_VAR)
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_CALL
                    (
                        (AST_VAR))))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR)
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR)
                (AST_BINARY_OP
                    (AST_VAR)
                    (AST_VAR)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_EMPTY
                    (AST_PROP
                        (AST_VAR))))
            (
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (AST_NEW
                            (
                                (SCALAR)
                                (AST_VAR))))))))
    (AST_RETURN
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_VAR)))))