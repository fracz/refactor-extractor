	protected function extractAttributes($url = false)
	{
		if($url)
		{
			$attributes = [];
			$parse = parse_url($url);
			$parse = explode("/", $parse['path']);
			$url = [];
			foreach ($parse as $segment)
			{
			    if(!empty($segment))
			        $url[] = $segment;
			}

			foreach ($this->router->getRoutes() as $route)
			{
			    $path = $route->getUri();
			    if(!preg_match("/{[\w]+}/", $path))
			    {
			        continue;
			    }

			    $path = explode("/", $path);
			    $i = 0;

			    $match = true;
			    foreach ($path as $j => $segment)
			    {
			        if(isset($url[$i]))
			        {
			            if($segment === $url[$i])
			            {
			                $i++;
			                continue;
			            }
			            if(preg_match("/{[\w]+}/", $segment))
			            {
			                // must-have parameters
			                $attribute_name = preg_replace([ "/}/" , "/{/" , "/\?/" ], "", $segment);
			                $attributes[$attribute_name] = $url[$i];
			                $i++;
			                continue;
			            }
			            if(preg_match("/{[\w]+\?}/", $segment))
			            {
			                // optional parameters
			                if(!isset($path[$j+1]) || $path[$j+1] !== $url[$i])
			                {
			                    // optional parameter taken
			                    $attribute_name = preg_replace([ "/}/" , "/{/" , "/\?/" ], "", $segment);
			                    $attributes[$attribute_name] = $url[$i];
			                    $i++;
			                    continue;
			                }

			            }
			        }
			        else if(!preg_match("/{[\w]+\?}/", $segment))
			        {
			            // no optional parameters but no more $url given
			            // this route does not match the url
			            $match = false;
			            break;
			        }
			    }

			    if(isset($url[$i+1]))
			    {
			        $match = false;
			    }

			    if($match)
			    {
			        return $attributes;
			    }
			}

		}
		else
		{
			if(!$this->router->current())
			{
				return [];
			}

			$attributes = $this->router->current()->parameters();
			$response = \Event::fire('routes.translation', ['attributes' => $attributes ]);
			if(!empty($response))
			{
				$response = array_shift($response);
			}

			if(is_array($response))
			{
				$attributes = array_merge($attributes, $response);
			}
		}

		return $attributes;
	}

	/**
	 * Build URL using array data from parse_url
	 *
	 * @param array|false 	$parsed_url	 Array of data from parse_url function
	 *
	 * @return string			   Returns URL as string.
	 */
||||||||	protected function extractAttributes($url = false)
	{
		if(!empty($url))
		{
			$attributes = [];
			$parse = parse_url($url);
			$parse = explode("/", $parse['path']);
			$url = [];
			foreach ($parse as $segment)
			{
			    if(!empty($segment))
			        $url[] = $segment;
			}

			foreach ($this->router->getRoutes() as $route)
			{
			    $path = $route->getUri();
			    if(!preg_match("/{[\w]+}/", $path))
			    {
			        continue;
			    }

			    $path = explode("/", $path);
			    $i = 0;

			    $match = true;
			    foreach ($path as $j => $segment)
			    {
			        if(isset($url[$i]))
			        {
			            if($segment === $url[$i])
			            {
			                $i++;
			                continue;
			            }
			            if(preg_match("/{[\w]+}/", $segment))
			            {
			                // must-have parameters
			                $attribute_name = preg_replace([ "/}/" , "/{/" , "/\?/" ], "", $segment);
			                $attributes[$attribute_name] = $url[$i];
			                $i++;
			                continue;
			            }
			            if(preg_match("/{[\w]+\?}/", $segment))
			            {
			                // optional parameters
			                if(!isset($path[$j+1]) || $path[$j+1] !== $url[$i])
			                {
			                    // optional parameter taken
			                    $attribute_name = preg_replace([ "/}/" , "/{/" , "/\?/" ], "", $segment);
			                    $attributes[$attribute_name] = $url[$i];
			                    $i++;
			                    continue;
			                }

			            }
			        }
			        else if(!preg_match("/{[\w]+\?}/", $segment))
			        {
			            // no optional parameters but no more $url given
			            // this route does not match the url
			            $match = false;
			            break;
			        }
			    }

			    if(isset($url[$i+1]))
			    {
			        $match = false;
			    }

			    if($match)
			    {
			        return $attributes;
			    }
			}

		}
		else
		{
			if(!$this->router->current())
			{
				return [];
			}

			$attributes = $this->router->current()->parameters();
			$response = \Event::fire('routes.translation', ['attributes' => $attributes ]);
			if(!empty($response))
			{
				$response = array_shift($response);
			}

			if(is_array($response))
			{
				$attributes = array_merge($attributes, $response);
			}
		}

		return $attributes;
	}

	/**
	 * Build URL using array data from parse_url
	 *
	 * @param array|false 	$parsed_url	 Array of data from parse_url function
	 *
	 * @return string			   Returns URL as string.
	 */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPEPARAM_DEFAULT)
(
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_FOREACH
                    (AST_VAR)
                    (AST_VAR)
                    (NULL)
                    (
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_UNARY_OP
                                    (AST_EMPTY
                                        (AST_VAR)))
                                (
                                    (AST_ASSIGN
                                        (AST_DIM
                                            (AST_VAR)
                                            (NULL))
                                        (AST_VAR)))))))
                (AST_FOREACH
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR)))
                    (AST_VAR)
                    (NULL)
                    (
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_METHOD_CALL
                                (AST_VAR)))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_UNARY_OP
                                    (AST_CALL
                                        (
                                            (SCALAR)
                                            (AST_VAR))))
                                (
                                    (AST_CONTINUE
                                        (NULL)))))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR))))
                        (AST_ASSIGN
                            (AST_VAR)
                            (SCALAR))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CONST))
                        (AST_FOREACH
                            (AST_VAR)
                            (AST_VAR)
                            (AST_VAR)
                            (
                                (AST_IF
                                    (AST_IF_ELEM
                                        (AST_ISSET
                                            (AST_DIM
                                                (AST_VAR)
                                                (AST_VAR)))
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_BINARY_OP
                                                        (AST_VAR)
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (AST_VAR)))
                                                    (
                                                        (AST_POST_INC
                                                            (AST_VAR))
                                                        (AST_CONTINUE
                                                            (NULL)))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_CALL
                                                        (
                                                            (SCALAR)
                                                            (AST_VAR)))
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CALL
                                                                (
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL))
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL))
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL)))
                                                                    (SCALAR)
                                                                    (AST_VAR))))
                                                        (AST_ASSIGN
                                                            (AST_DIM
                                                                (AST_VAR)
                                                                (AST_VAR))
                                                            (AST_DIM
                                                                (AST_VAR)
                                                                (AST_VAR)))
                                                        (AST_POST_INC
                                                            (AST_VAR))
                                                        (AST_CONTINUE
                                                            (NULL)))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_CALL
                                                        (
                                                            (SCALAR)
                                                            (AST_VAR)))
                                                    (
                                                        (AST_IF
                                                            (AST_IF_ELEM
                                                                (AST_BINARY_OP
                                                                    (AST_UNARY_OP
                                                                        (AST_ISSET
                                                                            (AST_DIM
                                                                                (AST_VAR)
                                                                                (AST_BINARY_OP
                                                                                    (AST_VAR)
                                                                                    (SCALAR)))))
                                                                    (AST_BINARY_OP
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_BINARY_OP
                                                                                (AST_VAR)
                                                                                (SCALAR)))
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR))))
                                                                (
                                                                    (AST_ASSIGN
                                                                        (AST_VAR)
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_ARRAY
                                                                                    (AST_ARRAY_ELEM
                                                                                        (SCALAR)
                                                                                        (NULL))
                                                                                    (AST_ARRAY_ELEM
                                                                                        (SCALAR)
                                                                                        (NULL))
                                                                                    (AST_ARRAY_ELEM
                                                                                        (SCALAR)
                                                                                        (NULL)))
                                                                                (SCALAR)
                                                                                (AST_VAR))))
                                                                    (AST_ASSIGN
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR))
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR)))
                                                                    (AST_POST_INC
                                                                        (AST_VAR))
                                                                    (AST_CONTINUE
                                                                        (NULL))))))))))
                                    (AST_IF_ELEM
                                        (NULL)
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_UNARY_OP
                                                        (AST_CALL
                                                            (
                                                                (SCALAR)
                                                                (AST_VAR))))
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CONST))
                                                        (AST_BREAK
                                                            (NULL))))))))))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_ISSET
                                    (AST_DIM
                                        (AST_VAR)
                                        (AST_BINARY_OP
                                            (AST_VAR)
                                            (SCALAR))))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CONST)))))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_VAR)
                                (
                                    (AST_RETURN
                                        (AST_VAR)))))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_UNARY_OP
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))))
                        (
                            (AST_RETURN
                                (AST_ARRAY)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_STATIC_CALL
                        (
                            (SCALAR)
                            (AST_ARRAY
                                (AST_ARRAY_ELEM
                                    (AST_VAR)
                                    (SCALAR))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_UNARY_OP
                            (AST_EMPTY
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (AST_VAR)))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_CALL
                            (
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (AST_VAR)
                                        (AST_VAR))))))))))
    (AST_RETURN
        (AST_VAR)))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPEPARAM_DEFAULT)
(
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_EMPTY
                    (AST_VAR)))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_FOREACH
                    (AST_VAR)
                    (AST_VAR)
                    (NULL)
                    (
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_UNARY_OP
                                    (AST_EMPTY
                                        (AST_VAR)))
                                (
                                    (AST_ASSIGN
                                        (AST_DIM
                                            (AST_VAR)
                                            (NULL))
                                        (AST_VAR)))))))
                (AST_FOREACH
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR)))
                    (AST_VAR)
                    (NULL)
                    (
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_METHOD_CALL
                                (AST_VAR)))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_UNARY_OP
                                    (AST_CALL
                                        (
                                            (SCALAR)
                                            (AST_VAR))))
                                (
                                    (AST_CONTINUE
                                        (NULL)))))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CALL
                                (
                                    (SCALAR)
                                    (AST_VAR))))
                        (AST_ASSIGN
                            (AST_VAR)
                            (SCALAR))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CONST))
                        (AST_FOREACH
                            (AST_VAR)
                            (AST_VAR)
                            (AST_VAR)
                            (
                                (AST_IF
                                    (AST_IF_ELEM
                                        (AST_ISSET
                                            (AST_DIM
                                                (AST_VAR)
                                                (AST_VAR)))
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_BINARY_OP
                                                        (AST_VAR)
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (AST_VAR)))
                                                    (
                                                        (AST_POST_INC
                                                            (AST_VAR))
                                                        (AST_CONTINUE
                                                            (NULL)))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_CALL
                                                        (
                                                            (SCALAR)
                                                            (AST_VAR)))
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CALL
                                                                (
                                                                    (AST_ARRAY
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL))
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL))
                                                                        (AST_ARRAY_ELEM
                                                                            (SCALAR)
                                                                            (NULL)))
                                                                    (SCALAR)
                                                                    (AST_VAR))))
                                                        (AST_ASSIGN
                                                            (AST_DIM
                                                                (AST_VAR)
                                                                (AST_VAR))
                                                            (AST_DIM
                                                                (AST_VAR)
                                                                (AST_VAR)))
                                                        (AST_POST_INC
                                                            (AST_VAR))
                                                        (AST_CONTINUE
                                                            (NULL)))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_CALL
                                                        (
                                                            (SCALAR)
                                                            (AST_VAR)))
                                                    (
                                                        (AST_IF
                                                            (AST_IF_ELEM
                                                                (AST_BINARY_OP
                                                                    (AST_UNARY_OP
                                                                        (AST_ISSET
                                                                            (AST_DIM
                                                                                (AST_VAR)
                                                                                (AST_BINARY_OP
                                                                                    (AST_VAR)
                                                                                    (SCALAR)))))
                                                                    (AST_BINARY_OP
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_BINARY_OP
                                                                                (AST_VAR)
                                                                                (SCALAR)))
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR))))
                                                                (
                                                                    (AST_ASSIGN
                                                                        (AST_VAR)
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_ARRAY
                                                                                    (AST_ARRAY_ELEM
                                                                                        (SCALAR)
                                                                                        (NULL))
                                                                                    (AST_ARRAY_ELEM
                                                                                        (SCALAR)
                                                                                        (NULL))
                                                                                    (AST_ARRAY_ELEM
                                                                                        (SCALAR)
                                                                                        (NULL)))
                                                                                (SCALAR)
                                                                                (AST_VAR))))
                                                                    (AST_ASSIGN
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR))
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_VAR)))
                                                                    (AST_POST_INC
                                                                        (AST_VAR))
                                                                    (AST_CONTINUE
                                                                        (NULL))))))))))
                                    (AST_IF_ELEM
                                        (NULL)
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_UNARY_OP
                                                        (AST_CALL
                                                            (
                                                                (SCALAR)
                                                                (AST_VAR))))
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CONST))
                                                        (AST_BREAK
                                                            (NULL))))))))))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_ISSET
                                    (AST_DIM
                                        (AST_VAR)
                                        (AST_BINARY_OP
                                            (AST_VAR)
                                            (SCALAR))))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CONST)))))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_VAR)
                                (
                                    (AST_RETURN
                                        (AST_VAR)))))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_UNARY_OP
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))))
                        (
                            (AST_RETURN
                                (AST_ARRAY)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_STATIC_CALL
                        (
                            (SCALAR)
                            (AST_ARRAY
                                (AST_ARRAY_ELEM
                                    (AST_VAR)
                                    (SCALAR))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_UNARY_OP
                            (AST_EMPTY
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (AST_VAR)))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_CALL
                            (
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CALL
                                    (
                                        (AST_VAR)
                                        (AST_VAR))))))))))
    (AST_RETURN
        (AST_VAR)))