	public function username()
	{
		// if we're using "both" as login type, is session identity a username?
		if (config_item('auth.login_type') !== 'email' && (config_item('auth.user_usernames')))
		{
			return $this->ci->session->userdata('identity');
		}

		return $this->ci->session->userdata('username');
	}

	//--------------------------------------------------------------------

	/*
		Method: email()

		Retrieves the email address from the current session.

		Return:
			The user's email.
	*/
||||||||	public function username()
	{
		// if we're using "both" as login type, is session identity a username?
		if 	(config_item('auth.login_type') == 'username' OR
			(config_item('auth.login_type') !== 'email' && (config_item('auth.user_usernames'))))
		{
			return $this->ci->session->userdata('identity');
		}

		// TODO: consider optional bool to force using custom session var
		// just in case, and backport guarantee, we're returning custom session var
		return $this->ci->session->userdata('auth_custom');
	}

	//--------------------------------------------------------------------

	/*
		Method: email()

		Retrieves the email address from the current session.

		Return:
			The user's email.
	*/
||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_CALL
                        (
                            (SCALAR)))
                    (SCALAR))
                (AST_CALL
                    (
                        (SCALAR))))
            (
                (AST_RETURN
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_PROP
                                (AST_VAR)))
                        (
                            (SCALAR)))))))
    (AST_RETURN
        (AST_METHOD_CALL
            (AST_PROP
                (AST_PROP
                    (AST_VAR)))
            (
                (SCALAR)))))||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_CALL
                        (
                            (SCALAR)))
                    (SCALAR))
                (AST_BINARY_OP
                    (AST_BINARY_OP
                        (AST_CALL
                            (
                                (SCALAR)))
                        (SCALAR))
                    (AST_CALL
                        (
                            (SCALAR)))))
            (
                (AST_RETURN
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_PROP
                                (AST_VAR)))
                        (
                            (SCALAR)))))))
    (AST_RETURN
        (AST_METHOD_CALL
            (AST_PROP
                (AST_PROP
                    (AST_VAR)))
            (
                (SCALAR)))))