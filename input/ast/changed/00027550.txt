	public function run()
	{
		if ($this->iohandler->get_input('database_update_submit', false))
		{
			// Remove archive
			$this->filesystem->remove(
				$this->installer_config->get('update_file_archive', null)
			);

			$this->installer_config->set('update_file_archive', null);
		}
		else if ($this->iohandler->get_input('update_recheck_files_submit', false))
		{
			throw new jump_to_restart_point_exception('check_update_files');
		}
		else
		{
			// Render download box
			$this->iohandler->add_download_link(
				'phpbb_installer_update_file_download',
				'DOWNLOAD_UPDATE_METHOD',
				'DOWNLOAD_UPDATE_METHOD_EXPLAIN'
			);

			// Add form to continue update
			$this->iohandler->add_user_form_group('UPDATE_CONTINUE_UPDATE_PROCESS', array(
				'update_recheck_files_submit'	=> array(
					'label'	=> 'UPDATE_RECHECK_UPDATE_FILES',
					'type'	=> 'submit',
				),
				'database_update_submit'	=> array(
					'label'	=> 'UPDATE_CONTINUE_UPDATE_PROCESS',
					'type'	=> 'submit',
				),
			));

			$this->iohandler->send_response();
			throw new user_interaction_required_exception();
		}
	}

	/**
	 * {@inheritdoc}
	 */
||||||||	public function run()
	{
		if ($this->iohandler->get_input('database_update_submit', false))
		{
			// Remove archive
			$this->filesystem->remove(
				$this->installer_config->get('update_file_archive', null)
			);

			$this->installer_config->set('update_file_archive', null);
		}
		else if ($this->iohandler->get_input('update_recheck_files_submit', false))
		{
			throw new jump_to_restart_point_exception('check_update_files');
		}
		else
		{
			// Render download box
			$this->iohandler->add_download_link(
				'phpbb_installer_update_file_download',
				'DOWNLOAD_UPDATE_METHOD',
				'DOWNLOAD_UPDATE_METHOD_EXPLAIN'
			);

			// Add form to continue update
			$this->iohandler->add_user_form_group('UPDATE_CONTINUE_UPDATE_PROCESS', array(
				'update_recheck_files_submit'	=> array(
					'label'	=> 'UPDATE_RECHECK_UPDATE_FILES',
					'type'	=> 'submit',
				),
				'database_update_submit'	=> array(
					'label'	=> 'UPDATE_CONTINUE_UPDATE_PROCESS',
					'type'	=> 'submit',
				),
			));

			throw new user_interaction_required_exception();
		}
	}

	/**
	 * {@inheritdoc}
	 */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_METHOD_CALL
                (AST_PROP
                    (AST_VAR))
                (
                    (SCALAR)
                    (AST_CONST)))
            (
                (AST_METHOD_CALL
                    (AST_PROP
                        (AST_VAR))
                    (
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_CONST)))))
                (AST_METHOD_CALL
                    (AST_PROP
                        (AST_VAR))
                    (
                        (SCALAR)
                        (AST_CONST)))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_CONST)))
                        (
                            (AST_THROW
                                (AST_NEW
                                    (
                                        (SCALAR))))))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (SCALAR)
                                    (SCALAR)
                                    (SCALAR)))
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (SCALAR)
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR)))
                                            (SCALAR)))))
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR)))
                            (AST_THROW
                                (AST_NEW)))))))))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_METHOD_CALL
                (AST_PROP
                    (AST_VAR))
                (
                    (SCALAR)
                    (AST_CONST)))
            (
                (AST_METHOD_CALL
                    (AST_PROP
                        (AST_VAR))
                    (
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_CONST)))))
                (AST_METHOD_CALL
                    (AST_PROP
                        (AST_VAR))
                    (
                        (SCALAR)
                        (AST_CONST)))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (SCALAR)
                                (AST_CONST)))
                        (
                            (AST_THROW
                                (AST_NEW
                                    (
                                        (SCALAR))))))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (SCALAR)
                                    (SCALAR)
                                    (SCALAR)))
                            (AST_METHOD_CALL
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (SCALAR)
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR)))
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR))
                                                (AST_ARRAY_ELEM
                                                    (SCALAR)
                                                    (SCALAR)))
                                            (SCALAR)))))
                            (AST_THROW
                                (AST_NEW)))))))))