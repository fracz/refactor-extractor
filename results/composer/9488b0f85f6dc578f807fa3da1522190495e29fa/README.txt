commit 9488b0f85f6dc578f807fa3da1522190495e29fa
Author: Leszek Prabucki <leszek.prabucki@gmail.com>
Date:   Sun Jan 22 22:11:10 2012 +0100

    Fixed code. Changes improved code testability