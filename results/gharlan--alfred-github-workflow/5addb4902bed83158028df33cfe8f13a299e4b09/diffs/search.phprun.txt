    public static function run($query)
    {
        self::$enterprise = 'e' === $query[0];
        if (self::$enterprise) {
            $query = substr($query, 1);
        }
        $query = ltrim($query);
        self::$query = $query;
        self::$parts = $parts = explode(' ', $query);

        Workflow::init(self::$enterprise, $query);

        if (Workflow::checkUpdate()) {
            self::addUpdateCommands();
            return Workflow::getItemsAsXml();
        }

        if (self::$enterprise && !Workflow::getBaseUrl()) {
            self::addEnterpriseUrlCommand();
            return Workflow::getItemsAsXml();
        }

        if (!Workflow::getAccessToken() || !(self::$user = Workflow::requestApi('/user'))) {
            self::addLoginCommands();
            return Workflow::getItemsAsXml();
        }

        Workflow::stopServer();

        $isSystem = isset($query[0]) && $query[0] == '>';
        $isMy = 'my' == $parts[0] && isset($parts[1]);
        $isUser = isset($query[0]) && $query[0] == '@';
        $isRepo = false;
        $queryUser = null;
        if ($isUser) {
            $queryUser = ltrim($parts[0], '@');
        } elseif (($pos = strpos($parts[0], '/')) !== false) {
            $queryUser = substr($parts[0], 0, $pos);
            $isRepo = true;
        }

        if ($isSystem) {

            self::addSystemCommands();
            Workflow::sortItems();

        } else {

            if ($isMy) {
                self::addMyCommands();
            } elseif ($isUser && isset($parts[1])) {
                self::addUserSubCommands($queryUser);
            } elseif (!$isUser && $isRepo && isset($parts[1])) {
                self::addRepoSubCommands();
            } else {
                self::addDefaultCommands($isUser, $isRepo, $queryUser);
            }

            Workflow::sortItems();

            if ($query) {
                if (!$isUser && $isRepo && isset($parts[1])) {
                    $repoQuery = substr($query, strlen($parts[0]) + 1);
                    Workflow::addItem(Item::create()
                        ->title("Search '$parts[0]' for '$repoQuery'")
                        ->icon('search')
                        ->arg(Workflow::getBaseUrl() . '/' . $parts[0] . '/search?q=' . urlencode($repoQuery))
                        ->autocomplete(false)
                    , false);
                }
                $path = $isUser ? $queryUser : 'search?q=' . urlencode($query);
                Workflow::addItem(Item::create()
                    ->title("Search GitHub for '$query'")
                    ->icon('search')
                    ->arg(Workflow::getBaseUrl() . '/' . $path)
                    ->autocomplete(false)
                , false);
            }

        }

        return Workflow::getItemsAsXml();
    }

||||||||    public static function run($query)
    {
        self::$enterprise = 'e' === $query[0];
        if (self::$enterprise) {
            $query = substr($query, 1);
        }
        $query = ltrim($query);
        self::$query = $query;
        self::$parts = $parts = explode(' ', $query);

        Workflow::init(self::$enterprise, $query);

        if (Workflow::checkUpdate()) {
            self::addUpdateCommands();
            return Workflow::getItemsAsXml();
        }

        if (self::$enterprise && !Workflow::getBaseUrl()) {
            self::addEnterpriseUrlCommand();
            return Workflow::getItemsAsXml();
        }

        if (!Workflow::getAccessToken() || !(self::$user = Workflow::requestApi('/user'))) {
            self::addLoginCommands();
            return Workflow::getItemsAsXml();
        }

        Workflow::stopServer();

        $isSystem = isset($query[0]) && $query[0] == '>';
        $isMy = 'my' == $parts[0] && isset($parts[1]);
        $isUser = isset($query[0]) && $query[0] == '@';
        $isRepo = false;
        $queryUser = null;
        if ($isUser) {
            $queryUser = ltrim($parts[0], '@');
        } elseif (($pos = strpos($parts[0], '/')) !== false) {
            $queryUser = substr($parts[0], 0, $pos);
            $isRepo = true;
        }

        if ($isSystem) {

            self::addSystemCommands();
            Workflow::sortItems();

        } else {

            if ($isMy) {
                self::addMyCommands();
            } elseif ($isUser && isset($parts[1])) {
                self::addUserSubCommands($queryUser);
            } elseif (!$isUser && $isRepo && isset($parts[1])) {
                self::addRepoSubCommands();
            } else {
                self::addDefaultCommands($isUser, $isRepo, $queryUser);
            }

            Workflow::sortItems();

            if ($query) {
                if (!$isUser && $isRepo && isset($parts[1])) {
                    $repoQuery = substr($query, strlen($parts[0]) + 1);
                    Workflow::addItem(Item::create()
                        ->title("Search '$parts[0]' for '$repoQuery'")
                        ->icon('search')
                        ->arg('/' . $parts[0] . '/search?q=' . urlencode($repoQuery))
                        ->autocomplete(false)
                    , false);
                }
                $path = $isUser ? $queryUser : 'search?q=' . urlencode($query);
                $name = self::$enterprise ? 'GitHub Enterprise' : 'GitHub';
                Workflow::addItem(Item::create()
                    ->title("Search $name for '$query'")
                    ->icon('search')
                    ->arg('/' . $path)
                    ->autocomplete(false)
                , false);
            }

        }

        return Workflow::getItemsAsXml();
    }

||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_STATIC_PROP)
        (AST_BINARY_OP
            (SCALAR)
            (AST_DIM
                (AST_VAR)
                (SCALAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR)
                            (SCALAR)))))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_STATIC_PROP)
        (AST_VAR))
    (AST_ASSIGN
        (AST_STATIC_PROP)
        (AST_ASSIGN
            (AST_VAR)
            (AST_CALL
                (
                    (SCALAR)
                    (AST_VAR)))))
    (AST_STATIC_CALL
        (
            (AST_STATIC_PROP)
            (AST_VAR)))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_CALL)
            (
                (AST_STATIC_CALL)
                (AST_RETURN
                    (AST_STATIC_CALL)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_STATIC_PROP)
                (AST_UNARY_OP
                    (AST_STATIC_CALL)))
            (
                (AST_STATIC_CALL)
                (AST_RETURN
                    (AST_STATIC_CALL)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_UNARY_OP
                    (AST_STATIC_CALL))
                (AST_UNARY_OP
                    (AST_ASSIGN
                        (AST_STATIC_PROP)
                        (AST_STATIC_CALL
                            (
                                (SCALAR))))))
            (
                (AST_STATIC_CALL)
                (AST_RETURN
                    (AST_STATIC_CALL)))))
    (AST_STATIC_CALL)
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_BINARY_OP
                (AST_DIM
                    (AST_VAR)
                    (SCALAR))
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_BINARY_OP
                (SCALAR)
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_BINARY_OP
                (AST_DIM
                    (AST_VAR)
                    (SCALAR))
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (SCALAR))))))
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (SCALAR))))
                (AST_CONST))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (SCALAR)
                            (AST_VAR))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CONST)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_STATIC_CALL)
                (AST_STATIC_CALL)))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_VAR)
                        (
                            (AST_STATIC_CALL)))
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_VAR)
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))))
                        (
                            (AST_STATIC_CALL
                                (
                                    (AST_VAR)))))
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_BINARY_OP
                                (AST_UNARY_OP
                                    (AST_VAR))
                                (AST_VAR))
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))))
                        (
                            (AST_STATIC_CALL)))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_STATIC_CALL
                                (
                                    (AST_VAR)
                                    (AST_VAR)
                                    (AST_VAR))))))
                (AST_STATIC_CALL)
                (AST_IF
                    (AST_IF_ELEM
                        (AST_VAR)
                        (
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_BINARY_OP
                                        (AST_BINARY_OP
                                            (AST_UNARY_OP
                                                (AST_VAR))
                                            (AST_VAR))
                                        (AST_ISSET
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR))))
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (AST_VAR)
                                                    (AST_BINARY_OP
                                                        (AST_CALL
                                                            (
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (SCALAR))))
                                                        (SCALAR)))))
                                        (AST_STATIC_CALL
                                            (
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_STATIC_CALL)
                                                                (
                                                                    (AST_ENCAPS_LIST
                                                                        (SCALAR)
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (SCALAR))
                                                                        (SCALAR)
                                                                        (AST_VAR)
                                                                        (SCALAR))))
                                                            (
                                                                (SCALAR)))
                                                        (
                                                            (AST_BINARY_OP
                                                                (AST_BINARY_OP
                                                                    (AST_BINARY_OP
                                                                        (AST_BINARY_OP
                                                                            (AST_STATIC_CALL)
                                                                            (SCALAR))
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (SCALAR)))
                                                                    (SCALAR))
                                                                (AST_CALL
                                                                    (
                                                                        (AST_VAR))))))
                                                    (
                                                        (AST_CONST)))
                                                (AST_CONST))))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONDITIONAL
                                    (AST_VAR)
                                    (AST_VAR)
                                    (AST_BINARY_OP
                                        (SCALAR)
                                        (AST_CALL
                                            (
                                                (AST_VAR))))))
                            (AST_STATIC_CALL
                                (
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_STATIC_CALL)
                                                    (
                                                        (AST_ENCAPS_LIST
                                                            (SCALAR)
                                                            (AST_VAR)
                                                            (SCALAR))))
                                                (
                                                    (SCALAR)))
                                            (
                                                (AST_BINARY_OP
                                                    (AST_BINARY_OP
                                                        (AST_STATIC_CALL)
                                                        (SCALAR))
                                                    (AST_VAR))))
                                        (
                                            (AST_CONST)))
                                    (AST_CONST)))))))))
    (AST_RETURN
        (AST_STATIC_CALL)))||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_STATIC_PROP)
        (AST_BINARY_OP
            (SCALAR)
            (AST_DIM
                (AST_VAR)
                (SCALAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_PROP)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_VAR)
                            (SCALAR)))))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_STATIC_PROP)
        (AST_VAR))
    (AST_ASSIGN
        (AST_STATIC_PROP)
        (AST_ASSIGN
            (AST_VAR)
            (AST_CALL
                (
                    (SCALAR)
                    (AST_VAR)))))
    (AST_STATIC_CALL
        (
            (AST_STATIC_PROP)
            (AST_VAR)))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_CALL)
            (
                (AST_STATIC_CALL)
                (AST_RETURN
                    (AST_STATIC_CALL)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_STATIC_PROP)
                (AST_UNARY_OP
                    (AST_STATIC_CALL)))
            (
                (AST_STATIC_CALL)
                (AST_RETURN
                    (AST_STATIC_CALL)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_UNARY_OP
                    (AST_STATIC_CALL))
                (AST_UNARY_OP
                    (AST_ASSIGN
                        (AST_STATIC_PROP)
                        (AST_STATIC_CALL
                            (
                                (SCALAR))))))
            (
                (AST_STATIC_CALL)
                (AST_RETURN
                    (AST_STATIC_CALL)))))
    (AST_STATIC_CALL)
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_BINARY_OP
                (AST_DIM
                    (AST_VAR)
                    (SCALAR))
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_BINARY_OP
                (SCALAR)
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_BINARY_OP
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_BINARY_OP
                (AST_DIM
                    (AST_VAR)
                    (SCALAR))
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (SCALAR))))))
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (SCALAR))))
                (AST_CONST))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (SCALAR)
                            (AST_VAR))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CONST)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_STATIC_CALL)
                (AST_STATIC_CALL)))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_VAR)
                        (
                            (AST_STATIC_CALL)))
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_VAR)
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))))
                        (
                            (AST_STATIC_CALL
                                (
                                    (AST_VAR)))))
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_BINARY_OP
                                (AST_UNARY_OP
                                    (AST_VAR))
                                (AST_VAR))
                            (AST_ISSET
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))))
                        (
                            (AST_STATIC_CALL)))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_STATIC_CALL
                                (
                                    (AST_VAR)
                                    (AST_VAR)
                                    (AST_VAR))))))
                (AST_STATIC_CALL)
                (AST_IF
                    (AST_IF_ELEM
                        (AST_VAR)
                        (
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_BINARY_OP
                                        (AST_BINARY_OP
                                            (AST_UNARY_OP
                                                (AST_VAR))
                                            (AST_VAR))
                                        (AST_ISSET
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR))))
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (AST_VAR)
                                                    (AST_BINARY_OP
                                                        (AST_CALL
                                                            (
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (SCALAR))))
                                                        (SCALAR)))))
                                        (AST_STATIC_CALL
                                            (
                                                (AST_METHOD_CALL
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_METHOD_CALL
                                                                (AST_STATIC_CALL)
                                                                (
                                                                    (AST_ENCAPS_LIST
                                                                        (SCALAR)
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (SCALAR))
                                                                        (SCALAR)
                                                                        (AST_VAR)
                                                                        (SCALAR))))
                                                            (
                                                                (SCALAR)))
                                                        (
                                                            (AST_BINARY_OP
                                                                (AST_BINARY_OP
                                                                    (AST_BINARY_OP
                                                                        (SCALAR)
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (SCALAR)))
                                                                    (SCALAR))
                                                                (AST_CALL
                                                                    (
                                                                        (AST_VAR))))))
                                                    (
                                                        (AST_CONST)))
                                                (AST_CONST))))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONDITIONAL
                                    (AST_VAR)
                                    (AST_VAR)
                                    (AST_BINARY_OP
                                        (SCALAR)
                                        (AST_CALL
                                            (
                                                (AST_VAR))))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONDITIONAL
                                    (AST_STATIC_PROP)
                                    (SCALAR)
                                    (SCALAR)))
                            (AST_STATIC_CALL
                                (
                                    (AST_METHOD_CALL
                                        (AST_METHOD_CALL
                                            (AST_METHOD_CALL
                                                (AST_METHOD_CALL
                                                    (AST_STATIC_CALL)
                                                    (
                                                        (AST_ENCAPS_LIST
                                                            (SCALAR)
                                                            (AST_VAR)
                                                            (SCALAR)
                                                            (AST_VAR)
                                                            (SCALAR))))
                                                (
                                                    (SCALAR)))
                                            (
                                                (AST_BINARY_OP
                                                    (SCALAR)
                                                    (AST_VAR))))
                                        (
                                            (AST_CONST)))
                                    (AST_CONST)))))))))
    (AST_RETURN
        (AST_STATIC_CALL)))