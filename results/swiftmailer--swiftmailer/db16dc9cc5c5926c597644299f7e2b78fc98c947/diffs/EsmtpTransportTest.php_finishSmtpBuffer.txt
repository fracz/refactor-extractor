  private function _finishSmtpBuffer()
  {
    $this->_smtpBuf->setReturnValue(
      'readLine', '220 server.com foo' . "\r\n", array(0)
      );
    $this->_smtpBuf->setReturnValue(
      'write', $x = uniqid(), array(new PatternExpectation('~^EHLO .*?\r\n$~D'))
      );
    $this->_smtpBuf->setReturnValue(
      'readLine', '250 ServerName' . "\r\n", array($x)
      );
    $this->_smtpBuf->setReturnValue(
      'write', $x = uniqid(), array(new PatternExpectation('~^MAIL FROM: <.*?>\r\n$~D'))
      );
    $this->_smtpBuf->setReturnValue(
      'readLine', '250 OK' . "\r\n", array($x)
      );
    $this->_smtpBuf->setReturnValue(
      'write', $x = uniqid(), array(new PatternExpectation('~^RCPT TO: <.*?>\r\n$~D'))
      );
    $this->_smtpBuf->setReturnValue(
      'readLine', "250 OK\r\n", array($x)
      );
    $this->_smtpBuf->setReturnValue('write', $x = uniqid(), array("DATA\r\n"));
    $this->_smtpBuf->setReturnValue('readLine', "354 Go ahead\r\n", array($x));
    $this->_smtpBuf->setReturnValue('write', $x = uniqid(), array("\r\n.\r\n"));
    $this->_smtpBuf->setReturnValue('readLine', "250 OK\r\n", array($x));
    $this->_smtpBuf->setReturnValue('readLine', false); //default return
  }

}||||||||||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_BINARY_OP
                (SCALAR)
                (SCALAR))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_ASSIGN
                (AST_VAR)
                (AST_CALL))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_NEW
                        (
                            (SCALAR)))
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_BINARY_OP
                (SCALAR)
                (SCALAR))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_ASSIGN
                (AST_VAR)
                (AST_CALL))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_NEW
                        (
                            (SCALAR)))
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_BINARY_OP
                (SCALAR)
                (SCALAR))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_ASSIGN
                (AST_VAR)
                (AST_CALL))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_NEW
                        (
                            (SCALAR)))
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_ASSIGN
                (AST_VAR)
                (AST_CALL))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_ASSIGN
                (AST_VAR)
                (AST_CALL))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (AST_CONST))))||||||||