  public function testMixinMethodsBeginningWithSetAndNullReturnAreFluid()
  {
    $ext1 = new Swift_Transport_MockEsmtpHandlerMixin();
    $ext1->setReturnValue('getHandledKeyword', 'AUTH');
    $ext1->setReturnValue('getPriorityOver', 0, array('STARTTLS'));
    $ext1->setReturnValue('exposeMixinMethods', array('setUsername', 'setPassword'));
    $ext1->expectOnce('setUsername', array('mick'));
    $ext1->setReturnValue('setUsername', null);
    $ext1->expectOnce('setPassword', array('pass'));
    $ext1->setReturnValue('setPassword', null);

    $ext2 = new Swift_Transport_MockEsmtpHandler();
    $ext2->setReturnValue('getHandledKeyword', 'STARTTLS');
    $ext2->setReturnValue('getPriorityOver', -1, array('AUTH'));

    $this->_smtpTransport->setExtensionHandlers(array($ext1, $ext2));

    $this->assertReference($this->_smtpTransport, $this->_smtpTransport->setUsername('mick'));
    $this->assertReference($this->_smtpTransport, $this->_smtpTransport->setPassword('pass'));
  }

||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_UNARY_OP
                (SCALAR))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_PROP
                (AST_VAR))
            (AST_METHOD_CALL
                (AST_PROP
                    (AST_VAR))
                (
                    (SCALAR)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_PROP
                (AST_VAR))
            (AST_METHOD_CALL
                (AST_PROP
                    (AST_VAR))
                (
                    (SCALAR))))))||||||||