commit 94c0d02330e912f400f05465edda1935c0cd11c0
Author: Roman Syroeshko <syroeshkoro@gmail.com>
Date:   Sat Oct 10 19:06:23 2015 +0400

    Next round of refactoring of alignment-related functionality.