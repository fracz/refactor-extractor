  public function testControllerAccessControls() {
    $root = dirname(phutil_get_library_root('phabricator'));
    require_once $root.'/support/PhabricatorStartup.php';

    $application_configuration = new AphrontDefaultApplicationConfiguration();

    $host = 'meow.example.com';

    $_SERVER['REQUEST_METHOD'] = 'GET';

    $request = id(new AphrontRequest($host, '/'))
      ->setApplicationConfiguration($application_configuration)
      ->setRequestData(array());

    $controller = new PhabricatorTestController($request);

    $u_public = id(new PhabricatorUser())
      ->setUsername('public');

    $u_unverified = $this->generateNewTestUser()
      ->setUsername('unverified')
      ->save();
    $u_unverified->loadPrimaryEmail()->setIsVerified(0)->save();

    $u_normal = $this->generateNewTestUser()
      ->setUsername('normal')
      ->save();

    $u_disabled = $this->generateNewTestUser()
      ->setIsDisabled(true)
      ->setUsername('disabled')
      ->save();

    $u_admin = $this->generateNewTestUser()
      ->setIsAdmin(true)
      ->setUsername('admin')
      ->save();

    $env = PhabricatorEnv::beginScopedEnv();
    $env->overrideEnvConfig('phabricator.base-uri', 'http://'.$host);
    $env->overrideEnvConfig('policy.allow-public', false);
    $env->overrideEnvConfig('auth.require-email-verification', false);
    $env->overrideEnvConfig('auth.email-domains', array());


    // Test standard defaults.

    $this->checkAccess(
      "Default",
      id(clone $controller),
      $request,
      array(
        $u_normal,
        $u_admin,
        $u_unverified,
      ),
      array(
        $u_public,
        $u_disabled,
      ));


    // Test email verification.

    $env->overrideEnvConfig('auth.require-email-verification', true);
    $this->checkAccess(
      "Email Verification Required",
      id(clone $controller),
      $request,
      array(
        $u_normal,
        $u_admin,
      ),
      array(
        $u_unverified,
        $u_public,
        $u_disabled,
      ));

    $this->checkAccess(
      "Email Verification Required, With Exception",
      id(clone $controller)->setConfig('email', false),
      $request,
      array(
        $u_normal,
        $u_admin,
        $u_unverified,
      ),
      array(
        $u_public,
        $u_disabled,
      ));
    $env->overrideEnvConfig('auth.require-email-verification', false);


    // Test admin access.

    $this->checkAccess(
      "Admin Required",
      id(clone $controller)->setConfig('admin', true),
      $request,
      array(
        $u_admin,
      ),
      array(
        $u_normal,
        $u_unverified,
        $u_public,
        $u_disabled,
      ));


    // Test disabled access.

    $this->checkAccess(
      "Allow Disabled",
      id(clone $controller)->setConfig('enabled', false),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_disabled,
      ),
      array(
        $u_public,
      ));


    // Test no login required.

    $this->checkAccess(
      "No Login Required",
      id(clone $controller)->setConfig('login', false),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
      ),
      array(
        $u_disabled,
      ));


    // Test public access.

    $this->checkAccess(
      "No Login Required",
      id(clone $controller)->setConfig('public', true),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
      ),
      array(
        $u_disabled,
        $u_public,
      ));

    $env->overrideEnvConfig('policy.allow-public', true);
    $this->checkAccess(
      "Public + configured",
      id(clone $controller)->setConfig('public', true),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
      ),
      array(
        $u_disabled,
      ));
    $env->overrideEnvConfig('policy.allow-public', false);


    $app = PhabricatorApplication::getByClass('PhabricatorApplicationTest');
    $app->reset();
    $app->setPolicy(
      PhabricatorPolicyCapability::CAN_VIEW,
      PhabricatorPolicies::POLICY_NOONE);

    $app_controller = id(clone $controller)->setCurrentApplication($app);

    $this->checkAccess(
      "Application Controller",
      $app_controller,
      $request,
      array(
      ),
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
        $u_disabled,
      ));

    $this->checkAccess(
      "Application Controller",
      id(clone $app_controller)->setConfig('login', false),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
      ),
      array(
        $u_disabled,
      ));
  }

||||||||  public function testControllerAccessControls() {
    $root = dirname(phutil_get_library_root('phabricator'));
    require_once $root.'/support/PhabricatorStartup.php';

    $application_configuration = new AphrontDefaultApplicationConfiguration();

    $host = 'meow.example.com';

    $_SERVER['REQUEST_METHOD'] = 'GET';

    $request = id(new AphrontRequest($host, '/'))
      ->setApplicationConfiguration($application_configuration)
      ->setRequestData(array());

    $controller = new PhabricatorTestController($request);

    $u_public = id(new PhabricatorUser())
      ->setUsername('public');

    $u_unverified = $this->generateNewTestUser()
      ->setUsername('unverified')
      ->save();
    $u_unverified->setIsEmailVerified(0)->save();

    $u_normal = $this->generateNewTestUser()
      ->setUsername('normal')
      ->save();

    $u_disabled = $this->generateNewTestUser()
      ->setIsDisabled(true)
      ->setUsername('disabled')
      ->save();

    $u_admin = $this->generateNewTestUser()
      ->setIsAdmin(true)
      ->setUsername('admin')
      ->save();

    $env = PhabricatorEnv::beginScopedEnv();
    $env->overrideEnvConfig('phabricator.base-uri', 'http://'.$host);
    $env->overrideEnvConfig('policy.allow-public', false);
    $env->overrideEnvConfig('auth.require-email-verification', false);
    $env->overrideEnvConfig('auth.email-domains', array());


    // Test standard defaults.

    $this->checkAccess(
      "Default",
      id(clone $controller),
      $request,
      array(
        $u_normal,
        $u_admin,
        $u_unverified,
      ),
      array(
        $u_public,
        $u_disabled,
      ));


    // Test email verification.

    $env->overrideEnvConfig('auth.require-email-verification', true);
    $this->checkAccess(
      "Email Verification Required",
      id(clone $controller),
      $request,
      array(
        $u_normal,
        $u_admin,
      ),
      array(
        $u_unverified,
        $u_public,
        $u_disabled,
      ));

    $this->checkAccess(
      "Email Verification Required, With Exception",
      id(clone $controller)->setConfig('email', false),
      $request,
      array(
        $u_normal,
        $u_admin,
        $u_unverified,
      ),
      array(
        $u_public,
        $u_disabled,
      ));
    $env->overrideEnvConfig('auth.require-email-verification', false);


    // Test admin access.

    $this->checkAccess(
      "Admin Required",
      id(clone $controller)->setConfig('admin', true),
      $request,
      array(
        $u_admin,
      ),
      array(
        $u_normal,
        $u_unverified,
        $u_public,
        $u_disabled,
      ));


    // Test disabled access.

    $this->checkAccess(
      "Allow Disabled",
      id(clone $controller)->setConfig('enabled', false),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_disabled,
      ),
      array(
        $u_public,
      ));


    // Test no login required.

    $this->checkAccess(
      "No Login Required",
      id(clone $controller)->setConfig('login', false),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
      ),
      array(
        $u_disabled,
      ));


    // Test public access.

    $this->checkAccess(
      "No Login Required",
      id(clone $controller)->setConfig('public', true),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
      ),
      array(
        $u_disabled,
        $u_public,
      ));

    $env->overrideEnvConfig('policy.allow-public', true);
    $this->checkAccess(
      "Public + configured",
      id(clone $controller)->setConfig('public', true),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
      ),
      array(
        $u_disabled,
      ));
    $env->overrideEnvConfig('policy.allow-public', false);


    $app = PhabricatorApplication::getByClass('PhabricatorApplicationTest');
    $app->reset();
    $app->setPolicy(
      PhabricatorPolicyCapability::CAN_VIEW,
      PhabricatorPolicies::POLICY_NOONE);

    $app_controller = id(clone $controller)->setCurrentApplication($app);

    $this->checkAccess(
      "Application Controller",
      $app_controller,
      $request,
      array(
      ),
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
        $u_disabled,
      ));

    $this->checkAccess(
      "Application Controller",
      id(clone $app_controller)->setConfig('login', false),
      $request,
      array(
        $u_normal,
        $u_unverified,
        $u_admin,
        $u_public,
      ),
      array(
        $u_disabled,
      ));
  }

||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_CALL
                    (
                        (SCALAR))))))
    (AST_INCLUDE_OR_EVAL
        (AST_BINARY_OP
            (AST_VAR)
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW))
    (AST_ASSIGN
        (AST_VAR)
        (SCALAR))
    (AST_ASSIGN
        (AST_DIM
            (AST_VAR)
            (SCALAR))
        (SCALAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_NEW
                            (
                                (AST_VAR)
                                (SCALAR)))))
                (
                    (AST_VAR)))
            (
                (AST_ARRAY))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_CALL
                (
                    (AST_NEW)))
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_VAR))
                (
                    (SCALAR)))))
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_VAR))
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_VAR))
                (
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (
                        (AST_CONST)))
                (
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (
                        (AST_CONST)))
                (
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_BINARY_OP
                (SCALAR)
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_ARRAY)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CALL
                (
                    (AST_CLONE
                        (AST_VAR))))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CALL
                (
                    (AST_CLONE
                        (AST_VAR))))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_CLASS_CONST
                (SCALAR))
            (AST_CLASS_CONST
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_CALL
                (
                    (AST_CLONE
                        (AST_VAR))))
            (
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_VAR)
            (AST_VAR)
            (AST_ARRAY)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))))))||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_CALL
                    (
                        (SCALAR))))))
    (AST_INCLUDE_OR_EVAL
        (AST_BINARY_OP
            (AST_VAR)
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW))
    (AST_ASSIGN
        (AST_VAR)
        (SCALAR))
    (AST_ASSIGN
        (AST_DIM
            (AST_VAR)
            (SCALAR))
        (SCALAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_NEW
                            (
                                (AST_VAR)
                                (SCALAR)))))
                (
                    (AST_VAR)))
            (
                (AST_ARRAY))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_CALL
                (
                    (AST_NEW)))
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_VAR))
                (
                    (SCALAR)))))
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_VAR))
                (
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (
                        (AST_CONST)))
                (
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (
                        (AST_CONST)))
                (
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_BINARY_OP
                (SCALAR)
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_ARRAY)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CALL
                (
                    (AST_CLONE
                        (AST_VAR))))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CALL
                (
                    (AST_CLONE
                        (AST_VAR))))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_CONST)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_CLASS_CONST
                (SCALAR))
            (AST_CLASS_CONST
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_CALL
                (
                    (AST_CLONE
                        (AST_VAR))))
            (
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_VAR)
            (AST_VAR)
            (AST_ARRAY)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (SCALAR)
            (AST_METHOD_CALL
                (AST_CALL
                    (
                        (AST_CLONE
                            (AST_VAR))))
                (
                    (SCALAR)
                    (AST_CONST)))
            (AST_VAR)
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_VAR)
                    (NULL))))))