commit 1af21221ae2c0003041d7e905f685027280a3152
Author: Fabien Potencier <fabien.potencier@gmail.com>
Date:   Wed Dec 22 14:50:39 2010 +0100

    refactored and fix previous commit