    public function test_get_renderer_overridden() {
        // Set up - be very careful because the class under test uses require-once. Pick a unique theme name.
        $theme = $this->make_theme('testrenderertheme');
        $this->write_renderers_file($theme, '
        class testrenderertheme_mod_test_renderer extends moodle_mod_test_renderer {
        }');
        $factory = new testable_theme_overridden_renderer_factory($theme, $this->page);

        // Exercise SUT.
        $renderer    = $factory->get_renderer('mod_test', new moodle_page);
        $subrenderer = $factory->get_renderer('mod_test', new moodle_page, 'subtype');

        // Verify outcome
        $this->assertIsA($renderer, 'testrenderertheme_mod_test_renderer');
        $this->assertIsA($subrenderer, 'moodle_mod_test_subtype_renderer');
    }

||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR)
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_VAR)
                (AST_PROP
                    (AST_VAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR)
                (AST_NEW))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR)
                (AST_NEW)
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR)
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR)
            (SCALAR))))||||||||