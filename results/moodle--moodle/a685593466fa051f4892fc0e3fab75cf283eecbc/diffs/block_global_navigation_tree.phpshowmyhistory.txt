    protected function showmyhistory() {
        global $USER, $PAGE, $ME;

        // Create a navigation cache so that we can store the history
        $cache = new navigation_cache('navigationhistory', 60*60);

        // If the user isn't logged in or is a guest we don't want to display anything
        if (!isloggedin() || isguestuser()) {
            return false;
        }

        // Check the cache to see if we have loaded my courses already
        // there is a very good chance that we have
        if (!$cache->cached('history')) {
            $cache->history = array();
        }
        $history = $cache->history;
        $historycount = count($history);

        // Find the initial active node
        $child = false;
        if ($PAGE->navigation->contains_active_node()) {
            $child = $PAGE->navigation->find_active_node();
        } else if ($PAGE->settingsnav->contains_active_node()) {
            $child = $PAGE->settingsnav->find_active_node();
        }
        // Check that we found an active child node
        if ($child!==false) {
            $properties = array();
            // Check whether this child contains another active child node
            // this can happen if we are looking at a module
            if ($child->contains_active_node()) {
                $titlebits = array();
                // Loop while the child contains active nodes and in each iteration
                // find the next node in the correct direction
                while ($child!==null && $child->contains_active_node()) {
                    if (!empty($child->shorttext)) {
                        $titlebits[] = $child->shorttext;
                    } else {
                        $titlebits[] = $child->text;
                    }
                    foreach ($child->children as $child) {
                        if ($child->contains_active_node() || $child->isactive) {
                            // We have found the active child or one of its parents
                            // so break the foreach so we can proceed in the while
                            break;
                        }
                    }
                }
                if (!empty($child->shorttext)) {
                    $titlebits[] = $child->shorttext;
                } else {
                    $titlebits[] = $child->text;
                }
                $properties['text'] = join(' - ', $titlebits);
                $properties['shorttext'] = join(' - ', $titlebits);
            } else {
                $properties['text'] = $child->text;
                $properties['shorttext'] = $child->shorttext;
            }
            $properties['action'] = $child->action;
            $properties['key'] = $child->key;
            $properties['type'] = $child->type;
            $properties['icon'] = $child->icon;

            // Create a new navigation node object free of the main structure
            // so that it is easily storeable and customised
            $child = new navigation_node($properties);

            // Check that this page isn't already in the history array. If it is
            // we will remove it so that it gets added at the top and we dont get
            // duplicate entries
            foreach ($history as $key=>$node) {
                if ($node->key == $child->key && $node->type == $child->type) {
                    if ($node->action instanceof moodle_url && $child->action instanceof moodle_url && $node->action->compare($child->action)) {
                        unset($history[$key]);
                    } else if ($child->action instanceof moodle_url && $child->action->out(true) == $node->action) {
                        unset($history[$key]);
                    } else if ($child->action == $node->action) {
                        unset($history[$key]);
                    }
                }
            }
            // If there is more than 5 elements in the array remove the first one
            // We want a fifo array
            if (count($history) > 5) {
                array_shift($history);
            }
            $child->nodetype = navigation_node::NODETYPE_LEAF;
            $child->children = array();
            // Add the child to the history array
            array_push($history,$child);
        }

        // If we have `more than nothing` in the history display it :D
        if ($historycount > 0) {
            // Add a branch to hold the users history
            $mymoodle = $PAGE->navigation->get('mymoodle', navigation_node::TYPE_CUSTOM);
            $myhistorybranch = $mymoodle->add(get_string('showmyhistorytitle', $this->blockname), null, navigation_node::TYPE_CUSTOM, null, 'myhistory');
            $mymoodle->get($myhistorybranch)->children = array_reverse($history);
        }

        // Cache the history (or update the cached history as it is)
        $cache->history = $history;

        return true;
    }

    /**
     * This function loads the users my courses array into the navigation
     *
     * @return bool
     */
||||||||    protected function showmyhistory() {
        global $USER, $PAGE;

        // Create a navigation cache so that we can store the history
        $cache = new navigation_cache('navigationhistory', 60*60);

        // If the user isn't logged in or is a guest we don't want to display anything
        if (!isloggedin() || isguestuser()) {
            return false;
        }

        // Check the cache to see if we have loaded my courses already
        // there is a very good chance that we have
        if (!$cache->cached('history')) {
            $cache->history = array();
        }
        $history = $cache->history;
        $historycount = count($history);

        // Find the initial active node
        $child = false;
        if ($PAGE->navigation->contains_active_node()) {
            $child = $PAGE->navigation->find_active_node();
        } else if ($PAGE->settingsnav->contains_active_node()) {
            $child = $PAGE->settingsnav->find_active_node();
        }
        // Check that we found an active child node
        if ($child!==false) {
            $properties = array();
            // Check whether this child contains another active child node
            // this can happen if we are looking at a module
            if ($child->contains_active_node()) {
                $titlebits = array();
                // Loop while the child contains active nodes and in each iteration
                // find the next node in the correct direction
                while ($child!==null && $child->contains_active_node()) {
                    if (!empty($child->shorttext)) {
                        $titlebits[] = $child->shorttext;
                    } else {
                        $titlebits[] = $child->text;
                    }
                    foreach ($child->children as $child) {
                        if ($child->contains_active_node() || $child->isactive) {
                            // We have found the active child or one of its parents
                            // so break the foreach so we can proceed in the while
                            break;
                        }
                    }
                }
                if (!empty($child->shorttext)) {
                    $titlebits[] = $child->shorttext;
                } else {
                    $titlebits[] = $child->text;
                }
                $properties['text'] = join(' - ', $titlebits);
                $properties['shorttext'] = join(' - ', $titlebits);
            } else {
                $properties['text'] = $child->text;
                $properties['shorttext'] = $child->shorttext;
            }
            $properties['action'] = $child->action;
            $properties['key'] = $child->key;
            $properties['type'] = $child->type;
            $properties['icon'] = $child->icon;

            // Create a new navigation node object free of the main structure
            // so that it is easily storeable and customised
            $child = new navigation_node($properties);

            // Check that this page isn't already in the history array. If it is
            // we will remove it so that it gets added at the top and we dont get
            // duplicate entries
            foreach ($history as $key=>$node) {
                if ($node->key == $child->key && $node->type == $child->type) {
                    if ($node->action instanceof moodle_url && $child->action instanceof moodle_url && $node->action->compare($child->action)) {
                        unset($history[$key]);
                    } else if ($child->action instanceof moodle_url && $child->action->out(true) == $node->action) {
                        unset($history[$key]);
                    } else if ($child->action == $node->action) {
                        unset($history[$key]);
                    }
                }
            }
            // If there is more than 5 elements in the array remove the first one
            // We want a fifo array
            if (count($history) > 5) {
                array_shift($history);
            }
            $child->nodetype = navigation_node::NODETYPE_LEAF;
            $child->children = array();
            // Add the child to the history array
            array_push($history,$child);
        }

        // If we have `more than nothing` in the history display it :D
        if ($historycount > 0) {
            // Add a branch to hold the users history
            $mymoodle = $PAGE->navigation->get('mymoodle', navigation_node::TYPE_CUSTOM);
            $myhistorybranch = $mymoodle->add(get_string('showmyhistorytitle', $this->blockname), null, navigation_node::TYPE_CUSTOM, null, 'myhistory');
            $mymoodle->get($myhistorybranch)->children = array_reverse($history);
        }

        // Cache the history (or update the cached history as it is)
        $cache->history = $history;

        return true;
    }

    /**
     * This function loads the users my courses array into the navigation
     *
     * @return bool
     */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_GLOBAL
        (AST_VAR))
    (AST_GLOBAL
        (AST_VAR))
    (AST_GLOBAL
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (SCALAR)
                (AST_BINARY_OP
                    (SCALAR)
                    (SCALAR)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_UNARY_OP
                    (AST_CALL))
                (AST_CALL))
            (
                (AST_RETURN
                    (AST_CONST)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR))))
            (
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_ARRAY)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_PROP
            (AST_VAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_IF
        (AST_IF_ELEM
            (AST_METHOD_CALL
                (AST_PROP
                    (AST_VAR)))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))))))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_VAR)
                (AST_CONST))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_METHOD_CALL
                            (AST_VAR))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_ARRAY))
                            (AST_WHILE
                                (AST_BINARY_OP
                                    (AST_BINARY_OP
                                        (AST_VAR)
                                        (AST_CONST))
                                    (AST_METHOD_CALL
                                        (AST_VAR)))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_UNARY_OP
                                                (AST_EMPTY
                                                    (AST_PROP
                                                        (AST_VAR))))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (NULL))
                                                    (AST_PROP
                                                        (AST_VAR)))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (NULL))
                                                    (AST_PROP
                                                        (AST_VAR))))))
                                    (AST_FOREACH
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_VAR)
                                        (NULL)
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_BINARY_OP
                                                        (AST_METHOD_CALL
                                                            (AST_VAR))
                                                        (AST_PROP
                                                            (AST_VAR)))
                                                    (
                                                        (AST_BREAK
                                                            (NULL)))))))))
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_UNARY_OP
                                        (AST_EMPTY
                                            (AST_PROP
                                                (AST_VAR))))
                                    (
                                        (AST_ASSIGN
                                            (AST_DIM
                                                (AST_VAR)
                                                (NULL))
                                            (AST_PROP
                                                (AST_VAR)))))
                                (AST_IF_ELEM
                                    (NULL)
                                    (
                                        (AST_ASSIGN
                                            (AST_DIM
                                                (AST_VAR)
                                                (NULL))
                                            (AST_PROP
                                                (AST_VAR))))))
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_CALL
                                    (
                                        (SCALAR)
                                        (AST_VAR))))
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_CALL
                                    (
                                        (SCALAR)
                                        (AST_VAR))))))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_PROP
                                    (AST_VAR)))
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_PROP
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_NEW
                        (
                            (AST_VAR))))
                (AST_FOREACH
                    (AST_VAR)
                    (AST_VAR)
                    (AST_VAR)
                    (
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_BINARY_OP
                                    (AST_BINARY_OP
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_PROP
                                            (AST_VAR)))
                                    (AST_BINARY_OP
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_PROP
                                            (AST_VAR))))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_INSTANCEOF
                                                        (AST_PROP
                                                            (AST_VAR)))
                                                    (AST_INSTANCEOF
                                                        (AST_PROP
                                                            (AST_VAR))))
                                                (AST_METHOD_CALL
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (
                                                        (AST_PROP
                                                            (AST_VAR)))))
                                            (
                                                (AST_UNSET
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (AST_VAR)))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_BINARY_OP
                                                            (AST_INSTANCEOF
                                                                (AST_PROP
                                                                    (AST_VAR)))
                                                            (AST_BINARY_OP
                                                                (AST_METHOD_CALL
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (
                                                                        (AST_CONST)))
                                                                (AST_PROP
                                                                    (AST_VAR))))
                                                        (
                                                            (AST_UNSET
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (AST_VAR)))))
                                                    (AST_IF_ELEM
                                                        (NULL)
                                                        (
                                                            (AST_IF
                                                                (AST_IF_ELEM
                                                                    (AST_BINARY_OP
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (AST_PROP
                                                                            (AST_VAR)))
                                                                    (
                                                                        (AST_UNSET
                                                                            (AST_DIM
                                                                                (AST_VAR)
                                                                                (AST_VAR)))))))))))))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_CALL
                                (
                                    (AST_VAR)))
                            (SCALAR))
                        (
                            (AST_CALL
                                (
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_CLASS_CONST
                        (SCALAR)))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_ARRAY))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_VAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_VAR)
                (SCALAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR)
                            (AST_CLASS_CONST
                                (SCALAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_VAR)
                        (
                            (AST_CALL
                                (
                                    (SCALAR)
                                    (AST_PROP
                                        (AST_VAR))))
                            (AST_CONST)
                            (AST_CLASS_CONST
                                (SCALAR))
                            (AST_CONST)
                            (SCALAR))))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_METHOD_CALL
                            (AST_VAR)
                            (
                                (AST_VAR))))
                    (AST_CALL
                        (
                            (AST_VAR)))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_RETURN
        (AST_CONST)))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_GLOBAL
        (AST_VAR))
    (AST_GLOBAL
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (SCALAR)
                (AST_BINARY_OP
                    (SCALAR)
                    (SCALAR)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_UNARY_OP
                    (AST_CALL))
                (AST_CALL))
            (
                (AST_RETURN
                    (AST_CONST)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_UNARY_OP
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR))))
            (
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_ARRAY)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_PROP
            (AST_VAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_IF
        (AST_IF_ELEM
            (AST_METHOD_CALL
                (AST_PROP
                    (AST_VAR)))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_IF
                    (AST_IF_ELEM
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))))))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_VAR)
                (AST_CONST))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_METHOD_CALL
                            (AST_VAR))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_ARRAY))
                            (AST_WHILE
                                (AST_BINARY_OP
                                    (AST_BINARY_OP
                                        (AST_VAR)
                                        (AST_CONST))
                                    (AST_METHOD_CALL
                                        (AST_VAR)))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_UNARY_OP
                                                (AST_EMPTY
                                                    (AST_PROP
                                                        (AST_VAR))))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (NULL))
                                                    (AST_PROP
                                                        (AST_VAR)))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (NULL))
                                                    (AST_PROP
                                                        (AST_VAR))))))
                                    (AST_FOREACH
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_VAR)
                                        (NULL)
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_BINARY_OP
                                                        (AST_METHOD_CALL
                                                            (AST_VAR))
                                                        (AST_PROP
                                                            (AST_VAR)))
                                                    (
                                                        (AST_BREAK
                                                            (NULL)))))))))
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_UNARY_OP
                                        (AST_EMPTY
                                            (AST_PROP
                                                (AST_VAR))))
                                    (
                                        (AST_ASSIGN
                                            (AST_DIM
                                                (AST_VAR)
                                                (NULL))
                                            (AST_PROP
                                                (AST_VAR)))))
                                (AST_IF_ELEM
                                    (NULL)
                                    (
                                        (AST_ASSIGN
                                            (AST_DIM
                                                (AST_VAR)
                                                (NULL))
                                            (AST_PROP
                                                (AST_VAR))))))
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_CALL
                                    (
                                        (SCALAR)
                                        (AST_VAR))))
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_CALL
                                    (
                                        (SCALAR)
                                        (AST_VAR))))))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_PROP
                                    (AST_VAR)))
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (AST_PROP
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_PROP
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_NEW
                        (
                            (AST_VAR))))
                (AST_FOREACH
                    (AST_VAR)
                    (AST_VAR)
                    (AST_VAR)
                    (
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_BINARY_OP
                                    (AST_BINARY_OP
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_PROP
                                            (AST_VAR)))
                                    (AST_BINARY_OP
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_PROP
                                            (AST_VAR))))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_INSTANCEOF
                                                        (AST_PROP
                                                            (AST_VAR)))
                                                    (AST_INSTANCEOF
                                                        (AST_PROP
                                                            (AST_VAR))))
                                                (AST_METHOD_CALL
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (
                                                        (AST_PROP
                                                            (AST_VAR)))))
                                            (
                                                (AST_UNSET
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (AST_VAR)))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_BINARY_OP
                                                            (AST_INSTANCEOF
                                                                (AST_PROP
                                                                    (AST_VAR)))
                                                            (AST_BINARY_OP
                                                                (AST_METHOD_CALL
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (
                                                                        (AST_CONST)))
                                                                (AST_PROP
                                                                    (AST_VAR))))
                                                        (
                                                            (AST_UNSET
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (AST_VAR)))))
                                                    (AST_IF_ELEM
                                                        (NULL)
                                                        (
                                                            (AST_IF
                                                                (AST_IF_ELEM
                                                                    (AST_BINARY_OP
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (AST_PROP
                                                                            (AST_VAR)))
                                                                    (
                                                                        (AST_UNSET
                                                                            (AST_DIM
                                                                                (AST_VAR)
                                                                                (AST_VAR)))))))))))))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_CALL
                                (
                                    (AST_VAR)))
                            (SCALAR))
                        (
                            (AST_CALL
                                (
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_CLASS_CONST
                        (SCALAR)))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_ARRAY))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_VAR))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_VAR)
                (SCALAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR)
                            (AST_CLASS_CONST
                                (SCALAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_VAR)
                        (
                            (AST_CALL
                                (
                                    (SCALAR)
                                    (AST_PROP
                                        (AST_VAR))))
                            (AST_CONST)
                            (AST_CLASS_CONST
                                (SCALAR))
                            (AST_CONST)
                            (SCALAR))))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_METHOD_CALL
                            (AST_VAR)
                            (
                                (AST_VAR))))
                    (AST_CALL
                        (
                            (AST_VAR)))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR))
    (AST_RETURN
        (AST_CONST)))