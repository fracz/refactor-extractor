    public function test_register_plugin_type_session_usage() {
        $this->stringmanager->register_plugin_type('mymodreport', 'mod/mymod/report');

        // Create a new string_manager to see if it picks up the 'mymodreport'
        // custom plugin type from session without us having to re-register it.
        // This is required to make help files work.
        $newstringmanager = new testable_string_manager($this->basedir . 'moodle',
                $this->basedir . 'moodledata', false);
        $this->assertEqual($newstringmanager->locations_to_search('mymodreport_test'), array(
            $this->basedir . 'moodle/lang/' => 'mymodreport_test/',
            $this->basedir . 'moodledata/lang/' => 'mymodreport_test/',
            $this->basedir . 'moodle/mod/mymod/report/test/lang/' => 'test/',
        ));
    }

||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_METHOD_CALL
        (AST_PROP
            (AST_VAR))
        (
            (SCALAR)
            (SCALAR)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_NEW
            (
                (AST_BINARY_OP
                    (AST_PROP
                        (AST_VAR))
                    (SCALAR))
                (AST_BINARY_OP
                    (AST_PROP
                        (AST_VAR))
                    (SCALAR))
                (AST_CONST))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_METHOD_CALL
                (AST_VAR)
                (
                    (SCALAR)))
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (AST_BINARY_OP
                        (AST_PROP
                            (AST_VAR))
                        (SCALAR)))
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (AST_BINARY_OP
                        (AST_PROP
                            (AST_VAR))
                        (SCALAR)))
                (AST_ARRAY_ELEM
                    (SCALAR)
                    (AST_BINARY_OP
                        (AST_PROP
                            (AST_VAR))
                        (SCALAR)))))))||||||||