    public function test_merge_components_info() {
        $old = (object)array(
            '2.2' => (object)array(
                'core' => (object)array(
                    'version' => 2011120501.11,
                    'release' => '2.2.1+ (Build: 20120301)',
                    'maturity' => MATURITY_STABLE,
                ),
                'mod_foo' => (object)array(
                    'version' => 2011010100,
                ),
                'mod_bar' => (object)array(
                    'version' => 2011020200,
                )
            )
        );
        $new = (object)array(
            '2.2' => (object)array(
                'core' => (object)array(
                    'version' => 2011120501.12,
                    'release' => '2.2.1+ (Build: 20120302)',
                    'maturity' => MATURITY_STABLE,
                ),
                'mod_bar' => (object)array(
                    'version' => 2011020201,
                ),
            ),
            '2.3' => (object)array(
                'core' => (object)array(
                    'version' => 2012030100.00,
                    'release' => '2.3dev (Build: 20120301)',
                    'maturity' => MATURITY_ALPHA,
                ),
                'mod_foo' => (object)array(
                    'version' => 2012010200,
                )
            )
        );
        $checker = testable_available_update_checker::instance();
        $now = time();
        $merged = $checker->merge_components_info($old, $new, $now);
        $this->assertEqual($merged->{2.2}->core->version, 2011120501.12); // from $new
        $this->assertEqual($merged->{2.2}->mod_bar->version, 2011020201); // from $new
        $this->assertEqual($merged->{2.2}->mod_foo->version, 2011010100); // from $old
        $this->assertEqual($merged->{2.3}->core->version, 2012030100.00); // from $new
        $this->assertFalse(isset($merged->{2.3}->mod_bar));
    }
}||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CAST
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_CAST
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_CONST)
                                            (SCALAR))))
                                (SCALAR))
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))))
                                (SCALAR))
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))))
                                (SCALAR))))
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CAST
            (AST_ARRAY
                (AST_ARRAY_ELEM
                    (AST_CAST
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_CONST)
                                            (SCALAR))))
                                (SCALAR))
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))))
                                (SCALAR))))
                    (SCALAR))
                (AST_ARRAY_ELEM
                    (AST_CAST
                        (AST_ARRAY
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))
                                        (AST_ARRAY_ELEM
                                            (AST_CONST)
                                            (SCALAR))))
                                (SCALAR))
                            (AST_ARRAY_ELEM
                                (AST_CAST
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (SCALAR)
                                            (SCALAR))))
                                (SCALAR))))
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_VAR)
                (AST_VAR)
                (AST_VAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_PROP
                (AST_PROP
                    (AST_PROP
                        (AST_VAR))))
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_PROP
                (AST_PROP
                    (AST_PROP
                        (AST_VAR))))
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_PROP
                (AST_PROP
                    (AST_PROP
                        (AST_VAR))))
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_PROP
                (AST_PROP
                    (AST_PROP
                        (AST_VAR))))
            (SCALAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_ISSET
                (AST_PROP
                    (AST_PROP
                        (AST_VAR)))))))||||||||