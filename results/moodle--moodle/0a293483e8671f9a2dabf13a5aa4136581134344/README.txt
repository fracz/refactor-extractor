commit 0a293483e8671f9a2dabf13a5aa4136581134344
Author: Sam Hemelryk <sam@moodle.com>
Date:   Tue Apr 8 10:11:23 2014 +1200

    MDL-39833 format: tidied up API improvement to allow for future backport