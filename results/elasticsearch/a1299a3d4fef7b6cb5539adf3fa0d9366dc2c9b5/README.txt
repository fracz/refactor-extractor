commit a1299a3d4fef7b6cb5539adf3fa0d9366dc2c9b5
Author: kimchy <kimchy@gmail.com>
Date:   Tue Sep 21 11:39:22 2010 +0200

    refactoring in routing logic to allow adding allocation explanation that later can be shown