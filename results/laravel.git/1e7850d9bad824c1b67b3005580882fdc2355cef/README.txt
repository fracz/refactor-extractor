commit 1e7850d9bad824c1b67b3005580882fdc2355cef
Author: Taylor Otwell <taylorotwell@gmail.com>
Date:   Thu Aug 25 22:53:05 2011 -0500

    refactoring for dependency injection and testability.