	function _createImageResource() {
		if ($newImage = @imagecreatefromstring($this->_headerIconFormat.$this->_imageIconFormat)) {
			// Vista supports PNG.
			$this->_headerIconFormat = "";
			$this->_imageIconFormat = $this->_headerIconFormat.$this->_imageIconFormat;
			imagesavealpha($newImage, true);
			imagealphablending($newImage, false);
			$this->_imageResource = $newImage;
		} elseif ($this->_entry["Height"] <= 1024 && $this->_entry["Width"] <= 1024) {
			$newImage = imagecreatetruecolor($this->_entry["Width"], $this->_entry["Height"]);
			imagesavealpha($newImage, true);
			imagealphablending($newImage, false);
			$readPosition = 0;
			$palette = array();
			if ($this->_header["BitCount"] < 24) {
				// Read Palette for low bitcounts
				$colorsInPalette = $this->_header["ColorsUsed"]?$this->_header["ColorsUsed"]:$this->_entry["ColorCount"];
				for ($t = 0; $t < pow(2, $this->_header["BitCount"]); $t++) {
					$blue = ord($this->_imageIconFormat[$readPosition++]);
					$green = ord($this->_imageIconFormat[$readPosition++]);
					$red = ord($this->_imageIconFormat[$readPosition++]);
					$readPosition++; // Unused "Reserved" value.
						$existingPaletteEntry = imagecolorexactalpha($newImage, $red, $green, $blue, 0);
						if ($existingPaletteEntry >= 0) {
							$palette[] = $existingPaletteEntry;
						} else {
							$palette[] = imagecolorallocatealpha($newImage, $red, $green, $blue, 0);
						}
				}
				// XOR
				for ($y = 0; $y < $this->_entry["Height"]; $y++) {
					$colors = array();
					for ($x = 0; $x < $this->_entry["Width"]; $x++) {
						if ($this->_header["BitCount"] < 8) {
							$color = array_shift($colors);
							if (is_null($color)) {
								$byte = ord($this->_imageIconFormat[$readPosition++]);
								$tmp_color = 0;
								for ($t = 7; $t >= 0; $t--) {
									$bit_value = pow(2, $t);
									$bit = floor($byte / $bit_value);
									$byte = $byte - ($bit * $bit_value);
									$tmp_color += $bit * pow(2, $t%$this->_header["BitCount"]);
									if ($t%$this->_header["BitCount"] == 0) {
										array_push($colors, $tmp_color);
										$tmp_color = 0;
									}
								}
								$color = array_shift($colors);
							}
						} else {
							$color = ord($this->_imageIconFormat[$readPosition++]);
						}
						imagesetpixel($newImage, $x, $this->_entry["Height"]-$y-1, $palette[$color]) or die("can't set pixel");
					}
					// All rows end on the 32 bit
					if ($readPosition%4) $readPosition += 4-($readPosition%4);
				}
			} else {
				// BitCount >= 24, No Palette.
				// marking position because some icons mark all pixels transparent when using an AND map.
				$markPosition = $readPosition;
				$retry = true;
				$ignoreAlpha = false;
				while ($retry) {
					$alphas = array();
					$retry = false;
					for ($y = 0; $y < $this->_entry["Height"] and !$retry; $y++) {
						for ($x = 0; $x < $this->_entry["Width"] and !$retry; $x++) {
							$blue = ord($this->_imageIconFormat[$readPosition++]);
							$green = ord($this->_imageIconFormat[$readPosition++]);
							$red = ord($this->_imageIconFormat[$readPosition++]);
							if ($this->_header["BitCount"] < 32) {
								$alpha = 0;
							} elseif($ignoreAlpha) {
								$alpha = 0;
								$readPosition++;
							} else {
								$alpha = ord($this->_imageIconFormat[$readPosition++]);
								$alphas[$alpha] = $alpha;
								$alpha = 127-round($alpha/255*127);
							}
							$paletteEntry = imagecolorexactalpha($newImage, $red, $green, $blue, $alpha);
							if ($paletteEntry < 0) {
								$paletteEntry = imagecolorallocatealpha($newImage, $red, $green, $blue, $alpha);
							}
							imagesetpixel($newImage, $x, $this->_entry["Height"]-$y-1, $paletteEntry) or die("can't set pixel");
						}
						if ($readPosition%4) $readPosition += 4-($readPosition%4);
					}
					if ($this->_header["BitCount"] == 32 && isset($alphas[0]) && count($alphas) == 1) {
						$retry = true;
						$readPosition = $markPosition;
						$ignoreAlpha = true;
					}
				}

			}
			// AND map
			if ($this->_header["BitCount"] < 32 || $ignoreAlpha) {
				// Bitcount == 32, No AND (if using alpha).
				$palette[-1] = imagecolorallocatealpha($newImage, 0, 0, 0, 127);
				imagecolortransparent($newImage, $palette[-1]);
				for ($y = 0; $y < $this->_entry["Height"]; $y++) {
					$colors = array();
					for ($x = 0; $x < $this->_entry["Width"]; $x++) {
						$color = array_shift($colors);
						if (is_null($color)) {
							$byte = ord($this->_imageIconFormat[$readPosition++]);
							$tmp_color = 0;
							for ($t = 7; $t >= 0; $t--) {
								$bit_value = pow(2, $t);
								$bit = floor($byte / $bit_value);
								$byte = $byte - ($bit * $bit_value);
								array_push($colors, $bit);
							}
							$color = array_shift($colors);
						}
						if ($color) {
							imagesetpixel($newImage, $x, $this->_entry["Height"]-$y-1, $palette[-1]) or die("can't set pixel");
						}
					}
					// All rows end on the 32 bit.
					if ($readPosition%4) $readPosition += 4-($readPosition%4);
				}
			}
			if ($this->_header["BitCount"] < 24) {
				imagetruecolortopalette($newImage, true, pow(2, $this->_header["BitCount"]));
			}
		}
		$this->_imageResource = $newImage;
	}
	// this function expects that $_entry, $_header and $_imageIconFormat have already been read, specifically from readImageFromICO.
	// Don't call this function except from there.
||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_IF
        (AST_IF_ELEM
            (AST_ASSIGN
                (AST_VAR)
                (AST_UNARY_OP
                    (AST_CALL
                        (
                            (AST_BINARY_OP
                                (AST_PROP
                                    (AST_VAR))
                                (AST_PROP
                                    (AST_VAR)))))))
            (
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (SCALAR))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_BINARY_OP
                        (AST_PROP
                            (AST_VAR))
                        (AST_PROP
                            (AST_VAR))))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_CONST)))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_CONST)))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_VAR))))
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_BINARY_OP
                    (AST_DIM
                        (AST_PROP
                            (AST_VAR))
                        (SCALAR))
                    (SCALAR))
                (AST_BINARY_OP
                    (AST_DIM
                        (AST_PROP
                            (AST_VAR))
                        (SCALAR))
                    (SCALAR)))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (AST_DIM
                                (AST_PROP
                                    (AST_VAR))
                                (SCALAR))
                            (AST_DIM
                                (AST_PROP
                                    (AST_VAR))
                                (SCALAR)))))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_CONST)))
                (AST_CALL
                    (
                        (AST_VAR)
                        (AST_CONST)))
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_ARRAY))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_DIM
                                (AST_PROP
                                    (AST_VAR))
                                (SCALAR))
                            (SCALAR))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONDITIONAL
                                    (AST_DIM
                                        (AST_PROP
                                            (AST_VAR))
                                        (SCALAR))
                                    (AST_DIM
                                        (AST_PROP
                                            (AST_VAR))
                                        (SCALAR))
                                    (AST_DIM
                                        (AST_PROP
                                            (AST_VAR))
                                        (SCALAR))))
                            (AST_FOR
                                (AST_EXPR_LIST
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (SCALAR)))
                                (AST_EXPR_LIST
                                    (AST_BINARY_OP
                                        (AST_VAR)
                                        (AST_CALL
                                            (
                                                (SCALAR)
                                                (AST_DIM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (SCALAR))))))
                                (AST_EXPR_LIST
                                    (AST_POST_INC
                                        (AST_VAR)))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CALL
                                            (
                                                (AST_DIM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (AST_POST_INC
                                                        (AST_VAR))))))
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CALL
                                            (
                                                (AST_DIM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (AST_POST_INC
                                                        (AST_VAR))))))
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CALL
                                            (
                                                (AST_DIM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (AST_POST_INC
                                                        (AST_VAR))))))
                                    (AST_POST_INC
                                        (AST_VAR))
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CALL
                                            (
                                                (AST_VAR)
                                                (AST_VAR)
                                                (AST_VAR)
                                                (AST_VAR)
                                                (SCALAR))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (SCALAR))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (NULL))
                                                    (AST_VAR))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (NULL))
                                                    (AST_CALL
                                                        (
                                                            (AST_VAR)
                                                            (AST_VAR)
                                                            (AST_VAR)
                                                            (AST_VAR)
                                                            (SCALAR)))))))))
                            (AST_FOR
                                (AST_EXPR_LIST
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (SCALAR)))
                                (AST_EXPR_LIST
                                    (AST_BINARY_OP
                                        (AST_VAR)
                                        (AST_DIM
                                            (AST_PROP
                                                (AST_VAR))
                                            (SCALAR))))
                                (AST_EXPR_LIST
                                    (AST_POST_INC
                                        (AST_VAR)))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_ARRAY))
                                    (AST_FOR
                                        (AST_EXPR_LIST
                                            (AST_ASSIGN
                                                (AST_VAR)
                                                (SCALAR)))
                                        (AST_EXPR_LIST
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_DIM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (SCALAR))))
                                        (AST_EXPR_LIST
                                            (AST_POST_INC
                                                (AST_VAR)))
                                        (
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_BINARY_OP
                                                        (AST_DIM
                                                            (AST_PROP
                                                                (AST_VAR))
                                                            (SCALAR))
                                                        (SCALAR))
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CALL
                                                                (
                                                                    (AST_VAR))))
                                                        (AST_IF
                                                            (AST_IF_ELEM
                                                                (AST_CALL
                                                                    (
                                                                        (AST_VAR)))
                                                                (
                                                                    (AST_ASSIGN
                                                                        (AST_VAR)
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_DIM
                                                                                    (AST_PROP
                                                                                        (AST_VAR))
                                                                                    (AST_POST_INC
                                                                                        (AST_VAR))))))
                                                                    (AST_ASSIGN
                                                                        (AST_VAR)
                                                                        (SCALAR))
                                                                    (AST_FOR
                                                                        (AST_EXPR_LIST
                                                                            (AST_ASSIGN
                                                                                (AST_VAR)
                                                                                (SCALAR)))
                                                                        (AST_EXPR_LIST
                                                                            (AST_BINARY_OP
                                                                                (AST_VAR)
                                                                                (SCALAR)))
                                                                        (AST_EXPR_LIST
                                                                            (AST_POST_DEC
                                                                                (AST_VAR)))
                                                                        (
                                                                            (AST_ASSIGN
                                                                                (AST_VAR)
                                                                                (AST_CALL
                                                                                    (
                                                                                        (SCALAR)
                                                                                        (AST_VAR))))
                                                                            (AST_ASSIGN
                                                                                (AST_VAR)
                                                                                (AST_CALL
                                                                                    (
                                                                                        (AST_BINARY_OP
                                                                                            (AST_VAR)
                                                                                            (AST_VAR)))))
                                                                            (AST_ASSIGN
                                                                                (AST_VAR)
                                                                                (AST_BINARY_OP
                                                                                    (AST_VAR)
                                                                                    (AST_BINARY_OP
                                                                                        (AST_VAR)
                                                                                        (AST_VAR))))
                                                                            (AST_ASSIGN_OP
                                                                                (AST_VAR)
                                                                                (AST_BINARY_OP
                                                                                    (AST_VAR)
                                                                                    (AST_CALL
                                                                                        (
                                                                                            (SCALAR)
                                                                                            (AST_BINARY_OP
                                                                                                (AST_VAR)
                                                                                                (AST_DIM
                                                                                                    (AST_PROP
                                                                                                        (AST_VAR))
                                                                                                    (SCALAR)))))))
                                                                            (AST_IF
                                                                                (AST_IF_ELEM
                                                                                    (AST_BINARY_OP
                                                                                        (AST_BINARY_OP
                                                                                            (AST_VAR)
                                                                                            (AST_DIM
                                                                                                (AST_PROP
                                                                                                    (AST_VAR))
                                                                                                (SCALAR)))
                                                                                        (SCALAR))
                                                                                    (
                                                                                        (AST_CALL
                                                                                            (
                                                                                                (AST_VAR)
                                                                                                (AST_VAR)))
                                                                                        (AST_ASSIGN
                                                                                            (AST_VAR)
                                                                                            (SCALAR)))))))
                                                                    (AST_ASSIGN
                                                                        (AST_VAR)
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_VAR)))))))))
                                                (AST_IF_ELEM
                                                    (NULL)
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CALL
                                                                (
                                                                    (AST_DIM
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (AST_POST_INC
                                                                            (AST_VAR)))))))))
                                            (AST_BINARY_OP
                                                (AST_CALL
                                                    (
                                                        (AST_VAR)
                                                        (AST_VAR)
                                                        (AST_BINARY_OP
                                                            (AST_BINARY_OP
                                                                (AST_DIM
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (SCALAR))
                                                                (AST_VAR))
                                                            (SCALAR))
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (AST_VAR))))
                                                (AST_EXIT
                                                    (SCALAR)))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (SCALAR))
                                            (
                                                (AST_ASSIGN_OP
                                                    (AST_VAR)
                                                    (AST_BINARY_OP
                                                        (SCALAR)
                                                        (AST_BINARY_OP
                                                            (AST_VAR)
                                                            (SCALAR)))))))))))
                    (AST_IF_ELEM
                        (NULL)
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_VAR))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONST))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONST))
                            (AST_WHILE
                                (AST_VAR)
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_ARRAY))
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CONST))
                                    (AST_FOR
                                        (AST_EXPR_LIST
                                            (AST_ASSIGN
                                                (AST_VAR)
                                                (SCALAR)))
                                        (AST_EXPR_LIST
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_VAR)
                                                    (AST_DIM
                                                        (AST_PROP
                                                            (AST_VAR))
                                                        (SCALAR)))
                                                (AST_UNARY_OP
                                                    (AST_VAR))))
                                        (AST_EXPR_LIST
                                            (AST_POST_INC
                                                (AST_VAR)))
                                        (
                                            (AST_FOR
                                                (AST_EXPR_LIST
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (SCALAR)))
                                                (AST_EXPR_LIST
                                                    (AST_BINARY_OP
                                                        (AST_BINARY_OP
                                                            (AST_VAR)
                                                            (AST_DIM
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (SCALAR)))
                                                        (AST_UNARY_OP
                                                            (AST_VAR))))
                                                (AST_EXPR_LIST
                                                    (AST_POST_INC
                                                        (AST_VAR)))
                                                (
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (AST_CALL
                                                            (
                                                                (AST_DIM
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (AST_POST_INC
                                                                        (AST_VAR))))))
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (AST_CALL
                                                            (
                                                                (AST_DIM
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (AST_POST_INC
                                                                        (AST_VAR))))))
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (AST_CALL
                                                            (
                                                                (AST_DIM
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (AST_POST_INC
                                                                        (AST_VAR))))))
                                                    (AST_IF
                                                        (AST_IF_ELEM
                                                            (AST_BINARY_OP
                                                                (AST_DIM
                                                                    (AST_PROP
                                                                        (AST_VAR))
                                                                    (SCALAR))
                                                                (SCALAR))
                                                            (
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (SCALAR))))
                                                        (AST_IF_ELEM
                                                            (AST_VAR)
                                                            (
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (SCALAR))
                                                                (AST_POST_INC
                                                                    (AST_VAR))))
                                                        (AST_IF_ELEM
                                                            (NULL)
                                                            (
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (AST_CALL
                                                                        (
                                                                            (AST_DIM
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (AST_POST_INC
                                                                                    (AST_VAR))))))
                                                                (AST_ASSIGN
                                                                    (AST_DIM
                                                                        (AST_VAR)
                                                                        (AST_VAR))
                                                                    (AST_VAR))
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (AST_BINARY_OP
                                                                        (SCALAR)
                                                                        (AST_CALL
                                                                            (
                                                                                (AST_BINARY_OP
                                                                                    (AST_BINARY_OP
                                                                                        (AST_VAR)
                                                                                        (SCALAR))
                                                                                    (SCALAR)))))))))
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (AST_CALL
                                                            (
                                                                (AST_VAR)
                                                                (AST_VAR)
                                                                (AST_VAR)
                                                                (AST_VAR)
                                                                (AST_VAR))))
                                                    (AST_IF
                                                        (AST_IF_ELEM
                                                            (AST_BINARY_OP
                                                                (AST_VAR)
                                                                (SCALAR))
                                                            (
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (AST_CALL
                                                                        (
                                                                            (AST_VAR)
                                                                            (AST_VAR)
                                                                            (AST_VAR)
                                                                            (AST_VAR)
                                                                            (AST_VAR)))))))
                                                    (AST_BINARY_OP
                                                        (AST_CALL
                                                            (
                                                                (AST_VAR)
                                                                (AST_VAR)
                                                                (AST_BINARY_OP
                                                                    (AST_BINARY_OP
                                                                        (AST_DIM
                                                                            (AST_PROP
                                                                                (AST_VAR))
                                                                            (SCALAR))
                                                                        (AST_VAR))
                                                                    (SCALAR))
                                                                (AST_VAR)))
                                                        (AST_EXIT
                                                            (SCALAR)))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_BINARY_OP
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (
                                                        (AST_ASSIGN_OP
                                                            (AST_VAR)
                                                            (AST_BINARY_OP
                                                                (SCALAR)
                                                                (AST_BINARY_OP
                                                                    (AST_VAR)
                                                                    (SCALAR)))))))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_BINARY_OP
                                                        (AST_DIM
                                                            (AST_PROP
                                                                (AST_VAR))
                                                            (SCALAR))
                                                        (SCALAR))
                                                    (AST_ISSET
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (SCALAR))))
                                                (AST_BINARY_OP
                                                    (AST_CALL
                                                        (
                                                            (AST_VAR)))
                                                    (SCALAR)))
                                            (
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_CONST))
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_VAR))
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_CONST))))))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_BINARY_OP
                                (AST_DIM
                                    (AST_PROP
                                        (AST_VAR))
                                    (SCALAR))
                                (SCALAR))
                            (AST_VAR))
                        (
                            (AST_ASSIGN
                                (AST_DIM
                                    (AST_VAR)
                                    (AST_UNARY_OP
                                        (SCALAR)))
                                (AST_CALL
                                    (
                                        (AST_VAR)
                                        (SCALAR)
                                        (SCALAR)
                                        (SCALAR)
                                        (SCALAR))))
                            (AST_CALL
                                (
                                    (AST_VAR)
                                    (AST_DIM
                                        (AST_VAR)
                                        (AST_UNARY_OP
                                            (SCALAR)))))
                            (AST_FOR
                                (AST_EXPR_LIST
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (SCALAR)))
                                (AST_EXPR_LIST
                                    (AST_BINARY_OP
                                        (AST_VAR)
                                        (AST_DIM
                                            (AST_PROP
                                                (AST_VAR))
                                            (SCALAR))))
                                (AST_EXPR_LIST
                                    (AST_POST_INC
                                        (AST_VAR)))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_ARRAY))
                                    (AST_FOR
                                        (AST_EXPR_LIST
                                            (AST_ASSIGN
                                                (AST_VAR)
                                                (SCALAR)))
                                        (AST_EXPR_LIST
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_DIM
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (SCALAR))))
                                        (AST_EXPR_LIST
                                            (AST_POST_INC
                                                (AST_VAR)))
                                        (
                                            (AST_ASSIGN
                                                (AST_VAR)
                                                (AST_CALL
                                                    (
                                                        (AST_VAR))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_CALL
                                                        (
                                                            (AST_VAR)))
                                                    (
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CALL
                                                                (
                                                                    (AST_DIM
                                                                        (AST_PROP
                                                                            (AST_VAR))
                                                                        (AST_POST_INC
                                                                            (AST_VAR))))))
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (SCALAR))
                                                        (AST_FOR
                                                            (AST_EXPR_LIST
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (SCALAR)))
                                                            (AST_EXPR_LIST
                                                                (AST_BINARY_OP
                                                                    (AST_VAR)
                                                                    (SCALAR)))
                                                            (AST_EXPR_LIST
                                                                (AST_POST_DEC
                                                                    (AST_VAR)))
                                                            (
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (AST_CALL
                                                                        (
                                                                            (SCALAR)
                                                                            (AST_VAR))))
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (AST_CALL
                                                                        (
                                                                            (AST_BINARY_OP
                                                                                (AST_VAR)
                                                                                (AST_VAR)))))
                                                                (AST_ASSIGN
                                                                    (AST_VAR)
                                                                    (AST_BINARY_OP
                                                                        (AST_VAR)
                                                                        (AST_BINARY_OP
                                                                            (AST_VAR)
                                                                            (AST_VAR))))
                                                                (AST_CALL
                                                                    (
                                                                        (AST_VAR)
                                                                        (AST_VAR)))))
                                                        (AST_ASSIGN
                                                            (AST_VAR)
                                                            (AST_CALL
                                                                (
                                                                    (AST_VAR)))))))
                                            (AST_IF
                                                (AST_IF_ELEM
                                                    (AST_VAR)
                                                    (
                                                        (AST_BINARY_OP
                                                            (AST_CALL
                                                                (
                                                                    (AST_VAR)
                                                                    (AST_VAR)
                                                                    (AST_BINARY_OP
                                                                        (AST_BINARY_OP
                                                                            (AST_DIM
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (SCALAR))
                                                                            (AST_VAR))
                                                                        (SCALAR))
                                                                    (AST_DIM
                                                                        (AST_VAR)
                                                                        (AST_UNARY_OP
                                                                            (SCALAR)))))
                                                            (AST_EXIT
                                                                (SCALAR))))))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (SCALAR))
                                            (
                                                (AST_ASSIGN_OP
                                                    (AST_VAR)
                                                    (AST_BINARY_OP
                                                        (SCALAR)
                                                        (AST_BINARY_OP
                                                            (AST_VAR)
                                                            (SCALAR))))))))))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_DIM
                                (AST_PROP
                                    (AST_VAR))
                                (SCALAR))
                            (SCALAR))
                        (
                            (AST_CALL
                                (
                                    (AST_VAR)
                                    (AST_CONST)
                                    (AST_CALL
                                        (
                                            (SCALAR)
                                            (AST_DIM
                                                (AST_PROP
                                                    (AST_VAR))
                                                (SCALAR))))))))))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_VAR)))||||||||