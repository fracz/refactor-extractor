    protected function loadManageData()
    {
        $this->manage_categories = $this->getModuleCache(self::_CACHEFILE_INSTALLED_CATEGORIES_);
        $this->manage_modules    = $this->getModuleCache(self::_CACHEFILE_INSTALLED_MODULES_);

        if (!$this->manage_categories || !$this->manage_modules) {
            try {
                $cache_data = true;
                try {
                    // We need to load the catalog to get native modules later
                    $this->getCatalogModules();
                } catch (\Exception $e) {
                    $cache_data = false;
                }

                $this->manage_modules = new \stdClass;
                $all_modules = $this->getAllModules();
                $all_installed_modules = $this->getAllInstalledModules();

                // Why all these foreach ? Because we need to join data from 3 different arrays.
                foreach ($all_installed_modules as $key => &$installed_module) {
                    // Be careful, if the module is missing from the modules folder, do not display it !
                    if (!$this->isModuleOnDisk($installed_module['name'])) {
                        unset($all_installed_modules[$key]);
                        continue;
                    }
                    //
                    foreach ($this->catalog_modules as $catalog_module) {
                        if ($catalog_module->name === $installed_module['name']) {
                            $installed_module = array_merge($installed_module, (array)$catalog_module);
                            continue;
                        }
                    }

                    foreach ($all_modules as $module) {
                        if ($module->name === $installed_module['name']) {
                            unset($module->version);
                            unset($module->badges);
                            $installed_module = array_merge($installed_module, (array)$module);
                            continue;
                        }
                    }

                    // Legacy fix
                    $installed_module['installed'] = 1;
                }
                $this->manage_modules = $this->convertJsonForNewCatalog(['products' => $all_installed_modules]);
                $this->manage_categories = $this->getCategoriesFromModules($this->manage_modules);

                if ($cache_data) {
                    $this->registerModuleCache(self::_CACHEFILE_INSTALLED_CATEGORIES_, $this->manage_categories);
                    $this->registerModuleCache(self::_CACHEFILE_INSTALLED_MODULES_, $this->manage_modules);
                }
            } catch (\Exception $e) {
                if (! $this->fallbackOnManageCache()) {
                    $this->manage_categories      = new \stdClass;
                    $this->manage_modules         = [];
                    throw new \Exception("Data from shop is invalid, and cannot fallback on cache", 0, $e);
                }
            }
        }
    }

||||||||    protected function loadManageData()
    {
        $this->manage_categories = $this->getModuleCache(self::_CACHEFILE_INSTALLED_CATEGORIES_);
        $this->manage_modules    = $this->getModuleCache(self::_CACHEFILE_INSTALLED_MODULES_);

        if (!$this->manage_categories || !$this->manage_modules) {
            $this->manage_modules = [];
            $this->manage_categories = [];
        }

        try {
            $only_cached_data = true;
            $missing_module_list = [];
            $modules_in_cache = [];

            $all_modules = null;
            $all_installed_modules = null;
            // Get all references to modules in cache
            foreach ($this->manage_modules as $key => $module) {
                $modules_in_cache[$module->name] = $key;
            }

            $all_installed_modules = $this->getAllInstalledModules();

            // Why all these foreach ? Because we need to join data from 3 different arrays.
            foreach ($all_installed_modules as $key => &$installed_module) {

                // Already in cache, continue ....
                if (array_key_exists($installed_module['name'], $modules_in_cache)) {
                    continue;
                }

                // We need to load the catalog to get native modules later
                $this->getCatalogModules();
                if ($all_modules === null) {
                    $all_modules = $this->getAllModules();
                    $only_cached_data = false;
                }

                // Be careful, if the module is missing from the modules folder, do not display it !
                if (!$this->isModuleOnDisk($installed_module['name'])) {
                    unset($all_installed_modules[$key]);
                    continue;
                }

                foreach ($this->catalog_modules as $catalog_module) {
                    if ($catalog_module->name === $installed_module['name']) {
                        $installed_module = array_merge($installed_module, (array)$catalog_module);
                        continue;
                    }
                }

                foreach ($all_modules as $module) {
                    if ($module->name === $installed_module['name']) {
                        unset($module->version);
                        unset($module->badges);
                        $installed_module = array_merge($installed_module, (array)$module);
                        continue;
                    }
                }

                // Legacy fix
                $installed_module['installed'] = 1;

                $missing_module_list[$installed_module['name']] = $installed_module;
            }
            if ($only_cached_data === false) {
                $this->manage_modules = array_merge($this->manage_modules, $this->convertJsonForNewCatalog(['products' => $missing_module_list]));
                $this->manage_categories = $this->getCategoriesFromModules($this->manage_modules);

                $this->registerModuleCache(self::_CACHEFILE_INSTALLED_CATEGORIES_, $this->manage_categories);
                $this->registerModuleCache(self::_CACHEFILE_INSTALLED_MODULES_, $this->manage_modules);
            }
        } catch (\Exception $e) {
            if (! $this->fallbackOnManageCache()) {
                $this->manage_categories      = [];
                $this->manage_modules         = [];
                throw new \Exception("Data from shop is invalid, and cannot fallback on cache", 0, $e);
            }
        }
    }

||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_CLASS_CONST
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_CLASS_CONST
                    (SCALAR)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_UNARY_OP
                    (AST_PROP
                        (AST_VAR)))
                (AST_UNARY_OP
                    (AST_PROP
                        (AST_VAR))))
            (
                (AST_TRY
                    (
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CONST))
                        (AST_TRY
                            (
                                (AST_METHOD_CALL
                                    (AST_VAR)))
                            (AST_CATCH_LIST
                                (AST_CATCH
                                    (AST_NAME_LIST)
                                    (AST_VAR)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CONST)))))
                            (NULL))
                        (AST_ASSIGN
                            (AST_PROP
                                (AST_VAR))
                            (AST_NEW))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_METHOD_CALL
                                (AST_VAR)))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_METHOD_CALL
                                (AST_VAR)))
                        (AST_FOREACH
                            (AST_VAR)
                            (AST_REF
                                (AST_VAR))
                            (AST_VAR)
                            (
                                (AST_IF
                                    (AST_IF_ELEM
                                        (AST_UNARY_OP
                                            (AST_METHOD_CALL
                                                (AST_VAR)
                                                (
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR)))))
                                        (
                                            (AST_UNSET
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (AST_VAR)))
                                            (AST_CONTINUE
                                                (NULL)))))
                                (AST_FOREACH
                                    (AST_PROP
                                        (AST_VAR))
                                    (AST_VAR)
                                    (NULL)
                                    (
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_BINARY_OP
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR)))
                                                (
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (AST_CALL
                                                            (
                                                                (AST_VAR)
                                                                (AST_CAST
                                                                    (AST_VAR)))))
                                                    (AST_CONTINUE
                                                        (NULL)))))))
                                (AST_FOREACH
                                    (AST_VAR)
                                    (AST_VAR)
                                    (NULL)
                                    (
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_BINARY_OP
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR)))
                                                (
                                                    (AST_UNSET
                                                        (AST_PROP
                                                            (AST_VAR)))
                                                    (AST_UNSET
                                                        (AST_PROP
                                                            (AST_VAR)))
                                                    (AST_ASSIGN
                                                        (AST_VAR)
                                                        (AST_CALL
                                                            (
                                                                (AST_VAR)
                                                                (AST_CAST
                                                                    (AST_VAR)))))
                                                    (AST_CONTINUE
                                                        (NULL)))))))
                                (AST_ASSIGN
                                    (AST_DIM
                                        (AST_VAR)
                                        (SCALAR))
                                    (SCALAR))))
                        (AST_ASSIGN
                            (AST_PROP
                                (AST_VAR))
                            (AST_METHOD_CALL
                                (AST_VAR)
                                (
                                    (AST_ARRAY
                                        (AST_ARRAY_ELEM
                                            (AST_VAR)
                                            (SCALAR))))))
                        (AST_ASSIGN
                            (AST_PROP
                                (AST_VAR))
                            (AST_METHOD_CALL
                                (AST_VAR)
                                (
                                    (AST_PROP
                                        (AST_VAR)))))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_VAR)
                                (
                                    (AST_METHOD_CALL
                                        (AST_VAR)
                                        (
                                            (AST_CLASS_CONST
                                                (SCALAR))
                                            (AST_PROP
                                                (AST_VAR))))
                                    (AST_METHOD_CALL
                                        (AST_VAR)
                                        (
                                            (AST_CLASS_CONST
                                                (SCALAR))
                                            (AST_PROP
                                                (AST_VAR))))))))
                    (AST_CATCH_LIST
                        (AST_CATCH
                            (AST_NAME_LIST)
                            (AST_VAR)
                            (
                                (AST_IF
                                    (AST_IF_ELEM
                                        (AST_UNARY_OP
                                            (AST_METHOD_CALL
                                                (AST_VAR)))
                                        (
                                            (AST_ASSIGN
                                                (AST_PROP
                                                    (AST_VAR))
                                                (AST_NEW))
                                            (AST_ASSIGN
                                                (AST_PROP
                                                    (AST_VAR))
                                                (AST_ARRAY))
                                            (AST_THROW
                                                (AST_NEW
                                                    (
                                                        (SCALAR)
                                                        (SCALAR)
                                                        (AST_VAR))))))))))
                    (NULL))))))||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_CLASS_CONST
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_PROP
            (AST_VAR))
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_CLASS_CONST
                    (SCALAR)))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_UNARY_OP
                    (AST_PROP
                        (AST_VAR)))
                (AST_UNARY_OP
                    (AST_PROP
                        (AST_VAR))))
            (
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_ARRAY))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_ARRAY)))))
    (AST_TRY
        (
            (AST_ASSIGN
                (AST_VAR)
                (AST_CONST))
            (AST_ASSIGN
                (AST_VAR)
                (AST_ARRAY))
            (AST_ASSIGN
                (AST_VAR)
                (AST_ARRAY))
            (AST_ASSIGN
                (AST_VAR)
                (AST_CONST))
            (AST_ASSIGN
                (AST_VAR)
                (AST_CONST))
            (AST_FOREACH
                (AST_PROP
                    (AST_VAR))
                (AST_VAR)
                (AST_VAR)
                (
                    (AST_ASSIGN
                        (AST_DIM
                            (AST_VAR)
                            (AST_PROP
                                (AST_VAR)))
                        (AST_VAR))))
            (AST_ASSIGN
                (AST_VAR)
                (AST_METHOD_CALL
                    (AST_VAR)))
            (AST_FOREACH
                (AST_VAR)
                (AST_REF
                    (AST_VAR))
                (AST_VAR)
                (
                    (AST_IF
                        (AST_IF_ELEM
                            (AST_CALL
                                (
                                    (AST_DIM
                                        (AST_VAR)
                                        (SCALAR))
                                    (AST_VAR)))
                            (
                                (AST_CONTINUE
                                    (NULL)))))
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (AST_IF
                        (AST_IF_ELEM
                            (AST_BINARY_OP
                                (AST_VAR)
                                (AST_CONST))
                            (
                                (AST_ASSIGN
                                    (AST_VAR)
                                    (AST_METHOD_CALL
                                        (AST_VAR)))
                                (AST_ASSIGN
                                    (AST_VAR)
                                    (AST_CONST)))))
                    (AST_IF
                        (AST_IF_ELEM
                            (AST_UNARY_OP
                                (AST_METHOD_CALL
                                    (AST_VAR)
                                    (
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR)))))
                            (
                                (AST_UNSET
                                    (AST_DIM
                                        (AST_VAR)
                                        (AST_VAR)))
                                (AST_CONTINUE
                                    (NULL)))))
                    (AST_FOREACH
                        (AST_PROP
                            (AST_VAR))
                        (AST_VAR)
                        (NULL)
                        (
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_BINARY_OP
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR)))
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (AST_VAR)
                                                    (AST_CAST
                                                        (AST_VAR)))))
                                        (AST_CONTINUE
                                            (NULL)))))))
                    (AST_FOREACH
                        (AST_VAR)
                        (AST_VAR)
                        (NULL)
                        (
                            (AST_IF
                                (AST_IF_ELEM
                                    (AST_BINARY_OP
                                        (AST_PROP
                                            (AST_VAR))
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR)))
                                    (
                                        (AST_UNSET
                                            (AST_PROP
                                                (AST_VAR)))
                                        (AST_UNSET
                                            (AST_PROP
                                                (AST_VAR)))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CALL
                                                (
                                                    (AST_VAR)
                                                    (AST_CAST
                                                        (AST_VAR)))))
                                        (AST_CONTINUE
                                            (NULL)))))))
                    (AST_ASSIGN
                        (AST_DIM
                            (AST_VAR)
                            (SCALAR))
                        (SCALAR))
                    (AST_ASSIGN
                        (AST_DIM
                            (AST_VAR)
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR)))
                        (AST_VAR))))
            (AST_IF
                (AST_IF_ELEM
                    (AST_BINARY_OP
                        (AST_VAR)
                        (AST_CONST))
                    (
                        (AST_ASSIGN
                            (AST_PROP
                                (AST_VAR))
                            (AST_CALL
                                (
                                    (AST_PROP
                                        (AST_VAR))
                                    (AST_METHOD_CALL
                                        (AST_VAR)
                                        (
                                            (AST_ARRAY
                                                (AST_ARRAY_ELEM
                                                    (AST_VAR)
                                                    (SCALAR))))))))
                        (AST_ASSIGN
                            (AST_PROP
                                (AST_VAR))
                            (AST_METHOD_CALL
                                (AST_VAR)
                                (
                                    (AST_PROP
                                        (AST_VAR)))))
                        (AST_METHOD_CALL
                            (AST_VAR)
                            (
                                (AST_CLASS_CONST
                                    (SCALAR))
                                (AST_PROP
                                    (AST_VAR))))
                        (AST_METHOD_CALL
                            (AST_VAR)
                            (
                                (AST_CLASS_CONST
                                    (SCALAR))
                                (AST_PROP
                                    (AST_VAR))))))))
        (AST_CATCH_LIST
            (AST_CATCH
                (AST_NAME_LIST)
                (AST_VAR)
                (
                    (AST_IF
                        (AST_IF_ELEM
                            (AST_UNARY_OP
                                (AST_METHOD_CALL
                                    (AST_VAR)))
                            (
                                (AST_ASSIGN
                                    (AST_PROP
                                        (AST_VAR))
                                    (AST_ARRAY))
                                (AST_ASSIGN
                                    (AST_PROP
                                        (AST_VAR))
                                    (AST_ARRAY))
                                (AST_THROW
                                    (AST_NEW
                                        (
                                            (SCALAR)
                                            (SCALAR)
                                            (AST_VAR))))))))))
        (NULL)))