    final private function buildTopNavMenu(ParameterBag $parameterBag)
    {
        static $tabDataContent = null;

        if (null === $tabDataContent) {
            $yamlParser = new Parser();
            $yamlNavigationPath = __DIR__.'/../Resources/config/admin/navigation.yml';
            $tabConfiguration = $yamlParser->parse(file_get_contents($yamlNavigationPath));
            $explodedControllerInfo = explode('::', $parameterBag->get('_controller'));
            $explodedControllerName = explode('\\', $explodedControllerInfo[0]);
            $controllerNameIndex = count($explodedControllerName) - 1;
            $controllerName = $explodedControllerName[$controllerNameIndex];

            $moduleManager = $this->container->get('prestashop.module.manager');

            if (isset($tabConfiguration[$controllerName])) {
                // Construct tabs and inject into twig tpl
                $tabDataContent = array();
                // Get current route name to know when to put "current" class on HTML dom
                $currentRouteName = $parameterBag->get('_route');

                $context = (new LegacyContext())->getContext();
                $translator = $context->getTranslator();
                $locale = $context->language->locale;

                $tabMenu = (new ClassLang($locale))->getClassLang('TabLangCore');

                foreach ($tabConfiguration[$controllerName] as $tabName => $tabData) {
                    if (!empty($tabMenu)) {
                        $untranslated = $translator->getSourceString($tabData['title'], $tabMenu->getDomain());
                        $translatedField = $tabMenu->getFieldValue('name', $untranslated);
                        if (!empty($translatedField) && $translatedField != $tabData['title']) {
                            $tabData['title'] = $translatedField;
                        }
                    }

                    $tabData['isCurrent'] = false;
                    if ($currentRouteName === $tabData['route']) {
                        $tabData['isCurrent'] = true;
                    }

                    if ($tabName === 'module_tab_notifications') {
                        $tabData['notificationsCounter'] = $moduleManager->countModulesWithNotifications();
                    }

                    $tabDataContent[] = $this->environment->render(
                        'PrestaShopBundle:Admin/Common/_partials:_header_tab.html.twig',
                        array('tabData' => $tabData)
                    );
                }
                // Inject them to templating system as global to be able to pass it to the legacy afterwards and once
                // controller has given a response
            }
        }

        return $tabDataContent;
    }

    /**
     * {@inheritdoc}
     */
||||||||    final private function buildTopNavMenu(ParameterBag $parameterBag)
    {
        static $tabDataContent = null;

        if (null === $tabDataContent) {
            $yamlParser = new Parser();
            $yamlNavigationPath = __DIR__.'/../Resources/config/admin/navigation.yml';
            $tabConfiguration = $yamlParser->parse(file_get_contents($yamlNavigationPath));
            $explodedControllerInfo = explode('::', $parameterBag->get('_controller'));
            $explodedControllerName = explode('\\', $explodedControllerInfo[0]);
            $controllerNameIndex = count($explodedControllerName) - 1;
            $controllerName = $explodedControllerName[$controllerNameIndex];

            $moduleManager = $this->container->get('prestashop.module.manager');

            if (isset($tabConfiguration[$controllerName])) {
                // Construct tabs and inject into twig tpl
                $tabDataContent = array();
                // Get current route name to know when to put "current" class on HTML dom
                $currentRouteName = $parameterBag->get('_route');

                $translator = $this->container->get('translator');
                $locale = $translator->getLocale();

                $tabMenu = (new ClassLang($locale))->getClassLang('TabLangCore');

                foreach ($tabConfiguration[$controllerName] as $tabName => $tabData) {
                    if (!empty($tabMenu)) {
                        $untranslated = $translator->getSourceString($tabData['title'], $tabMenu->getDomain());
                        $translatedField = $tabMenu->getFieldValue('name', $untranslated);
                        if (!empty($translatedField) && $translatedField != $tabData['title']) {
                            $tabData['title'] = $translatedField;
                        }
                    }

                    $tabData['isCurrent'] = false;
                    if ($currentRouteName === $tabData['route']) {
                        $tabData['isCurrent'] = true;
                    }

                    if ($tabName === 'module_tab_notifications') {
                        $tabData['notificationsCounter'] = $moduleManager->countModulesWithNotifications();
                    }

                    $tabDataContent[] = $this->environment->render(
                        'PrestaShopBundle:Admin/Common/_partials:_header_tab.html.twig',
                        array('tabData' => $tabData)
                    );
                }
                // Inject them to templating system as global to be able to pass it to the legacy afterwards and once
                // controller has given a response
            }
        }

        return $tabDataContent;
    }

    /**
     * {@inheritdoc}
     */
||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_STATIC
        (AST_VAR)
        (AST_CONST))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_CONST)
                (AST_VAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_NEW))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_BINARY_OP
                        (AST_MAGIC_CONST)
                        (SCALAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_VAR)
                        (
                            (AST_CALL
                                (
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (AST_METHOD_CALL
                                (AST_VAR)
                                (
                                    (SCALAR))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_BINARY_OP
                        (AST_CALL
                            (
                                (AST_VAR)))
                        (SCALAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_DIM
                        (AST_VAR)
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_ISSET
                            (AST_DIM
                                (AST_VAR)
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_ARRAY))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_VAR)
                                    (
                                        (SCALAR))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_NEW)))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_VAR)))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_PROP
                                    (AST_PROP
                                        (AST_VAR))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_NEW
                                        (
                                            (AST_VAR)))
                                    (
                                        (SCALAR))))
                            (AST_FOREACH
                                (AST_DIM
                                    (AST_VAR)
                                    (AST_VAR))
                                (AST_VAR)
                                (AST_VAR)
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_UNARY_OP
                                                (AST_EMPTY
                                                    (AST_VAR)))
                                            (
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_METHOD_CALL
                                                        (AST_VAR)
                                                        (
                                                            (AST_DIM
                                                                (AST_VAR)
                                                                (SCALAR))
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)))))
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_METHOD_CALL
                                                        (AST_VAR)
                                                        (
                                                            (SCALAR)
                                                            (AST_VAR))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_BINARY_OP
                                                            (AST_UNARY_OP
                                                                (AST_EMPTY
                                                                    (AST_VAR)))
                                                            (AST_BINARY_OP
                                                                (AST_VAR)
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (SCALAR))))
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (SCALAR))
                                                                (AST_VAR))))))))
                                    (AST_ASSIGN
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR))
                                        (AST_CONST))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (SCALAR)))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (AST_CONST)))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (SCALAR))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (AST_METHOD_CALL
                                                        (AST_VAR))))))
                                    (AST_ASSIGN
                                        (AST_DIM
                                            (AST_VAR)
                                            (NULL))
                                        (AST_METHOD_CALL
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (SCALAR)
                                                (AST_ARRAY
                                                    (AST_ARRAY_ELEM
                                                        (AST_VAR)
                                                        (SCALAR))))))))))))))
    (AST_RETURN
        (AST_VAR)))||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_STATIC
        (AST_VAR)
        (AST_CONST))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_CONST)
                (AST_VAR))
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_NEW))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_BINARY_OP
                        (AST_MAGIC_CONST)
                        (SCALAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_VAR)
                        (
                            (AST_CALL
                                (
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (AST_METHOD_CALL
                                (AST_VAR)
                                (
                                    (SCALAR))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CALL
                        (
                            (SCALAR)
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_BINARY_OP
                        (AST_CALL
                            (
                                (AST_VAR)))
                        (SCALAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_DIM
                        (AST_VAR)
                        (AST_VAR)))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_PROP
                            (AST_VAR))
                        (
                            (SCALAR))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_ISSET
                            (AST_DIM
                                (AST_VAR)
                                (AST_VAR)))
                        (
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_ARRAY))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_VAR)
                                    (
                                        (SCALAR))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_PROP
                                        (AST_VAR))
                                    (
                                        (SCALAR))))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_VAR)))
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_METHOD_CALL
                                    (AST_NEW
                                        (
                                            (AST_VAR)))
                                    (
                                        (SCALAR))))
                            (AST_FOREACH
                                (AST_DIM
                                    (AST_VAR)
                                    (AST_VAR))
                                (AST_VAR)
                                (AST_VAR)
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_UNARY_OP
                                                (AST_EMPTY
                                                    (AST_VAR)))
                                            (
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_METHOD_CALL
                                                        (AST_VAR)
                                                        (
                                                            (AST_DIM
                                                                (AST_VAR)
                                                                (SCALAR))
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)))))
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_METHOD_CALL
                                                        (AST_VAR)
                                                        (
                                                            (SCALAR)
                                                            (AST_VAR))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_BINARY_OP
                                                            (AST_UNARY_OP
                                                                (AST_EMPTY
                                                                    (AST_VAR)))
                                                            (AST_BINARY_OP
                                                                (AST_VAR)
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (SCALAR))))
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_DIM
                                                                    (AST_VAR)
                                                                    (SCALAR))
                                                                (AST_VAR))))))))
                                    (AST_ASSIGN
                                        (AST_DIM
                                            (AST_VAR)
                                            (SCALAR))
                                        (AST_CONST))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (SCALAR)))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (AST_CONST)))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (SCALAR))
                                            (
                                                (AST_ASSIGN
                                                    (AST_DIM
                                                        (AST_VAR)
                                                        (SCALAR))
                                                    (AST_METHOD_CALL
                                                        (AST_VAR))))))
                                    (AST_ASSIGN
                                        (AST_DIM
                                            (AST_VAR)
                                            (NULL))
                                        (AST_METHOD_CALL
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (SCALAR)
                                                (AST_ARRAY
                                                    (AST_ARRAY_ELEM
                                                        (AST_VAR)
                                                        (SCALAR))))))))))))))
    (AST_RETURN
        (AST_VAR)))