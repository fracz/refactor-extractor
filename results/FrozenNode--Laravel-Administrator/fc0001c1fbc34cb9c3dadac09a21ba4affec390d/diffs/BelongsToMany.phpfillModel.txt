	public function fillModel(&$model, $input)
	{
		$input = $input ? explode(',', $input) : array();
		$fieldName = $this->getOption('field_name');

		//if this field is sortable, delete all the old records and insert the new ones one at a time
		if ($sortField = $this->getOption('sort_field'))
		{
			//first delete all the old records
			$model->{$fieldName}()->delete();

			foreach ($input as $i => $item)
			{
				$model->{$fieldName}()->attach($item, array($sortField => $i));
			}
		}
		else
		{
			$model->{$fieldName}()->sync($input);
		}

		$model->__unset($fieldName);
	}


	/**
	 * Filters a query object with this item's data
	 *
	 * @param Query		$query
	 * @param array		$selects
	 *
	 * @return void
	 */
||||||||	public function fillModel(&$model, $input)
	{
		$input = $input ? explode(',', $input) : array();
		$fieldName = $this->getOption('field_name');
		$relationship = $model->{$fieldName}();

		//if this field is sortable, delete all the old records and insert the new ones one at a time
		if ($sortField = $this->getOption('sort_field'))
		{
			//first delete all the old records
			$relationship->delete();

			//then re-attach them in the correct order
			foreach ($input as $i => $item)
			{
				$relationship->attach($item, array($sortField => $i));
			}
		}
		else
		{
			//elsewise the order doesn't matter, so use sync
			$relationship->sync($input);
		}

		//unset the attribute on the model
		$model->__unset($fieldName);
	}


	/**
	 * Filters a query object with this item's data
	 *
	 * @param Query		$query
	 * @param array		$selects
	 *
	 * @return void
	 */
||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONDITIONAL
            (AST_VAR)
            (AST_CALL
                (
                    (SCALAR)
                    (AST_VAR)))
            (AST_ARRAY)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_ASSIGN
                (AST_VAR)
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR))))
            (
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_VAR)))
                (AST_FOREACH
                    (AST_VAR)
                    (AST_VAR)
                    (AST_VAR)
                    (
                        (AST_METHOD_CALL
                            (AST_METHOD_CALL
                                (AST_VAR))
                            (
                                (AST_VAR)
                                (AST_ARRAY
                                    (AST_ARRAY_ELEM
                                        (AST_VAR)
                                        (AST_VAR)))))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_METHOD_CALL
                    (AST_METHOD_CALL
                        (AST_VAR))
                    (
                        (AST_VAR))))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR))))||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONDITIONAL
            (AST_VAR)
            (AST_CALL
                (
                    (SCALAR)
                    (AST_VAR)))
            (AST_ARRAY)))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_IF
        (AST_IF_ELEM
            (AST_ASSIGN
                (AST_VAR)
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR))))
            (
                (AST_METHOD_CALL
                    (AST_VAR))
                (AST_FOREACH
                    (AST_VAR)
                    (AST_VAR)
                    (AST_VAR)
                    (
                        (AST_METHOD_CALL
                            (AST_VAR)
                            (
                                (AST_VAR)
                                (AST_ARRAY
                                    (AST_ARRAY_ELEM
                                        (AST_VAR)
                                        (AST_VAR)))))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (AST_VAR))))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR))))