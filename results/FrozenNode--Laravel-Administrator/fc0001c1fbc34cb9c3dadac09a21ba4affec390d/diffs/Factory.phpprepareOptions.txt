||||||||	public function prepareOptions($name, $options, $loadRelationships = true)
	{
		//set the options array to the format we need
		$options = $this->validateOptions($name, $options);

		//make sure the 'title' option is set
		$options['title'] = isset($options['title']) ? $options['title'] : $options['field_name'];

		//ensure the type is set and then check that the field type exists
		$this->ensureTypeIsSet($options);

		//set the proper relationship options
		$this->setRelationshipType($options, $loadRelationships);

		//check that the type is a valid field class
		$this->checkTypeExists($options);

		return $options;
	}

	/**
	 * Validates an options array item. This could be a string $name and array $options, or a positive integer $name and string $options.
	 *
	 * @param mixed		$name
	 * @param mixed		$options
	 *
	 * @return array
	 */
||||||||||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPEPARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (AST_VAR)
                (AST_VAR))))
    (AST_ASSIGN
        (AST_DIM
            (AST_VAR)
            (SCALAR))
        (AST_CONDITIONAL
            (AST_ISSET
                (AST_DIM
                    (AST_VAR)
                    (SCALAR)))
            (AST_DIM
                (AST_VAR)
                (SCALAR))
            (AST_DIM
                (AST_VAR)
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR)
            (AST_VAR)))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR)))
    (AST_RETURN
        (AST_VAR)))