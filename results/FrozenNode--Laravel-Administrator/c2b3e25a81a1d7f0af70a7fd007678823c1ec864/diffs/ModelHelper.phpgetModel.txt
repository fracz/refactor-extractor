	public static function getModel($id = 0, $updateRelationships = false, $includeAllColumns = false, $saving = false)
	{
		//if we're getting an existing model, we'll want to first get the edit fields without the relationships loaded
		$config = App::make('itemconfig');
		$originalModel = $model = $config->model;
		$editFields = Field::getEditFields($config, ($id ? false : true));

		//make sure the edit fields are included
		foreach ($editFields['objectFields'] as $field => $obj)
		{
			if (!$obj->relationship && !$obj->setter && !array_key_exists($field, $config->columns['includedColumns']))
			{
				$config->columns['includedColumns'][$field] = $model->getTable().'.'.$field;
			}
		}

		//get the model
		if ($includeAllColumns)
		{
			$model = $model::find($id);
		}
		else
		{
			$model = $model::find($id, $config->columns['includedColumns']);
		}

		$model = $model ? $model : $config->model;

		//now we get the edit fields with the relationships loaded
		$editFields = Field::getEditFields($config);

		//if the model exists, load up the existing related items
		if ($model->exists && !$saving)
		{
			//make sure the relationships are loaded
			foreach ($editFields['objectFields'] as $field => $info)
			{
				if ($info->relationship)
				{
					//if this is a hmabt, we want to sort our initial values
					if ($info->multipleValues)
					{
						//if a sort_field is provided, use it, otherwise sort by the name field
						if ($info->sortField)
						{
							$relatedItems = $model->{$field}()->orderBy($info->sortField)->get();
						}
						else
						{
							$relatedItems = $model->{$field}()->orderBy($info->nameField)->get();
						}
					}
					else
					{
						$relatedItems = $model->{$field}()->get();
					}

					//get all existing values for this relationship
					if ($relatedItems)
					{
						//the array that holds all the ids of the currently-related items
						$relationsArray = array();

						//the id-indexed array that holds all of the select option data for a relation.
						//this holds the currently-related items and all of the available options
						$autocompleteArray = array();

						//iterate over the items
						foreach ($relatedItems as $item)
						{
							//if this is a mutliple-value type (i.e. HasMany, BelongsToMany), make sure this is an array
							if ($info->multipleValues)
							{
								$relationsArray[] = $item->{$item->getKeyName()};
							}
							else
							{
								$model->setAttribute($field, $item->{$item->getKeyName()});
							}

							//if this is an autocomplete field, we'll need to provide an array of arrays with 'id' and 'text' indexes
							if ($info->autocomplete)
							{
								$autocompleteArray[$item->{$item->getKeyName()}] = array('id' => $item->{$item->getKeyName()}, 'text' => $item->{$info->nameField});
							}
						}

						//if this is a BTM, set the relations array to the property that matches the relationship name
						if ($info->multipleValues)
						{
							$model->{$field} = $relationsArray;
						}

						//set the options attribute if $updateRelationships is true
						if ($updateRelationships)
						{
							$model->setAttribute($field.'_options', $info->options);

							//unset the relationships so we only get back what we need
							$model->relationships = array();
						}

						//set the autocomplete array
						if ($info->autocomplete)
						{
							$model->setAttribute($field.'_autocomplete', $autocompleteArray);
						}
					}
					//if there are no values, then just set an empty array
					else
					{
						$model->{$field} = array();
					}
				}

				//if this is a setter field, unset it
				if ($info->setter)
				{
					$model->__unset($field);
				}
			}

			//include the item link if one was supplied
			$link = $config->getModelLink($model);

			if (!$saving && $link)
			{
				$model->setAttribute('admin_item_link', $link);
			}

			//temporarily update the model on the config object
			$config->model = $model::find($model->id);

			//set up the model with the edit fields new data
			$editFields = Field::getEditFields($config);
			$model->setAttribute('administrator_edit_fields', $editFields['arrayFields']);

			//set up the config with the new actions data
			$config->updateActions();
			$model->setAttribute('administrator_actions', $config->actions);
			$model->setAttribute('administrator_action_permissions', $config->actionPermissions);

			//reset to the old model on the config so we can accurately pull our data model
			$config->model = $originalModel;
			$config->updateActions();
		}

		return $model;
	}

	/**
	 * Gets an instance of the supplied model class
	 *
	 * @param string		$className
	 *
	 * @return null | Eloquent instance
	 */
||||||||||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPEPARAM_DEFAULTNO_PARAM_TYPEPARAM_DEFAULTNO_PARAM_TYPEPARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (SCALAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_ASSIGN
            (AST_VAR)
            (AST_PROP
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (AST_VAR)
                (AST_CONDITIONAL
                    (AST_VAR)
                    (AST_CONST)
                    (AST_CONST)))))
    (AST_FOREACH
        (AST_DIM
            (AST_VAR)
            (SCALAR))
        (AST_VAR)
        (AST_VAR)
        (
            (AST_IF
                (AST_IF_ELEM
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (AST_UNARY_OP
                                (AST_PROP
                                    (AST_VAR)))
                            (AST_UNARY_OP
                                (AST_PROP
                                    (AST_VAR))))
                        (AST_UNARY_OP
                            (AST_CALL
                                (
                                    (AST_VAR)
                                    (AST_DIM
                                        (AST_PROP
                                            (AST_VAR))
                                        (SCALAR))))))
                    (
                        (AST_ASSIGN
                            (AST_DIM
                                (AST_DIM
                                    (AST_PROP
                                        (AST_VAR))
                                    (SCALAR))
                                (AST_VAR))
                            (AST_BINARY_OP
                                (AST_BINARY_OP
                                    (AST_METHOD_CALL
                                        (AST_VAR))
                                    (SCALAR))
                                (AST_VAR))))))))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_STATIC_CALL
                        (AST_VAR)
                        (
                            (AST_VAR))))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_STATIC_CALL
                        (AST_VAR)
                        (
                            (AST_VAR)
                            (AST_DIM
                                (AST_PROP
                                    (AST_VAR))
                                (SCALAR))))))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONDITIONAL
            (AST_VAR)
            (AST_VAR)
            (AST_PROP
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_STATIC_CALL
            (
                (AST_VAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_BINARY_OP
                (AST_PROP
                    (AST_VAR))
                (AST_UNARY_OP
                    (AST_VAR)))
            (
                (AST_FOREACH
                    (AST_DIM
                        (AST_VAR)
                        (SCALAR))
                    (AST_VAR)
                    (AST_VAR)
                    (
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_PROP
                                                (AST_VAR))
                                            (
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_PROP
                                                            (AST_VAR))
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_VAR)
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_METHOD_CALL
                                                                            (AST_VAR))
                                                                        (
                                                                            (AST_PROP
                                                                                (AST_VAR))))))))
                                                    (AST_IF_ELEM
                                                        (NULL)
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_VAR)
                                                                (AST_METHOD_CALL
                                                                    (AST_METHOD_CALL
                                                                        (AST_METHOD_CALL
                                                                            (AST_VAR))
                                                                        (
                                                                            (AST_PROP
                                                                                (AST_VAR)))))))))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_METHOD_CALL
                                                        (AST_METHOD_CALL
                                                            (AST_VAR)))))))
                                    (AST_IF
                                        (AST_IF_ELEM
                                            (AST_VAR)
                                            (
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_ARRAY))
                                                (AST_ASSIGN
                                                    (AST_VAR)
                                                    (AST_ARRAY))
                                                (AST_FOREACH
                                                    (AST_VAR)
                                                    (AST_VAR)
                                                    (NULL)
                                                    (
                                                        (AST_IF
                                                            (AST_IF_ELEM
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (
                                                                    (AST_ASSIGN
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (NULL))
                                                                        (AST_PROP
                                                                            (AST_VAR)))))
                                                            (AST_IF_ELEM
                                                                (NULL)
                                                                (
                                                                    (AST_METHOD_CALL
                                                                        (AST_VAR)
                                                                        (
                                                                            (AST_VAR)
                                                                            (AST_PROP
                                                                                (AST_VAR)))))))
                                                        (AST_IF
                                                            (AST_IF_ELEM
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (
                                                                    (AST_ASSIGN
                                                                        (AST_DIM
                                                                            (AST_VAR)
                                                                            (AST_PROP
                                                                                (AST_VAR)))
                                                                        (AST_ARRAY
                                                                            (AST_ARRAY_ELEM
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (SCALAR))
                                                                            (AST_ARRAY_ELEM
                                                                                (AST_PROP
                                                                                    (AST_VAR))
                                                                                (SCALAR)))))))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_PROP
                                                            (AST_VAR))
                                                        (
                                                            (AST_ASSIGN
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_VAR)))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_VAR)
                                                        (
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)
                                                                (
                                                                    (AST_BINARY_OP
                                                                        (AST_VAR)
                                                                        (SCALAR))
                                                                    (AST_PROP
                                                                        (AST_VAR))))
                                                            (AST_ASSIGN
                                                                (AST_PROP
                                                                    (AST_VAR))
                                                                (AST_ARRAY)))))
                                                (AST_IF
                                                    (AST_IF_ELEM
                                                        (AST_PROP
                                                            (AST_VAR))
                                                        (
                                                            (AST_METHOD_CALL
                                                                (AST_VAR)
                                                                (
                                                                    (AST_BINARY_OP
                                                                        (AST_VAR)
                                                                        (SCALAR))
                                                                    (AST_VAR))))))))
                                        (AST_IF_ELEM
                                            (NULL)
                                            (
                                                (AST_ASSIGN
                                                    (AST_PROP
                                                        (AST_VAR))
                                                    (AST_ARRAY))))))))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_PROP
                                    (AST_VAR))
                                (
                                    (AST_METHOD_CALL
                                        (AST_VAR)
                                        (
                                            (AST_VAR))))))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_METHOD_CALL
                        (AST_VAR)
                        (
                            (AST_VAR))))
                (AST_IF
                    (AST_IF_ELEM
                        (AST_BINARY_OP
                            (AST_UNARY_OP
                                (AST_VAR))
                            (AST_VAR))
                        (
                            (AST_METHOD_CALL
                                (AST_VAR)
                                (
                                    (SCALAR)
                                    (AST_VAR))))))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_STATIC_CALL
                        (AST_VAR)
                        (
                            (AST_PROP
                                (AST_VAR)))))
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_STATIC_CALL
                        (
                            (AST_VAR))))
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR)
                        (AST_DIM
                            (AST_VAR)
                            (SCALAR))))
                (AST_METHOD_CALL
                    (AST_VAR))
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR)
                        (AST_PROP
                            (AST_VAR))))
                (AST_METHOD_CALL
                    (AST_VAR)
                    (
                        (SCALAR)
                        (AST_PROP
                            (AST_VAR))))
                (AST_ASSIGN
                    (AST_PROP
                        (AST_VAR))
                    (AST_VAR))
                (AST_METHOD_CALL
                    (AST_VAR)))))
    (AST_RETURN
        (AST_VAR)))||||||||