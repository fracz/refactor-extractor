||||||||    public function testShouldForgotPassword()
    {
        // Mocks an User object
        $confide_user = $this->mockConfideUser();
        $confide_user->shouldReceive('forgotPassword')
            ->once();

        // Mocks the repository
        // Repository should receive model and return an existent user
        $this->confide->repo->shouldReceive('getUserByMail')
            ->with( 'user@sample.com' )
            ->andReturn($confide_user)
            ->once();

        $result = $this->confide->forgotPassword( 'user@sample.com' );

        $this->assertTrue( $result );
    }

||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)))
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_METHOD_CALL
            (AST_METHOD_CALL
                (AST_METHOD_CALL
                    (AST_PROP
                        (AST_PROP
                            (AST_VAR)))
                    (
                        (SCALAR)))
                (
                    (SCALAR)))
            (
                (AST_VAR))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_PROP
                (AST_VAR))
            (
                (SCALAR))))
    (AST_METHOD_CALL
        (AST_VAR)
        (
            (AST_VAR))))