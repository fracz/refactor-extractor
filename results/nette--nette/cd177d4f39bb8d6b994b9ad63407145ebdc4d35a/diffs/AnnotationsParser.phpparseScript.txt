	private static function parseScript($file)
	{
		$s = file_get_contents($file);

		if (Strings::match($s, '#//nette'.'loader=(\S*)#')) {
			return; // TODO: allways ignore?
		}

		$expected = $namespace = $class = $docComment = NULL;
		$level = $classLevel = 0;

		foreach (token_get_all($s) as $token) {

			if (is_array($token)) {
				switch ($token[0]) {
					case T_DOC_COMMENT:
						$docComment = $token[1];
						// break intentionally omitted
					case T_WHITESPACE:
					case T_COMMENT:
						continue 2;

					case T_STRING:
					case T_NS_SEPARATOR:
					case T_VARIABLE:
						if ($expected) {
							$name .= $token[1];
						}
						continue 2;

					case T_FUNCTION:
					case T_VAR:
					case T_PUBLIC:
					case T_PROTECTED:
					case T_NAMESPACE:
					case T_CLASS:
					case T_INTERFACE:
						$expected = $token[0];
						$name = NULL;
						continue 2;

					case T_STATIC:
					case T_ABSTRACT:
					case T_FINAL:
						continue 2; // ignore in expectation

					case T_CURLY_OPEN:
					case T_DOLLAR_OPEN_CURLY_BRACES:
						$level++;
				}
			}

			if ($expected) {
				switch ($expected) {
					case T_CLASS:
					case T_INTERFACE:
						$class = $namespace . $name;
						$classLevel = $level;
						$name = '';
						// break intentionally omitted
					case T_FUNCTION:
						if ($token === '&') {
							continue 2; // ignore
						}
					case T_VAR:
					case T_PUBLIC:
					case T_PROTECTED:
						if ($class && $name !== NULL && $docComment) {
							self::$cache[$class][$name] = self::parseComment($docComment);
						}
						break;

					case T_NAMESPACE:
						$namespace = $name . '\\';
				}

				$expected = $docComment = NULL;
			}

			if ($token === ';') {
				$docComment = NULL;
			} elseif ($token === '{') {
				$docComment = NULL;
				$level++;
			} elseif ($token === '}') {
				$level--;
				if ($level === $classLevel) {
					$class = NULL;
				}
			}
		}
	}


	/********************* backend ****************d*g**/


	/**
	 * @return void
	 */
||||||||||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CALL
            (
                (AST_VAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_STATIC_CALL
                (
                    (AST_VAR)
                    (AST_BINARY_OP
                        (SCALAR)
                        (SCALAR))))
            (
                (AST_RETURN
                    (NULL)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_ASSIGN
            (AST_VAR)
            (AST_ASSIGN
                (AST_VAR)
                (AST_ASSIGN
                    (AST_VAR)
                    (AST_CONST)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_ASSIGN
            (AST_VAR)
            (SCALAR)))
    (AST_FOREACH
        (AST_CALL
            (
                (AST_VAR)))
        (AST_VAR)
        (NULL)
        (
            (AST_IF
                (AST_IF_ELEM
                    (AST_CALL
                        (
                            (AST_VAR)))
                    (
                        (AST_SWITCH
                            (AST_DIM
                                (AST_VAR)
                                (SCALAR))
                            (AST_SWITCH_LIST
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR)))))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_CONTINUE
                                            (SCALAR))))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_VAR)
                                                (
                                                    (AST_ASSIGN_OP
                                                        (AST_VAR)
                                                        (AST_DIM
                                                            (AST_VAR)
                                                            (SCALAR))))))
                                        (AST_CONTINUE
                                            (SCALAR))))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_DIM
                                                (AST_VAR)
                                                (SCALAR)))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_CONST))
                                        (AST_CONTINUE
                                            (SCALAR))))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_CONTINUE
                                            (SCALAR))))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_POST_INC
                                            (AST_VAR)))))))))
            (AST_IF
                (AST_IF_ELEM
                    (AST_VAR)
                    (
                        (AST_SWITCH
                            (AST_VAR)
                            (AST_SWITCH_LIST
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (AST_VAR)))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_VAR))
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (SCALAR))))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_BINARY_OP
                                                    (AST_VAR)
                                                    (SCALAR))
                                                (
                                                    (AST_CONTINUE
                                                        (SCALAR)))))))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_IF
                                            (AST_IF_ELEM
                                                (AST_BINARY_OP
                                                    (AST_BINARY_OP
                                                        (AST_VAR)
                                                        (AST_BINARY_OP
                                                            (AST_VAR)
                                                            (AST_CONST)))
                                                    (AST_VAR))
                                                (
                                                    (AST_ASSIGN
                                                        (AST_DIM
                                                            (AST_DIM
                                                                (AST_STATIC_PROP)
                                                                (AST_VAR))
                                                            (AST_VAR))
                                                        (AST_STATIC_CALL
                                                            (
                                                                (AST_VAR)))))))
                                        (AST_BREAK
                                            (NULL))))
                                (AST_SWITCH_CASE
                                    (AST_CONST)
                                    (
                                        (AST_ASSIGN
                                            (AST_VAR)
                                            (AST_BINARY_OP
                                                (AST_VAR)
                                                (SCALAR)))))))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_ASSIGN
                                (AST_VAR)
                                (AST_CONST))))))
            (AST_IF
                (AST_IF_ELEM
                    (AST_BINARY_OP
                        (AST_VAR)
                        (SCALAR))
                    (
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CONST))))
                (AST_IF_ELEM
                    (AST_BINARY_OP
                        (AST_VAR)
                        (SCALAR))
                    (
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CONST))
                        (AST_POST_INC
                            (AST_VAR))))
                (AST_IF_ELEM
                    (AST_BINARY_OP
                        (AST_VAR)
                        (SCALAR))
                    (
                        (AST_POST_DEC
                            (AST_VAR))
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_BINARY_OP
                                    (AST_VAR)
                                    (AST_VAR))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_CONST)))))))))))||||||||