commit 7fb7960f92047a9bcadf9d497ae79615979e9a6d
Author: Christopher Smith <chris@jalakai.co.uk>
Date:   Fri Mar 22 17:45:59 2013 +0000

    refactor fetch to support unittesting