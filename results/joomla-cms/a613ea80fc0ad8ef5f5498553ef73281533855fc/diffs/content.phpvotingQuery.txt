	function votingQuery() {
		global $mainframe;

		$voting	= $mainframe->getCfg( 'vote' );

		if ( $voting ) {
			// calculate voting count
			$select = "\n , ROUND( v.rating_sum / v.rating_count ) AS rating, v.rating_count";
			$join	= "\n LEFT JOIN #__content_rating AS v ON a.id = v.content_id";
		} else {
			$select	= '';
			$join	= '';
		}

		$results = array( 'select' => $select, 'join' => $join );

		return $results;
	}

	/**
	 * Searches for an item by a key parameter
	 *
	 * @static
	 * @param object Actions this user can perform
	 * @param string A timestamp
	 * @return void
	 * @since 1.0
	 */
||||||||||||||||NO_DOC_COMMENTNO_RETURN_TYPE
(
    (AST_GLOBAL
        (AST_VAR))
    (AST_ASSIGN
        (AST_VAR)
        (AST_METHOD_CALL
            (AST_VAR)
            (
                (SCALAR))))
    (AST_IF
        (AST_IF_ELEM
            (AST_VAR)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR))
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR))))
        (AST_IF_ELEM
            (NULL)
            (
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR))
                (AST_ASSIGN
                    (AST_VAR)
                    (SCALAR)))))
    (AST_ASSIGN
        (AST_VAR)
        (AST_ARRAY
            (AST_ARRAY_ELEM
                (AST_VAR)
                (SCALAR))
            (AST_ARRAY_ELEM
                (AST_VAR)
                (SCALAR))))
    (AST_RETURN
        (AST_VAR)))||||||||