commit 9ccffe72db6d4c35a137063519e6ec0a9c5c34a4
Author: Evan You <yyx990803@gmail.com>
Date:   Fri Feb 17 18:55:52 2017 -0500

    invoke activate/deactivate recursively + refactor (close #4242)