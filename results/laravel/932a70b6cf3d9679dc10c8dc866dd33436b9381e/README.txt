commit 932a70b6cf3d9679dc10c8dc866dd33436b9381e
Author: Taylor Otwell <taylorotwell@gmail.com>
Date:   Sat Oct 29 22:24:32 2011 -0500

    refactoring for better dependency injection on a few classes.