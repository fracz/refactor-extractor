commit 82045e20d98956a4ed6602a191e3530f2a3dce3f
Author: Taylor Otwell <taylorotwell@gmail.com>
Date:   Wed Aug 24 23:44:50 2011 -0500

    more refactoring for dependency injection.