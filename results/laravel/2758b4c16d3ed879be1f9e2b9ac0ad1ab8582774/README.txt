commit 2758b4c16d3ed879be1f9e2b9ac0ad1ab8582774
Author: Taylor Otwell <taylorotwell@gmail.com>
Date:   Sun Nov 13 15:23:48 2011 -0600

    some small refactoring and bug fixing.