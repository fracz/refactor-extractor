commit fb811af5fc1b5145edefffa736a226891a886f45
Author: Taylor Otwell <taylorotwell@gmail.com>
Date:   Fri Sep 9 20:55:24 2011 -0500

    more refactoring for dependency injection.