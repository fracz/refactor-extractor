||||||||    public function updateInternalRelations($multi_edit_columns_name,
                                            $destination_db, $destination_table, $destination_column,
                                            $cfgRelation, $existrel) {
        $updated = false;
        foreach ($destination_db as $master_field_md5 => $foreign_db) {
            $upd_query = null;
            // Map the fieldname's md5 back to its real name
            $master_field = $multi_edit_columns_name[$master_field_md5];

            $foreign_table = $destination_table[$master_field_md5];
            $foreign_field = $destination_column[$master_field_md5];
            if (! empty($foreign_db)
                && ! empty($foreign_table)
                && ! empty($foreign_field)
            ) {
                if (! isset($existrel[$master_field])) {
                    $upd_query  = 'INSERT INTO '
                        . PMA_Util::backquote($GLOBALS['cfgRelation']['db'])
                        . '.' . PMA_Util::backquote($cfgRelation['relation'])
                        . '(master_db, master_table, master_field, foreign_db,'
                        . ' foreign_table, foreign_field)'
                        . ' values('
                        . '\'' . PMA_Util::sqlAddSlashes($this->_db_name) . '\', '
                        . '\'' . PMA_Util::sqlAddSlashes($this->_name) . '\', '
                        . '\'' . PMA_Util::sqlAddSlashes($master_field) . '\', '
                        . '\'' . PMA_Util::sqlAddSlashes($foreign_db) . '\', '
                        . '\'' . PMA_Util::sqlAddSlashes($foreign_table) . '\','
                        . '\'' . PMA_Util::sqlAddSlashes($foreign_field) . '\')';

                } elseif ($existrel[$master_field]['foreign_db'] != $foreign_db
                    || $existrel[$master_field]['foreign_table'] != $foreign_table
                    || $existrel[$master_field]['foreign_field'] != $foreign_field
                ) {
                    $upd_query  = 'UPDATE '
                        . PMA_Util::backquote($GLOBALS['cfgRelation']['db'])
                        . '.' . PMA_Util::backquote($cfgRelation['relation']) . ' SET'
                        . ' foreign_db       = \''
                        . PMA_Util::sqlAddSlashes($foreign_db) . '\', '
                        . ' foreign_table    = \''
                        . PMA_Util::sqlAddSlashes($foreign_table) . '\', '
                        . ' foreign_field    = \''
                        . PMA_Util::sqlAddSlashes($foreign_field) . '\' '
                        . ' WHERE master_db  = \''
                        . PMA_Util::sqlAddSlashes($this->_db_name) . '\''
                        . ' AND master_table = \''
                        . PMA_Util::sqlAddSlashes($this->_name) . '\''
                        . ' AND master_field = \''
                        . PMA_Util::sqlAddSlashes($master_field) . '\'';
                } // end if... else....
            } elseif (isset($existrel[$master_field])) {
                $upd_query = 'DELETE FROM '
                    . PMA_Util::backquote($GLOBALS['cfgRelation']['db'])
                    . '.' . PMA_Util::backquote($cfgRelation['relation'])
                    . ' WHERE master_db  = \'' . PMA_Util::sqlAddSlashes($this->_db_name) . '\''
                    . ' AND master_table = \'' . PMA_Util::sqlAddSlashes($this->_name) . '\''
                    . ' AND master_field = \'' . PMA_Util::sqlAddSlashes($master_field)
                    . '\'';
            } // end if... else....

            if (isset($upd_query)) {
                $this->_dbi->query(
                    $upd_query,
                    $GLOBALS['controllink'],
                    0,
                    false
                );
                $updated = true;
            }
        }
        return $updated;
    }

    /**
     * Function to handle foreign key updates
     *
     * @param array  $destination_foreign_db     destination foreign database
     * @param array  $multi_edit_columns_name    multi edit column names
     * @param array  $destination_foreign_table  destination foreign table
     * @param array  $destination_foreign_column destination foreign column
     * @param array  $options_array              options array
     * @param string $table                      current table
     * @param array  $existrel_foreign           db, table, column
     *
     * @return array
     */
||||||||||||||||HAS_DOC_COMMENTNO_RETURN_TYPE
(NO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULTNO_PARAM_TYPENO_PARAM_DEFAULT)
(
    (AST_ASSIGN
        (AST_VAR)
        (AST_CONST))
    (AST_FOREACH
        (AST_VAR)
        (AST_VAR)
        (AST_VAR)
        (
            (AST_ASSIGN
                (AST_VAR)
                (AST_CONST))
            (AST_ASSIGN
                (AST_VAR)
                (AST_DIM
                    (AST_VAR)
                    (AST_VAR)))
            (AST_ASSIGN
                (AST_VAR)
                (AST_DIM
                    (AST_VAR)
                    (AST_VAR)))
            (AST_ASSIGN
                (AST_VAR)
                (AST_DIM
                    (AST_VAR)
                    (AST_VAR)))
            (AST_IF
                (AST_IF_ELEM
                    (AST_BINARY_OP
                        (AST_BINARY_OP
                            (AST_UNARY_OP
                                (AST_EMPTY
                                    (AST_VAR)))
                            (AST_UNARY_OP
                                (AST_EMPTY
                                    (AST_VAR))))
                        (AST_UNARY_OP
                            (AST_EMPTY
                                (AST_VAR))))
                    (
                        (AST_IF
                            (AST_IF_ELEM
                                (AST_UNARY_OP
                                    (AST_ISSET
                                        (AST_DIM
                                            (AST_VAR)
                                            (AST_VAR))))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_BINARY_OP
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_BINARY_OP
                                                        (AST_BINARY_OP
                                                            (AST_BINARY_OP
                                                                (AST_BINARY_OP
                                                                    (AST_BINARY_OP
                                                                        (AST_BINARY_OP
                                                                            (AST_BINARY_OP
                                                                                (AST_BINARY_OP
                                                                                    (AST_BINARY_OP
                                                                                        (AST_BINARY_OP
                                                                                            (AST_BINARY_OP
                                                                                                (AST_BINARY_OP
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_BINARY_OP
                                                                                                            (AST_BINARY_OP
                                                                                                                (AST_BINARY_OP
                                                                                                                    (AST_BINARY_OP
                                                                                                                        (AST_BINARY_OP
                                                                                                                            (AST_BINARY_OP
                                                                                                                                (AST_BINARY_OP
                                                                                                                                    (AST_BINARY_OP
                                                                                                                                        (SCALAR)
                                                                                                                                        (AST_STATIC_CALL
                                                                                                                                            (
                                                                                                                                                (AST_DIM
                                                                                                                                                    (AST_DIM
                                                                                                                                                        (AST_VAR)
                                                                                                                                                        (SCALAR))
                                                                                                                                                    (SCALAR)))))
                                                                                                                                    (SCALAR))
                                                                                                                                (AST_STATIC_CALL
                                                                                                                                    (
                                                                                                                                        (AST_DIM
                                                                                                                                            (AST_VAR)
                                                                                                                                            (SCALAR)))))
                                                                                                                            (SCALAR))
                                                                                                                        (SCALAR))
                                                                                                                    (SCALAR))
                                                                                                                (SCALAR))
                                                                                                            (AST_STATIC_CALL
                                                                                                                (
                                                                                                                    (AST_PROP
                                                                                                                        (AST_VAR)))))
                                                                                                        (SCALAR))
                                                                                                    (SCALAR))
                                                                                                (AST_STATIC_CALL
                                                                                                    (
                                                                                                        (AST_PROP
                                                                                                            (AST_VAR)))))
                                                                                            (SCALAR))
                                                                                        (SCALAR))
                                                                                    (AST_STATIC_CALL
                                                                                        (
                                                                                            (AST_VAR))))
                                                                                (SCALAR))
                                                                            (SCALAR))
                                                                        (AST_STATIC_CALL
                                                                            (
                                                                                (AST_VAR))))
                                                                    (SCALAR))
                                                                (SCALAR))
                                                            (AST_STATIC_CALL
                                                                (
                                                                    (AST_VAR))))
                                                        (SCALAR))
                                                    (SCALAR))
                                                (AST_STATIC_CALL
                                                    (
                                                        (AST_VAR))))
                                            (SCALAR)))))
                            (AST_IF_ELEM
                                (AST_BINARY_OP
                                    (AST_BINARY_OP
                                        (AST_BINARY_OP
                                            (AST_DIM
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (AST_VAR))
                                                (SCALAR))
                                            (AST_VAR))
                                        (AST_BINARY_OP
                                            (AST_DIM
                                                (AST_DIM
                                                    (AST_VAR)
                                                    (AST_VAR))
                                                (SCALAR))
                                            (AST_VAR)))
                                    (AST_BINARY_OP
                                        (AST_DIM
                                            (AST_DIM
                                                (AST_VAR)
                                                (AST_VAR))
                                            (SCALAR))
                                        (AST_VAR)))
                                (
                                    (AST_ASSIGN
                                        (AST_VAR)
                                        (AST_BINARY_OP
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_BINARY_OP
                                                        (AST_BINARY_OP
                                                            (AST_BINARY_OP
                                                                (AST_BINARY_OP
                                                                    (AST_BINARY_OP
                                                                        (AST_BINARY_OP
                                                                            (AST_BINARY_OP
                                                                                (AST_BINARY_OP
                                                                                    (AST_BINARY_OP
                                                                                        (AST_BINARY_OP
                                                                                            (AST_BINARY_OP
                                                                                                (AST_BINARY_OP
                                                                                                    (AST_BINARY_OP
                                                                                                        (AST_BINARY_OP
                                                                                                            (AST_BINARY_OP
                                                                                                                (AST_BINARY_OP
                                                                                                                    (AST_BINARY_OP
                                                                                                                        (AST_BINARY_OP
                                                                                                                            (AST_BINARY_OP
                                                                                                                                (SCALAR)
                                                                                                                                (AST_STATIC_CALL
                                                                                                                                    (
                                                                                                                                        (AST_DIM
                                                                                                                                            (AST_DIM
                                                                                                                                                (AST_VAR)
                                                                                                                                                (SCALAR))
                                                                                                                                            (SCALAR)))))
                                                                                                                            (SCALAR))
                                                                                                                        (AST_STATIC_CALL
                                                                                                                            (
                                                                                                                                (AST_DIM
                                                                                                                                    (AST_VAR)
                                                                                                                                    (SCALAR)))))
                                                                                                                    (SCALAR))
                                                                                                                (SCALAR))
                                                                                                            (AST_STATIC_CALL
                                                                                                                (
                                                                                                                    (AST_VAR))))
                                                                                                        (SCALAR))
                                                                                                    (SCALAR))
                                                                                                (AST_STATIC_CALL
                                                                                                    (
                                                                                                        (AST_VAR))))
                                                                                            (SCALAR))
                                                                                        (SCALAR))
                                                                                    (AST_STATIC_CALL
                                                                                        (
                                                                                            (AST_VAR))))
                                                                                (SCALAR))
                                                                            (SCALAR))
                                                                        (AST_STATIC_CALL
                                                                            (
                                                                                (AST_PROP
                                                                                    (AST_VAR)))))
                                                                    (SCALAR))
                                                                (SCALAR))
                                                            (AST_STATIC_CALL
                                                                (
                                                                    (AST_PROP
                                                                        (AST_VAR)))))
                                                        (SCALAR))
                                                    (SCALAR))
                                                (AST_STATIC_CALL
                                                    (
                                                        (AST_VAR))))
                                            (SCALAR))))))))
                (AST_IF_ELEM
                    (AST_ISSET
                        (AST_DIM
                            (AST_VAR)
                            (AST_VAR)))
                    (
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_BINARY_OP
                                (AST_BINARY_OP
                                    (AST_BINARY_OP
                                        (AST_BINARY_OP
                                            (AST_BINARY_OP
                                                (AST_BINARY_OP
                                                    (AST_BINARY_OP
                                                        (AST_BINARY_OP
                                                            (AST_BINARY_OP
                                                                (AST_BINARY_OP
                                                                    (AST_BINARY_OP
                                                                        (AST_BINARY_OP
                                                                            (SCALAR)
                                                                            (AST_STATIC_CALL
                                                                                (
                                                                                    (AST_DIM
                                                                                        (AST_DIM
                                                                                            (AST_VAR)
                                                                                            (SCALAR))
                                                                                        (SCALAR)))))
                                                                        (SCALAR))
                                                                    (AST_STATIC_CALL
                                                                        (
                                                                            (AST_DIM
                                                                                (AST_VAR)
                                                                                (SCALAR)))))
                                                                (SCALAR))
                                                            (AST_STATIC_CALL
                                                                (
                                                                    (AST_PROP
                                                                        (AST_VAR)))))
                                                        (SCALAR))
                                                    (SCALAR))
                                                (AST_STATIC_CALL
                                                    (
                                                        (AST_PROP
                                                            (AST_VAR)))))
                                            (SCALAR))
                                        (SCALAR))
                                    (AST_STATIC_CALL
                                        (
                                            (AST_VAR))))
                                (SCALAR))))))
            (AST_IF
                (AST_IF_ELEM
                    (AST_ISSET
                        (AST_VAR))
                    (
                        (AST_METHOD_CALL
                            (AST_PROP
                                (AST_VAR))
                            (
                                (AST_VAR)
                                (AST_DIM
                                    (AST_VAR)
                                    (SCALAR))
                                (SCALAR)
                                (AST_CONST)))
                        (AST_ASSIGN
                            (AST_VAR)
                            (AST_CONST)))))))
    (AST_RETURN
        (AST_VAR)))