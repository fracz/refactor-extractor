commit c767219eb6325db5cb37f689e2eec059f857d4a2
Author: Jose Lorenzo Rodriguez <jose.zap@gmail.com>
Date:   Thu Mar 13 21:15:00 2014 +0100

    More refactoring and fixing tests