commit 298aaf5b07ef918d176fb6b47bf8197aeb6ddaef
Author: mark_story <mark@mark-story.com>
Date:   Thu Apr 2 10:10:36 2015 -0400

    Port optimizations from #6232

    Port the code optimizations without the method renames and readability
    changes.