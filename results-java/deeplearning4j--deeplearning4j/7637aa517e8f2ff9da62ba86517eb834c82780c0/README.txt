commit 7637aa517e8f2ff9da62ba86517eb834c82780c0
Author: Alex Black <blacka101@gmail.com>
Date:   Tue Jul 11 15:00:04 2017 +1000

    More fixes given refactoring; almost compiles again