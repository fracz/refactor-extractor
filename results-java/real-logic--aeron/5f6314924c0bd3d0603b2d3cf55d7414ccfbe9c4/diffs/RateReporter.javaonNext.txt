/**
 * Function called by the RateController once a second; used to report
 * the current aggregate receiving rates.
 */
@Override
public int onNext() {
    final long currentTimeNanos = CLOCK.time();
    final long verifiableMessages = app.verifiableMessages();
    final long nonVerifiableMessages = app.nonVerifiableMessages();
    final long totalMessages = verifiableMessages + nonVerifiableMessages;
    final long lastTotalMessages = lastNonVerifiableMessages + lastVerifiableMessages;
    final long bytesReceived = app.bytes();
    System.out.format("%.6f: %smsgs/sec %sbps%n", (currentTimeNanos - lastReportTimeNanos) / 1000000000.0, getHumanReadableRate(totalMessages - lastTotalMessages), getHumanReadableRate((bytesReceived - lastBytes) * 8));
    lastReportTimeNanos = currentTimeNanos;
    lastVerifiableMessages = verifiableMessages;
    lastNonVerifiableMessages = nonVerifiableMessages;
    lastBytes = bytesReceived;
    /* Should we exit? */
    if (shuttingDown) {
        return -1;
    }
    return 0;
/* no "bytes" sent. */
}||||||||/**
 * Function called by the RateController once a second; used to report
 * the current aggregate receiving rates.
 */
@Override
public int onNext() {
    final long currentTimeNanos = CLOCK.time();
    final long verifiableMessages = app.verifiableMessages();
    final long nonVerifiableMessages = app.nonVerifiableMessages();
    final long totalMessages = verifiableMessages + nonVerifiableMessages;
    final long lastTotalMessages = lastNonVerifiableMessages + lastVerifiableMessages;
    final long bytesReceived = app.bytes();
    final double secondsElapsed = (currentTimeNanos - lastReportTimeNanos) / 1000000000.0;
    System.out.format("%.6f: %smsgs/sec %sbps%n", secondsElapsed, getHumanReadableRate((totalMessages - lastTotalMessages) / secondsElapsed), getHumanReadableRate((long) ((((bytesReceived - lastBytes) * 8)) / secondsElapsed)));
    lastReportTimeNanos = currentTimeNanos;
    lastVerifiableMessages = verifiableMessages;
    lastNonVerifiableMessages = nonVerifiableMessages;
    lastBytes = bytesReceived;
    /* Should we exit? */
    if (shuttingDown) {
        return -1;
    }
    return 0;
/* no "bytes" sent. */
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				StringLiteralExpr
				(BinaryExpr
					(EnclosedExpr
						(BinaryExpr
							NameExpr
								SimpleName
							NameExpr
								SimpleName
						)
					)
					(DoubleLiteralExpr
					)
				)
				(MethodCallExpr
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
				)
				(MethodCallExpr
					(BinaryExpr
						(EnclosedExpr
							(BinaryExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						(IntegerLiteralExpr
						)
					)
					SimpleName
				)
				SimpleName
				(FieldAccessExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(IfStmt
			NameExpr
				SimpleName
			(BlockStmt
				(ReturnStmt
					(UnaryExpr
						(IntegerLiteralExpr
						)
					)
				)
			)
			(BlockComment
			)
		)
		(ReturnStmt
			(IntegerLiteralExpr
			)
		)
	)
	(PrimitiveType
	)
	SimpleName
	(MarkerAnnotationExpr
		Name
	)
	(JavadocComment
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(EnclosedExpr
							(BinaryExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						(DoubleLiteralExpr
						)
					)
					SimpleName
					(PrimitiveType
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				(MethodCallExpr
					(BinaryExpr
						(EnclosedExpr
							(BinaryExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						NameExpr
							SimpleName
					)
					SimpleName
				)
				(MethodCallExpr
					(CastExpr
						(EnclosedExpr
							(BinaryExpr
								(EnclosedExpr
									(EnclosedExpr
										(BinaryExpr
											(EnclosedExpr
												(BinaryExpr
													NameExpr
														SimpleName
													NameExpr
														SimpleName
												)
											)
											(IntegerLiteralExpr
											)
										)
									)
								)
								NameExpr
									SimpleName
							)
						)
						(PrimitiveType
						)
					)
					SimpleName
				)
				SimpleName
				(FieldAccessExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
		)
		(IfStmt
			NameExpr
				SimpleName
			(BlockStmt
				(ReturnStmt
					(UnaryExpr
						(IntegerLiteralExpr
						)
					)
				)
			)
			(BlockComment
			)
		)
		(ReturnStmt
			(IntegerLiteralExpr
			)
		)
	)
	(PrimitiveType
	)
	SimpleName
	(MarkerAnnotationExpr
		Name
	)
	(JavadocComment
	)
)

