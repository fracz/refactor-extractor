// synchronized public void handleDisplay() {
public void handleDraw() {
    if (g != null && (looping || redraw)) {
        if (!g.canDraw()) {
            // (e.g. OpenGL has to wait for a peer to be on screen)
            return;
        }
        g.beginDraw();
        if (recorder != null) {
            recorder.beginDraw();
        }
        long now = System.nanoTime();
        if (frameCount == 0) {
            GraphicsDevice displayDevice = getGraphicsConfiguration().getDevice();
            Rectangle screenRect = displayDevice.getDefaultConfiguration().getBounds();
            screenWidth = screenRect.width;
            screenHeight = screenRect.height;
            try {
                // println("Calling setup()");
                setup();
            // println("Done with setup()");
            } catch (RendererChangeException e) {
                // Give up, instead set the new renderer and re-attempt setup()
                return;
            }
            this.defaultSize = false;
        } else {
            // frameCount > 0, meaning an actual draw()
            // update the current frameRate
            double rate = 1000000.0 / ((now - frameRateLastNanos) / 1000000.0);
            float instantaneousRate = (float) rate / 1000.0f;
            frameRate = (frameRate * 0.9f) + (instantaneousRate * 0.1f);
            if (frameCount != 0) {
                preMethods.handle();
            }
            // use dmouseX/Y as previous mouse pos, since this is the
            // last position the mouse was in during the previous draw.
            pmouseX = dmouseX;
            pmouseY = dmouseY;
            // println("Calling draw()");
            draw();
            // println("Done calling draw()");
            // dmouseX/Y is updated only once per frame (unlike emouseX/Y)
            dmouseX = mouseX;
            dmouseY = mouseY;
            // these are called *after* loop so that valid
            // drawing commands can be run inside them. it can't
            // be before, since a call to background() would wipe
            // out anything that had been drawn so far.
            dequeueMouseEvents();
            dequeueKeyEvents();
            drawMethods.handle();
            // unset 'redraw' flag in case it was set
            redraw = false;
        // (only do this once draw() has run, not just setup())
        }
        g.endDraw();
        if (recorder != null) {
            recorder.endDraw();
        }
        frameRateLastNanos = now;
        frameCount++;
        // back to active paint
        paint();
        if (frameCount != 0) {
            postMethods.handle();
        }
    }
}||||||||// synchronized public void handleDisplay() {
public void handleDraw() {
    if (g != null && (looping || redraw)) {
        if (!g.canDraw()) {
            // (e.g. OpenGL has to wait for a peer to be on screen)
            return;
        }
        g.beginDraw();
        if (recorder != null) {
            recorder.beginDraw();
        }
        long now = System.nanoTime();
        if (frameCount == 0) {
            GraphicsDevice displayDevice = getGraphicsConfiguration().getDevice();
            Rectangle screenRect = displayDevice.getDefaultConfiguration().getBounds();
            // screenX = screenRect.x;
            // screenY = screenRect.y;
            screenWidth = screenRect.width;
            screenHeight = screenRect.height;
            try {
                // println("Calling setup()");
                setup();
            // println("Done with setup()");
            } catch (RendererChangeException e) {
                // Give up, instead set the new renderer and re-attempt setup()
                return;
            }
            this.defaultSize = false;
        } else {
            // frameCount > 0, meaning an actual draw()
            // update the current frameRate
            double rate = 1000000.0 / ((now - frameRateLastNanos) / 1000000.0);
            float instantaneousRate = (float) rate / 1000.0f;
            frameRate = (frameRate * 0.9f) + (instantaneousRate * 0.1f);
            if (frameCount != 0) {
                preMethods.handle();
            }
            // use dmouseX/Y as previous mouse pos, since this is the
            // last position the mouse was in during the previous draw.
            pmouseX = dmouseX;
            pmouseY = dmouseY;
            // println("Calling draw()");
            draw();
            // println("Done calling draw()");
            // dmouseX/Y is updated only once per frame (unlike emouseX/Y)
            dmouseX = mouseX;
            dmouseY = mouseY;
            // these are called *after* loop so that valid
            // drawing commands can be run inside them. it can't
            // be before, since a call to background() would wipe
            // out anything that had been drawn so far.
            dequeueMouseEvents();
            dequeueKeyEvents();
            drawMethods.handle();
            // unset 'redraw' flag in case it was set
            redraw = false;
        // (only do this once draw() has run, not just setup())
        }
        g.endDraw();
        if (recorder != null) {
            recorder.endDraw();
        }
        frameRateLastNanos = now;
        frameCount++;
        // back to active paint
        paint();
        if (frameCount != 0) {
            postMethods.handle();
        }
    }
}||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					NameExpr
						SimpleName
					NullLiteralExpr
				)
				(EnclosedExpr
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
				)
			)
			(BlockStmt
				(IfStmt
					(UnaryExpr
						(MethodCallExpr
							SimpleName
							NameExpr
								SimpleName
						)
					)
					(BlockStmt
						(ReturnStmt
							LineComment
						)
					)
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						NullLiteralExpr
					)
					(BlockStmt
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
					)
				)
				(ExpressionStmt
					(VariableDeclarationExpr
						(VariableDeclarator
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
							SimpleName
							(PrimitiveType
							)
						)
					)
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						(IntegerLiteralExpr
						)
					)
					(BlockStmt
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(BinaryExpr
										(DoubleLiteralExpr
										)
										(EnclosedExpr
											(BinaryExpr
												(EnclosedExpr
													(BinaryExpr
														NameExpr
															SimpleName
														NameExpr
															SimpleName
													)
												)
												(DoubleLiteralExpr
												)
											)
										)
									)
									SimpleName
									(PrimitiveType
									)
								)
							)
							LineComment
						)
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(BinaryExpr
										(CastExpr
											NameExpr
												SimpleName
											(PrimitiveType
											)
										)
										(DoubleLiteralExpr
										)
									)
									SimpleName
									(PrimitiveType
									)
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(BinaryExpr
									(EnclosedExpr
										(BinaryExpr
											NameExpr
												SimpleName
											(DoubleLiteralExpr
											)
										)
									)
									(EnclosedExpr
										(BinaryExpr
											NameExpr
												SimpleName
											(DoubleLiteralExpr
											)
										)
									)
								)
							)
						)
						(IfStmt
							(BinaryExpr
								NameExpr
									SimpleName
								(IntegerLiteralExpr
								)
							)
							(BlockStmt
								(ExpressionStmt
									(MethodCallExpr
										SimpleName
										NameExpr
											SimpleName
									)
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
							)
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(BooleanLiteralExpr
								)
							)
							LineComment
						)
					)
					(BlockStmt
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(MethodCallExpr
										SimpleName
										(MethodCallExpr
											SimpleName
										)
									)
									SimpleName
									(ClassOrInterfaceType
										SimpleName
									)
								)
							)
						)
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(MethodCallExpr
										SimpleName
										(MethodCallExpr
											SimpleName
											NameExpr
												SimpleName
										)
									)
									SimpleName
									(ClassOrInterfaceType
										SimpleName
									)
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
							)
						)
						(TryStmt
							(CatchClause
								(BlockStmt
									(ReturnStmt
										LineComment
									)
								)
								(Parameter
									SimpleName
									(ClassOrInterfaceType
										SimpleName
									)
								)
							)
							(BlockStmt
								(ExpressionStmt
									(MethodCallExpr
										SimpleName
									)
									LineComment
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								(FieldAccessExpr
									SimpleName
									(ThisExpr
									)
								)
								(BooleanLiteralExpr
								)
							)
						)
					)
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						NullLiteralExpr
					)
					(BlockStmt
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
					)
				)
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
				)
				(ExpressionStmt
					(UnaryExpr
						NameExpr
							SimpleName
					)
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
					)
					LineComment
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						(IntegerLiteralExpr
						)
					)
					(BlockStmt
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
					)
				)
			)
		)
	)
	(VoidType
	)
	SimpleName
	LineComment
)
||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					NameExpr
						SimpleName
					NullLiteralExpr
				)
				(EnclosedExpr
					(BinaryExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
				)
			)
			(BlockStmt
				(IfStmt
					(UnaryExpr
						(MethodCallExpr
							SimpleName
							NameExpr
								SimpleName
						)
					)
					(BlockStmt
						(ReturnStmt
							LineComment
						)
					)
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						NullLiteralExpr
					)
					(BlockStmt
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
					)
				)
				(ExpressionStmt
					(VariableDeclarationExpr
						(VariableDeclarator
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
							SimpleName
							(PrimitiveType
							)
						)
					)
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						(IntegerLiteralExpr
						)
					)
					(BlockStmt
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(BinaryExpr
										(DoubleLiteralExpr
										)
										(EnclosedExpr
											(BinaryExpr
												(EnclosedExpr
													(BinaryExpr
														NameExpr
															SimpleName
														NameExpr
															SimpleName
													)
												)
												(DoubleLiteralExpr
												)
											)
										)
									)
									SimpleName
									(PrimitiveType
									)
								)
							)
							LineComment
						)
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(BinaryExpr
										(CastExpr
											NameExpr
												SimpleName
											(PrimitiveType
											)
										)
										(DoubleLiteralExpr
										)
									)
									SimpleName
									(PrimitiveType
									)
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(BinaryExpr
									(EnclosedExpr
										(BinaryExpr
											NameExpr
												SimpleName
											(DoubleLiteralExpr
											)
										)
									)
									(EnclosedExpr
										(BinaryExpr
											NameExpr
												SimpleName
											(DoubleLiteralExpr
											)
										)
									)
								)
							)
						)
						(IfStmt
							(BinaryExpr
								NameExpr
									SimpleName
								(IntegerLiteralExpr
								)
							)
							(BlockStmt
								(ExpressionStmt
									(MethodCallExpr
										SimpleName
										NameExpr
											SimpleName
									)
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								NameExpr
									SimpleName
							)
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
							)
							LineComment
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
							)
						)
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(BooleanLiteralExpr
								)
							)
							LineComment
						)
					)
					(BlockStmt
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(MethodCallExpr
										SimpleName
										(MethodCallExpr
											SimpleName
										)
									)
									SimpleName
									(ClassOrInterfaceType
										SimpleName
									)
								)
							)
						)
						(ExpressionStmt
							(VariableDeclarationExpr
								(VariableDeclarator
									(MethodCallExpr
										SimpleName
										(MethodCallExpr
											SimpleName
											NameExpr
												SimpleName
										)
									)
									SimpleName
									(ClassOrInterfaceType
										SimpleName
									)
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
							)
							LineComment
						)
						(ExpressionStmt
							(AssignExpr
								NameExpr
									SimpleName
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
							)
						)
						(TryStmt
							(CatchClause
								(BlockStmt
									(ReturnStmt
										LineComment
									)
								)
								(Parameter
									SimpleName
									(ClassOrInterfaceType
										SimpleName
									)
								)
							)
							(BlockStmt
								(ExpressionStmt
									(MethodCallExpr
										SimpleName
									)
									LineComment
								)
							)
						)
						(ExpressionStmt
							(AssignExpr
								(FieldAccessExpr
									SimpleName
									(ThisExpr
									)
								)
								(BooleanLiteralExpr
								)
							)
						)
					)
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						NullLiteralExpr
					)
					(BlockStmt
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
					)
				)
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
					)
				)
				(ExpressionStmt
					(UnaryExpr
						NameExpr
							SimpleName
					)
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
					)
					LineComment
				)
				(IfStmt
					(BinaryExpr
						NameExpr
							SimpleName
						(IntegerLiteralExpr
						)
					)
					(BlockStmt
						(ExpressionStmt
							(MethodCallExpr
								SimpleName
								NameExpr
									SimpleName
							)
						)
					)
				)
			)
		)
	)
	(VoidType
	)
	SimpleName
	LineComment
)

