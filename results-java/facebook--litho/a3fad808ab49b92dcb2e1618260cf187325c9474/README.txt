commit a3fad808ab49b92dcb2e1618260cf187325c9474
Author: Emil Sjolander <emilsj@fb.com>
Date:   Wed Jun 14 07:36:21 2017 -0700

    Big refactor

    Summary: Moved logic out of core package

    Reviewed By: kittens

    Differential Revision: D5238343

    fbshipit-source-id: 3fec66996d18766c97b4f1f58caade0de78b4d82