commit cb6ff606710143fd46f9c0930444caa6b514bbb8
Author: Skylot <skylot@gmail.com>
Date:   Sat Jun 15 18:24:45 2013 +0400

    Fix small issues and improve code