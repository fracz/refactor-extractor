commit 210c8e547cb16abc64b1db0333a3f1b0a8240714
Author: Skylot <skylot@gmail.com>
Date:   Sat May 4 18:19:34 2013 +0400

    Adjust types merge, other code improvements