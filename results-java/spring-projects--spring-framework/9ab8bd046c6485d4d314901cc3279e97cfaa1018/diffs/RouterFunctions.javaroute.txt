/**
 * Route to the given handler function if the given request predicate applies.
 * <p>For instance, the following example routes GET requests for "/user" to the
 * {@code listUsers} method in {@code userController}:
 * <pre class="code">
 * RouterFunction&lt;ServerResponse&gt; route =
 * RouterFunctions.route(RequestPredicates.GET("/user"),
 * userController::listUsers);
 * </pre>
 *
 * @param predicate the predicate to test
 * @param handlerFunction the handler function to route to if the predicate applies
 * @param <T> the type of response returned by the handler function
 * @return a router function that routes to {@code handlerFunction} if
 * {@code predicate} evaluates to {@code true}
 * @see RequestPredicates
 */
public static <T extends ServerResponse> RouterFunction<T> route(RequestPredicate predicate, HandlerFunction<T> handlerFunction) {
    Assert.notNull(predicate, "'predicate' must not be null");
    Assert.notNull(handlerFunction, "'handlerFunction' must not be null");
    return request -> predicate.test(request) ? Mono.just(handlerFunction) : Mono.empty();
}||||||||/**
 * Route to the given handler function if the given request predicate applies.
 * <p>For instance, the following example routes GET requests for "/user" to the
 * {@code listUsers} method in {@code userController}:
 * <pre class="code">
 * RouterFunction&lt;ServerResponse&gt; route =
 * RouterFunctions.route(RequestPredicates.GET("/user"),
 * userController::listUsers);
 * </pre>
 *
 * @param predicate the predicate to test
 * @param handlerFunction the handler function to route to if the predicate applies
 * @param <T> the type of response returned by the handler function
 * @return a router function that routes to {@code handlerFunction} if
 * {@code predicate} evaluates to {@code true}
 * @see RequestPredicates
 */
public static <T extends ServerResponse> RouterFunction<T> route(RequestPredicate predicate, HandlerFunction<T> handlerFunction) {
    Assert.notNull(predicate, "'predicate' must not be null");
    Assert.notNull(handlerFunction, "'handlerFunction' must not be null");
    return request -> {
        if (predicate.test(request)) {
            if (logger.isDebugEnabled()) {
                logger.debug(String.format("Predicate \"%s\" matches against \"%s\"", predicate, request));
            }
            return Mono.just(handlerFunction);
        } else {
            return Mono.empty();
        }
    };
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				StringLiteralExpr
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				StringLiteralExpr
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ReturnStmt
			(LambdaExpr
				(ExpressionStmt
					(ConditionalExpr
						(MethodCallExpr
							NameExpr
								SimpleName
							SimpleName
							NameExpr
								SimpleName
						)
						(MethodCallExpr
							SimpleName
							NameExpr
								SimpleName
						)
						(MethodCallExpr
							NameExpr
								SimpleName
							SimpleName
							NameExpr
								SimpleName
						)
					)
				)
				(Parameter
					SimpleName
					(UnknownType
					)
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
			(ClassOrInterfaceType
				SimpleName
			)
		)
	)
	(TypeParameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(JavadocComment
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				StringLiteralExpr
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				StringLiteralExpr
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ReturnStmt
			(LambdaExpr
				(BlockStmt
					(IfStmt
						(MethodCallExpr
							NameExpr
								SimpleName
							SimpleName
							NameExpr
								SimpleName
						)
						(BlockStmt
							(ReturnStmt
								(MethodCallExpr
									SimpleName
									NameExpr
										SimpleName
								)
							)
						)
						(BlockStmt
							(IfStmt
								(MethodCallExpr
									SimpleName
									NameExpr
										SimpleName
								)
								(BlockStmt
									(ExpressionStmt
										(MethodCallExpr
											(MethodCallExpr
												StringLiteralExpr
												NameExpr
													SimpleName
												NameExpr
													SimpleName
												SimpleName
												NameExpr
													SimpleName
											)
											SimpleName
											NameExpr
												SimpleName
										)
									)
								)
							)
							(ReturnStmt
								(MethodCallExpr
									NameExpr
										SimpleName
									SimpleName
									NameExpr
										SimpleName
								)
							)
						)
					)
				)
				(Parameter
					SimpleName
					(UnknownType
					)
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
			(ClassOrInterfaceType
				SimpleName
			)
		)
	)
	(TypeParameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(JavadocComment
	)
)

