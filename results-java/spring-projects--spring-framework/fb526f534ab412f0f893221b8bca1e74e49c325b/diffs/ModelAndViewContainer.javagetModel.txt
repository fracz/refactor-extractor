/**
 * Return the model to use. This is either the default model created at
 * instantiation or the redirect model if {@link #setUseRedirectModel}
 * is set to {@code true}. If a redirect model was never provided via
 * {@link #setRedirectModel}, return the default model unless
 * {@link #setIgnoreDefaultModelOnRedirect} is set to {@code true}.
 */
public ModelMap getModel() {
    if (!this.useRedirectModel) {
        return this.model;
    } else if (this.redirectModel != null) {
        return this.redirectModel;
    } else {
        return this.ignoreDefaultModelOnRedirect ? new ModelMap() : this.model;
    }
}||||||||/**
 * Return the model to use: the "default" or the "redirect" model.
 * <p>The default model is used if {@code "redirectModelScenario=false"} or
 * if the redirect model is {@code null} (i.e. it wasn't declared as a
 * method argument) and {@code ignoreDefaultModelOnRedirect=false}.
 */
public ModelMap getModel() {
    if (useDefaultModel()) {
        return this.defaultModel;
    } else {
        return (this.redirectModel != null) ? this.redirectModel : new ModelMap();
    }
}||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(UnaryExpr
				(FieldAccessExpr
					SimpleName
					(ThisExpr
					)
				)
			)
			(IfStmt
				(BinaryExpr
					(FieldAccessExpr
						SimpleName
						(ThisExpr
						)
					)
					NullLiteralExpr
				)
				(BlockStmt
					(ReturnStmt
						(ConditionalExpr
							(FieldAccessExpr
								SimpleName
								(ThisExpr
								)
							)
							(FieldAccessExpr
								SimpleName
								(ThisExpr
								)
							)
							(ObjectCreationExpr
								(ClassOrInterfaceType
									SimpleName
								)
							)
						)
					)
				)
				(BlockStmt
					(ReturnStmt
						(FieldAccessExpr
							SimpleName
							(ThisExpr
							)
						)
					)
				)
			)
			(BlockStmt
				(ReturnStmt
					(FieldAccessExpr
						SimpleName
						(ThisExpr
						)
					)
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
	)
	SimpleName
	(JavadocComment
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(MethodCallExpr
				SimpleName
			)
			(BlockStmt
				(ReturnStmt
					(ConditionalExpr
						(EnclosedExpr
							(BinaryExpr
								(FieldAccessExpr
									SimpleName
									(ThisExpr
									)
								)
								NullLiteralExpr
							)
						)
						(ObjectCreationExpr
							(ClassOrInterfaceType
								SimpleName
							)
						)
						(FieldAccessExpr
							SimpleName
							(ThisExpr
							)
						)
					)
				)
			)
			(BlockStmt
				(ReturnStmt
					(FieldAccessExpr
						SimpleName
						(ThisExpr
						)
					)
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
	)
	SimpleName
	(JavadocComment
	)
)

