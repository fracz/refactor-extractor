commit c2f1e55d32abcd24d759c0efda97978bac158c26
Author: Misagh Moayyed <mmoayyed@unicon.net>
Date:   Mon May 11 00:41:22 2015 -0700

    more refactoring. fixed test compile issue