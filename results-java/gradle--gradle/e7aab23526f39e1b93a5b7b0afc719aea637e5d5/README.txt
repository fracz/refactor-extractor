commit e7aab23526f39e1b93a5b7b0afc719aea637e5d5
Author: Szczepan Faber <szczepiq@gmail.com>
Date:   Mon Mar 18 15:08:28 2013 +0100

    REVIEW-1699 Switched back the test. Spockified the test and busted the class into smaller pieces to improve testing.