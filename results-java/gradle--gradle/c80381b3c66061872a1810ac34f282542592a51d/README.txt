commit c80381b3c66061872a1810ac34f282542592a51d
Author: Szczepan Faber <szczepiq@gmail.com>
Date:   Thu Nov 24 00:25:01 2011 +0100

    Some refactoring and some minor unit test coverage