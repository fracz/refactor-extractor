commit 5316a086d0b30c95df19c2e04df029a5038b64e4
Author: Szczepan Faber <szczepiq@gmail.com>
Date:   Tue May 21 16:46:00 2013 +0200

    More refactoring / unit test coverage