commit 45acea86fd41ecb401dafbf9cb632dd51229cab3
Author: Szczepan Faber <szczepiq@gmail.com>
Date:   Tue Jun 24 13:04:33 2014 +0200

    More refactoring and more unit test coverage.