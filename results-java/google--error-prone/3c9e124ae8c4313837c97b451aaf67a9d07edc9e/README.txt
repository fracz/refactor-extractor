commit 3c9e124ae8c4313837c97b451aaf67a9d07edc9e
Author: Eddie Aftandilian <eaftan@google.com>
Date:   Tue Oct 9 17:27:12 2012 -0700

    Fixes from code review.

    Fixed a bug for multiple top-level classes, and made some refactoring
    changes to make the code more understandable.