public void onScaleEnd(ScaleGestureDetector detector) {
    if (mPreviewZoomOnly) {
        mPreviewZoomOnly = false;
        mAnchorX = viewToContentX((int) mZoomCenterX + mScrollX);
        mAnchorY = viewToContentY((int) mZoomCenterY + mScrollY);
        // don't reflow when zoom in; when zoom out, do reflow if the
        // new scale is almost minimum scale;
        boolean reflowNow = (mActualScale - mZoomManager.mMinZoomScale <= MINIMUM_SCALE_INCREMENT) || ((mActualScale <= 0.8 * mTextWrapScale));
        // force zoom after mPreviewZoomOnly is set to false so that the
        // new view size will be passed to the WebKit
        setNewZoomScale(mActualScale, reflowNow, true);
        // call invalidate() to draw without zoom filter
        invalidate();
    }
    // adjust the edit text view if needed
    if (inEditingMode() && didUpdateTextViewBounds(false) && nativeFocusCandidateIsPassword()) {
        // If it is a password field, start drawing the
        // WebTextView once again.
        mWebTextView.setInPassword(true);
    }
    // start a drag, TOUCH_PINCH_DRAG, can't use TOUCH_INIT_MODE as it
    // may trigger the unwanted click, can't use TOUCH_DRAG_MODE as it
    // may trigger the unwanted fling.
    mTouchMode = TOUCH_PINCH_DRAG;
    mConfirmMove = true;
    startTouch(detector.getFocusX(), detector.getFocusY(), mLastTouchTime);
    mViewManager.endZoom();
}||||||||public void onScaleEnd(ScaleGestureDetector detector) {
    if (mZoomManager.mPreviewZoomOnly) {
        mZoomManager.mPreviewZoomOnly = false;
        mAnchorX = viewToContentX((int) mZoomManager.mZoomCenterX + mScrollX);
        mAnchorY = viewToContentY((int) mZoomManager.mZoomCenterY + mScrollY);
        // don't reflow when zoom in; when zoom out, do reflow if the
        // new scale is almost minimum scale;
        boolean reflowNow = mZoomManager.isZoomedOut() || (mZoomManager.mActualScale <= 0.8 * mZoomManager.mTextWrapScale);
        // force zoom after mPreviewZoomOnly is set to false so that the
        // new view size will be passed to the WebKit
        mZoomManager.refreshZoomScale(reflowNow);
        // call invalidate() to draw without zoom filter
        invalidate();
    }
    // adjust the edit text view if needed
    if (inEditingMode() && didUpdateTextViewBounds(false) && nativeFocusCandidateIsPassword()) {
        // If it is a password field, start drawing the
        // WebTextView once again.
        mWebTextView.setInPassword(true);
    }
    // start a drag, TOUCH_PINCH_DRAG, can't use TOUCH_INIT_MODE as it
    // may trigger the unwanted click, can't use TOUCH_DRAG_MODE as it
    // may trigger the unwanted fling.
    mTouchMode = TOUCH_PINCH_DRAG;
    mConfirmMove = true;
    startTouch(detector.getFocusX(), detector.getFocusY(), mLastTouchTime);
    mViewManager.endZoom();
}||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			NameExpr
				SimpleName
			(BlockStmt
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						(BooleanLiteralExpr
						)
					)
				)
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						(MethodCallExpr
							(BinaryExpr
								(CastExpr
									NameExpr
										SimpleName
									(PrimitiveType
									)
								)
								NameExpr
									SimpleName
							)
							SimpleName
						)
					)
				)
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						(MethodCallExpr
							(BinaryExpr
								(CastExpr
									NameExpr
										SimpleName
									(PrimitiveType
									)
								)
								NameExpr
									SimpleName
							)
							SimpleName
						)
					)
				)
				(ExpressionStmt
					(VariableDeclarationExpr
						(VariableDeclarator
							(BinaryExpr
								(EnclosedExpr
									(BinaryExpr
										(BinaryExpr
											NameExpr
												SimpleName
											(FieldAccessExpr
												SimpleName
												NameExpr
													SimpleName
											)
										)
										NameExpr
											SimpleName
									)
								)
								(EnclosedExpr
									(EnclosedExpr
										(BinaryExpr
											NameExpr
												SimpleName
											(BinaryExpr
												(DoubleLiteralExpr
												)
												NameExpr
													SimpleName
											)
										)
									)
								)
							)
							SimpleName
							(PrimitiveType
							)
						)
					)
					LineComment
				)
				(ExpressionStmt
					(MethodCallExpr
						NameExpr
							SimpleName
						NameExpr
							SimpleName
						(BooleanLiteralExpr
						)
						SimpleName
					)
					LineComment
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
					)
					LineComment
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					(MethodCallExpr
						SimpleName
					)
					(MethodCallExpr
						(BooleanLiteralExpr
						)
						SimpleName
					)
				)
				(MethodCallExpr
					SimpleName
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						(BooleanLiteralExpr
						)
						SimpleName
						NameExpr
							SimpleName
					)
					LineComment
				)
			)
			LineComment
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				(BooleanLiteralExpr
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
				NameExpr
					SimpleName
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(IfStmt
			(FieldAccessExpr
				SimpleName
				NameExpr
					SimpleName
			)
			(BlockStmt
				(ExpressionStmt
					(AssignExpr
						(FieldAccessExpr
							SimpleName
							NameExpr
								SimpleName
						)
						(BooleanLiteralExpr
						)
					)
				)
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						(MethodCallExpr
							(BinaryExpr
								(CastExpr
									(FieldAccessExpr
										SimpleName
										NameExpr
											SimpleName
									)
									(PrimitiveType
									)
								)
								NameExpr
									SimpleName
							)
							SimpleName
						)
					)
				)
				(ExpressionStmt
					(AssignExpr
						NameExpr
							SimpleName
						(MethodCallExpr
							(BinaryExpr
								(CastExpr
									(FieldAccessExpr
										SimpleName
										NameExpr
											SimpleName
									)
									(PrimitiveType
									)
								)
								NameExpr
									SimpleName
							)
							SimpleName
						)
					)
				)
				(ExpressionStmt
					(VariableDeclarationExpr
						(VariableDeclarator
							(BinaryExpr
								(MethodCallExpr
									SimpleName
									NameExpr
										SimpleName
								)
								(EnclosedExpr
									(BinaryExpr
										(FieldAccessExpr
											SimpleName
											NameExpr
												SimpleName
										)
										(BinaryExpr
											(DoubleLiteralExpr
											)
											(FieldAccessExpr
												SimpleName
												NameExpr
													SimpleName
											)
										)
									)
								)
							)
							SimpleName
							(PrimitiveType
							)
						)
					)
					LineComment
				)
				(ExpressionStmt
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
						NameExpr
							SimpleName
					)
					LineComment
				)
				(ExpressionStmt
					(MethodCallExpr
						SimpleName
					)
					LineComment
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					(MethodCallExpr
						SimpleName
					)
					(MethodCallExpr
						(BooleanLiteralExpr
						)
						SimpleName
					)
				)
				(MethodCallExpr
					SimpleName
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						(BooleanLiteralExpr
						)
						SimpleName
						NameExpr
							SimpleName
					)
					LineComment
				)
			)
			LineComment
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(AssignExpr
				NameExpr
					SimpleName
				(BooleanLiteralExpr
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
				NameExpr
					SimpleName
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
)

