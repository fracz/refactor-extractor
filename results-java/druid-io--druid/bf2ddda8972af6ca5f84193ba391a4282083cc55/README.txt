commit bf2ddda8972af6ca5f84193ba391a4282083cc55
Author: fjy <fangjin@metamarkets.com>
Date:   Thu Feb 27 15:21:09 2014 -0800

    unit tests passing after more refactoring