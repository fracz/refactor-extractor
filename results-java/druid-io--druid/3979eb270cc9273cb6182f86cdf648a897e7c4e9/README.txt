commit 3979eb270cc9273cb6182f86cdf648a897e7c4e9
Author: fjy <fangjin@metamarkets.com>
Date:   Fri Feb 14 12:58:56 2014 -0800

    Revert "Revert "Merge branch 'determine-partitions-improvements'""

    This reverts commit 189b3e2b9bc3c79da9c98b805df624f024109469.