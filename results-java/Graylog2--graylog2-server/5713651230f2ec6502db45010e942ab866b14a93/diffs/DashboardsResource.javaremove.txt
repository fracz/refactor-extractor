@DELETE
@Timed
@ApiOperation(value = "Delete a widget")
@Path("/{dashboardId}/widgets/{widgetId}")
@ApiResponses(value = { @ApiResponse(code = 404, message = "Dashboard not found."), @ApiResponse(code = 404, message = "Widget not found."), @ApiResponse(code = 403, message = "Request must be performed against master node.") })
@Produces(MediaType.APPLICATION_JSON)
public Response remove(@ApiParam(title = "dashboardId", required = true) @PathParam("dashboardId") String dashboardId, @ApiParam(title = "widgetId", required = true) @PathParam("widgetId") String widgetId) {
    restrictToMaster();
    checkPermission(RestPermissions.DASHBOARDS_EDIT, dashboardId);
    if (dashboardId == null || dashboardId.isEmpty()) {
        LOG.error("Missing dashboard ID. Returning HTTP 400.");
        throw new WebApplicationException(400);
    }
    if (widgetId == null || widgetId.isEmpty()) {
        LOG.error("Missing widget ID. Returning HTTP 400.");
        throw new WebApplicationException(400);
    }
    Dashboard dashboard = core.dashboards().get(dashboardId);
    if (dashboard == null) {
        LOG.error("Dashboard not found.");
        throw new WebApplicationException(404);
    }
    dashboard.removeWidget(widgetId);
    String msg = "Deleted widget <" + widgetId + "> from dashboard <" + dashboardId + ">. Reason: REST request.";
    LOG.info(msg);
    core.getActivityWriter().write(new Activity(msg, DashboardsResource.class));
    return Response.status(Response.Status.NO_CONTENT).build();
}||||||||@DELETE
@Timed
@ApiOperation(value = "Delete a widget")
@Path("/{dashboardId}/widgets/{widgetId}")
@ApiResponses(value = { @ApiResponse(code = 404, message = "Dashboard not found."), @ApiResponse(code = 404, message = "Widget not found."), @ApiResponse(code = 403, message = "Request must be performed against master node.") })
@Produces(MediaType.APPLICATION_JSON)
public Response remove(@ApiParam(title = "dashboardId", required = true) @PathParam("dashboardId") String dashboardId, @ApiParam(title = "widgetId", required = true) @PathParam("widgetId") String widgetId) {
    restrictToMaster();
    checkPermission(RestPermissions.DASHBOARDS_EDIT, dashboardId);
    if (dashboardId == null || dashboardId.isEmpty()) {
        LOG.error("Missing dashboard ID. Returning HTTP 400.");
        throw new WebApplicationException(400);
    }
    if (widgetId == null || widgetId.isEmpty()) {
        LOG.error("Missing widget ID. Returning HTTP 400.");
        throw new WebApplicationException(400);
    }
    final Dashboard dashboard = dashboardRegistry.get(dashboardId);
    if (dashboard == null) {
        LOG.error("Dashboard not found.");
        throw new WebApplicationException(404);
    }
    final DashboardWidget widget = dashboard.getWidget(widgetId);
    dashboardService.removeWidget(dashboard, widget);
    String msg = "Deleted widget <" + widgetId + "> from dashboard <" + dashboardId + ">. Reason: REST request.";
    LOG.info(msg);
    core.getActivityWriter().write(new Activity(msg, DashboardsResource.class));
    return Response.status(Response.Status.NO_CONTENT).build();
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(FieldAccessExpr
					SimpleName
					NameExpr
						SimpleName
				)
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					NameExpr
						SimpleName
					NullLiteralExpr
				)
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(ThrowStmt
					(ObjectCreationExpr
						(IntegerLiteralExpr
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					NameExpr
						SimpleName
					NullLiteralExpr
				)
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(ThrowStmt
					(ObjectCreationExpr
						(IntegerLiteralExpr
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
						(MethodCallExpr
							SimpleName
							NameExpr
								SimpleName
						)
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				NameExpr
					SimpleName
				NullLiteralExpr
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(ThrowStmt
					(ObjectCreationExpr
						(IntegerLiteralExpr
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(BinaryExpr
							(BinaryExpr
								(BinaryExpr
									StringLiteralExpr
									NameExpr
										SimpleName
								)
								StringLiteralExpr
							)
							NameExpr
								SimpleName
						)
						StringLiteralExpr
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(ObjectCreationExpr
					NameExpr
						SimpleName
					(ClassExpr
						(ClassOrInterfaceType
							SimpleName
						)
					)
					(ClassOrInterfaceType
						SimpleName
					)
				)
				SimpleName
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
		(ReturnStmt
			(MethodCallExpr
				SimpleName
				(MethodCallExpr
					(FieldAccessExpr
						SimpleName
						(FieldAccessExpr
							SimpleName
							NameExpr
								SimpleName
						)
					)
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
	)
	SimpleName
	(Parameter
		(NormalAnnotationExpr
			(MemberValuePair
				SimpleName
				StringLiteralExpr
			)
			(MemberValuePair
				SimpleName
				(BooleanLiteralExpr
				)
			)
			Name
		)
		(SingleMemberAnnotationExpr
			StringLiteralExpr
			Name
		)
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(Parameter
		(NormalAnnotationExpr
			(MemberValuePair
				SimpleName
				StringLiteralExpr
			)
			(MemberValuePair
				SimpleName
				(BooleanLiteralExpr
				)
			)
			Name
		)
		(SingleMemberAnnotationExpr
			StringLiteralExpr
			Name
		)
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(MarkerAnnotationExpr
		Name
	)
	(MarkerAnnotationExpr
		Name
	)
	(NormalAnnotationExpr
		(MemberValuePair
			SimpleName
			StringLiteralExpr
		)
		Name
	)
	(SingleMemberAnnotationExpr
		StringLiteralExpr
		Name
	)
	(NormalAnnotationExpr
		(MemberValuePair
			SimpleName
			(ArrayInitializerExpr
				(NormalAnnotationExpr
					(MemberValuePair
						SimpleName
						(IntegerLiteralExpr
						)
					)
					(MemberValuePair
						SimpleName
						StringLiteralExpr
					)
					Name
				)
				(NormalAnnotationExpr
					(MemberValuePair
						SimpleName
						(IntegerLiteralExpr
						)
					)
					(MemberValuePair
						SimpleName
						StringLiteralExpr
					)
					Name
				)
				(NormalAnnotationExpr
					(MemberValuePair
						SimpleName
						(IntegerLiteralExpr
						)
					)
					(MemberValuePair
						SimpleName
						StringLiteralExpr
					)
					Name
				)
			)
		)
		Name
	)
	(SingleMemberAnnotationExpr
		(FieldAccessExpr
			SimpleName
			NameExpr
				SimpleName
		)
		Name
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(FieldAccessExpr
					SimpleName
					NameExpr
						SimpleName
				)
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					NameExpr
						SimpleName
					NullLiteralExpr
				)
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(ThrowStmt
					(ObjectCreationExpr
						(IntegerLiteralExpr
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				(BinaryExpr
					NameExpr
						SimpleName
					NullLiteralExpr
				)
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(ThrowStmt
					(ObjectCreationExpr
						(IntegerLiteralExpr
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				NameExpr
					SimpleName
				NullLiteralExpr
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
				)
				(ThrowStmt
					(ObjectCreationExpr
						(IntegerLiteralExpr
						)
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						NameExpr
							SimpleName
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				NameExpr
					SimpleName
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(BinaryExpr
							(BinaryExpr
								(BinaryExpr
									StringLiteralExpr
									NameExpr
										SimpleName
								)
								StringLiteralExpr
							)
							NameExpr
								SimpleName
						)
						StringLiteralExpr
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				NameExpr
					SimpleName
				SimpleName
				NameExpr
					SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(ObjectCreationExpr
					NameExpr
						SimpleName
					(ClassExpr
						(ClassOrInterfaceType
							SimpleName
						)
					)
					(ClassOrInterfaceType
						SimpleName
					)
				)
				SimpleName
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
		(ReturnStmt
			(MethodCallExpr
				SimpleName
				(MethodCallExpr
					(FieldAccessExpr
						SimpleName
						(FieldAccessExpr
							SimpleName
							NameExpr
								SimpleName
						)
					)
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
	)
	SimpleName
	(Parameter
		(NormalAnnotationExpr
			(MemberValuePair
				SimpleName
				StringLiteralExpr
			)
			(MemberValuePair
				SimpleName
				(BooleanLiteralExpr
				)
			)
			Name
		)
		(SingleMemberAnnotationExpr
			StringLiteralExpr
			Name
		)
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(Parameter
		(NormalAnnotationExpr
			(MemberValuePair
				SimpleName
				StringLiteralExpr
			)
			(MemberValuePair
				SimpleName
				(BooleanLiteralExpr
				)
			)
			Name
		)
		(SingleMemberAnnotationExpr
			StringLiteralExpr
			Name
		)
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(MarkerAnnotationExpr
		Name
	)
	(MarkerAnnotationExpr
		Name
	)
	(NormalAnnotationExpr
		(MemberValuePair
			SimpleName
			StringLiteralExpr
		)
		Name
	)
	(SingleMemberAnnotationExpr
		StringLiteralExpr
		Name
	)
	(NormalAnnotationExpr
		(MemberValuePair
			SimpleName
			(ArrayInitializerExpr
				(NormalAnnotationExpr
					(MemberValuePair
						SimpleName
						(IntegerLiteralExpr
						)
					)
					(MemberValuePair
						SimpleName
						StringLiteralExpr
					)
					Name
				)
				(NormalAnnotationExpr
					(MemberValuePair
						SimpleName
						(IntegerLiteralExpr
						)
					)
					(MemberValuePair
						SimpleName
						StringLiteralExpr
					)
					Name
				)
				(NormalAnnotationExpr
					(MemberValuePair
						SimpleName
						(IntegerLiteralExpr
						)
					)
					(MemberValuePair
						SimpleName
						StringLiteralExpr
					)
					Name
				)
			)
		)
		Name
	)
	(SingleMemberAnnotationExpr
		(FieldAccessExpr
			SimpleName
			NameExpr
				SimpleName
		)
		Name
	)
)

