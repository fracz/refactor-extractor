@Override
public RuleClass build(Builder builder, RuleDefinitionEnvironment env) {
    final Label zipper = env.getToolsLabel("//tools/zip:zipper");
    if (defParserLabel != null) {
        builder.add(attr("$def_parser", LABEL).cfg(HOST).singleArtifact().value(env.getLabel(defParserLabel)));
    }
    return builder.setUndocumented().requiresConfigurationFragments(CppConfiguration.class).advertiseProvider(MakeVariableInfo.class).add(attr("output_licenses", LICENSE)).add(attr("cpu", STRING).mandatory()).add(attr("all_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("compiler_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("strip_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("objcopy_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("linker_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("dwp_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("coverage_files", LABEL).legacyAllowAnyFileType().cfg(HOST)).add(attr("static_runtime_libs", LABEL_LIST).legacyAllowAnyFileType().mandatory()).add(attr("dynamic_runtime_libs", LABEL_LIST).legacyAllowAnyFileType().mandatory()).add(attr("module_map", LABEL).legacyAllowAnyFileType().cfg(HOST)).add(attr("supports_param_files", BOOLEAN).value(true)).add(attr("supports_header_parsing", BOOLEAN).value(false)).add(attr("$interface_library_builder", LABEL).cfg(HOST).singleArtifact().value(env.getToolsLabel("//tools/cpp:interface_library_builder"))).add(attr("$link_dynamic_library_tool", LABEL).cfg(HOST).singleArtifact().value(env.getToolsLabel("//tools/cpp:link_dynamic_library"))).add(attr(":zipper", LABEL).cfg(HOST).singleArtifact().value(new LateBoundLabel<BuildConfiguration>() {

        @Override
        public Label resolve(Rule rule, AttributeMap attributes, BuildConfiguration configuration) {
            CppConfiguration cppConfiguration = configuration.getFragment(CppConfiguration.class);
            if (cppConfiguration.isLLVMOptimizedFdo()) {
                return zipper;
            } else {
                return null;
            }
        }
    })).add(attr(":libc_top", LABEL).value(LIBC_TOP)).add(attr(":lipo_context_collector", LABEL).cfg(LipoContextCollectorTransition.INSTANCE).value(CppRuleClasses.LIPO_CONTEXT_COLLECTOR).skipPrereqValidatorCheck()).build();
}||||||||@Override
public RuleClass build(Builder builder, RuleDefinitionEnvironment env) {
    final Label zipper = env.getToolsLabel("//tools/zip:zipper");
    if (defParserLabel != null) {
        builder.add(attr("$def_parser", LABEL).cfg(HOST).singleArtifact().value(env.getLabel(defParserLabel)));
    }
    return builder.setUndocumented().requiresConfigurationFragments(CppConfiguration.class).advertiseProvider(MakeVariableInfo.class).add(attr("output_licenses", LICENSE)).add(attr("cpu", STRING).mandatory()).add(attr("all_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("compiler_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("strip_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("objcopy_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("linker_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("dwp_files", LABEL).legacyAllowAnyFileType().cfg(HOST).mandatory()).add(attr("coverage_files", LABEL).legacyAllowAnyFileType().cfg(HOST)).add(attr("static_runtime_libs", LABEL_LIST).legacyAllowAnyFileType().mandatory()).add(attr("dynamic_runtime_libs", LABEL_LIST).legacyAllowAnyFileType().mandatory()).add(attr("module_map", LABEL).legacyAllowAnyFileType().cfg(HOST)).add(attr("supports_param_files", BOOLEAN).value(true)).add(attr("supports_header_parsing", BOOLEAN).value(false)).add(attr("$interface_library_builder", LABEL).cfg(HOST).singleArtifact().value(env.getToolsLabel("//tools/cpp:interface_library_builder"))).add(attr("$link_dynamic_library_tool", LABEL).cfg(HOST).singleArtifact().value(env.getToolsLabel("//tools/cpp:link_dynamic_library"))).add(attr(":zipper", LABEL).cfg(HOST).singleArtifact().value(LateBoundDefault.fromTargetConfiguration(CppConfiguration.class, null, (rule, attributes, cppConfig) -> cppConfig.isLLVMOptimizedFdo() ? zipper : null))).add(attr(":libc_top", LABEL).value(LIBC_TOP)).add(attr(":lipo_context_collector", LABEL).cfg(LipoContextCollectorTransition.INSTANCE).value(CppRuleClasses.LIPO_CONTEXT_COLLECTOR).skipPrereqValidatorCheck()).build();
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				NameExpr
					SimpleName
				NullLiteralExpr
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						(MethodCallExpr
							(MethodCallExpr
								NameExpr
									SimpleName
								SimpleName
								NameExpr
									SimpleName
							)
							SimpleName
							(MethodCallExpr
								SimpleName
								(MethodCallExpr
									NameExpr
										SimpleName
									SimpleName
									(MethodCallExpr
										StringLiteralExpr
										NameExpr
											SimpleName
										SimpleName
									)
								)
							)
						)
						SimpleName
						NameExpr
							SimpleName
					)
				)
			)
		)
		(ReturnStmt
			(MethodCallExpr
				SimpleName
				(MethodCallExpr
					(MethodCallExpr
						SimpleName
						(MethodCallExpr
							(FieldAccessExpr
								SimpleName
								NameExpr
									SimpleName
							)
							SimpleName
							(MethodCallExpr
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
								SimpleName
								(MethodCallExpr
									StringLiteralExpr
									NameExpr
										SimpleName
									SimpleName
								)
							)
						)
					)
					SimpleName
					(MethodCallExpr
						(MethodCallExpr
							NameExpr
								SimpleName
							SimpleName
							(MethodCallExpr
								StringLiteralExpr
								NameExpr
									SimpleName
								SimpleName
							)
						)
						SimpleName
						(MethodCallExpr
							(MethodCallExpr
								(ObjectCreationExpr
									(MethodDeclaration
										(BlockStmt
											(ExpressionStmt
												(VariableDeclarationExpr
													(VariableDeclarator
														(MethodCallExpr
															(ClassExpr
																(ClassOrInterfaceType
																	SimpleName
																)
															)
															SimpleName
															NameExpr
																SimpleName
														)
														SimpleName
														(ClassOrInterfaceType
															SimpleName
														)
													)
												)
											)
											(IfStmt
												(MethodCallExpr
													SimpleName
													NameExpr
														SimpleName
												)
												(BlockStmt
													(ReturnStmt
														NullLiteralExpr
													)
												)
												(BlockStmt
													(ReturnStmt
														NameExpr
															SimpleName
													)
												)
											)
										)
										(ClassOrInterfaceType
											SimpleName
										)
										SimpleName
										(Parameter
											SimpleName
											(ClassOrInterfaceType
												SimpleName
											)
										)
										(Parameter
											SimpleName
											(ClassOrInterfaceType
												SimpleName
											)
										)
										(Parameter
											SimpleName
											(ClassOrInterfaceType
												SimpleName
											)
										)
										(MarkerAnnotationExpr
											Name
										)
									)
									(ClassOrInterfaceType
										SimpleName
										(ClassOrInterfaceType
											SimpleName
										)
									)
								)
								SimpleName
								(MethodCallExpr
									SimpleName
									(MethodCallExpr
										NameExpr
											SimpleName
										SimpleName
										(MethodCallExpr
											StringLiteralExpr
											NameExpr
												SimpleName
											SimpleName
										)
									)
								)
							)
							SimpleName
							(MethodCallExpr
								(MethodCallExpr
									(MethodCallExpr
										StringLiteralExpr
										SimpleName
										NameExpr
											SimpleName
									)
									SimpleName
									(MethodCallExpr
										SimpleName
										(MethodCallExpr
											NameExpr
												SimpleName
											SimpleName
											(MethodCallExpr
												StringLiteralExpr
												NameExpr
													SimpleName
												SimpleName
											)
										)
									)
								)
								SimpleName
								(MethodCallExpr
									(MethodCallExpr
										(MethodCallExpr
											StringLiteralExpr
											SimpleName
											NameExpr
												SimpleName
										)
										SimpleName
										(MethodCallExpr
											SimpleName
											(MethodCallExpr
												NameExpr
													SimpleName
												SimpleName
												(MethodCallExpr
													StringLiteralExpr
													NameExpr
														SimpleName
													SimpleName
												)
											)
										)
									)
									SimpleName
									(MethodCallExpr
										(MethodCallExpr
											(BooleanLiteralExpr
											)
											SimpleName
											(MethodCallExpr
												StringLiteralExpr
												NameExpr
													SimpleName
												SimpleName
											)
										)
										SimpleName
										(MethodCallExpr
											(MethodCallExpr
												(BooleanLiteralExpr
												)
												SimpleName
												(MethodCallExpr
													StringLiteralExpr
													NameExpr
														SimpleName
													SimpleName
												)
											)
											SimpleName
											(MethodCallExpr
												(MethodCallExpr
													NameExpr
														SimpleName
													SimpleName
													(MethodCallExpr
														SimpleName
														(MethodCallExpr
															StringLiteralExpr
															NameExpr
																SimpleName
															SimpleName
														)
													)
												)
												SimpleName
												(MethodCallExpr
													(MethodCallExpr
														SimpleName
														(MethodCallExpr
															SimpleName
															(MethodCallExpr
																StringLiteralExpr
																NameExpr
																	SimpleName
																SimpleName
															)
														)
													)
													SimpleName
													(MethodCallExpr
														(MethodCallExpr
															SimpleName
															(MethodCallExpr
																SimpleName
																(MethodCallExpr
																	StringLiteralExpr
																	NameExpr
																		SimpleName
																	SimpleName
																)
															)
														)
														SimpleName
														(MethodCallExpr
															(MethodCallExpr
																NameExpr
																	SimpleName
																SimpleName
																(MethodCallExpr
																	SimpleName
																	(MethodCallExpr
																		StringLiteralExpr
																		NameExpr
																			SimpleName
																		SimpleName
																	)
																)
															)
															SimpleName
															(MethodCallExpr
																(MethodCallExpr
																	SimpleName
																	(MethodCallExpr
																		NameExpr
																			SimpleName
																		SimpleName
																		(MethodCallExpr
																			SimpleName
																			(MethodCallExpr
																				StringLiteralExpr
																				NameExpr
																					SimpleName
																				SimpleName
																			)
																		)
																	)
																)
																SimpleName
																(MethodCallExpr
																	(MethodCallExpr
																		SimpleName
																		(MethodCallExpr
																			NameExpr
																				SimpleName
																			SimpleName
																			(MethodCallExpr
																				SimpleName
																				(MethodCallExpr
																					StringLiteralExpr
																					NameExpr
																						SimpleName
																					SimpleName
																				)
																			)
																		)
																	)
																	SimpleName
																	(MethodCallExpr
																		(MethodCallExpr
																			SimpleName
																			(MethodCallExpr
																				NameExpr
																					SimpleName
																				SimpleName
																				(MethodCallExpr
																					SimpleName
																					(MethodCallExpr
																						StringLiteralExpr
																						NameExpr
																							SimpleName
																						SimpleName
																					)
																				)
																			)
																		)
																		SimpleName
																		(MethodCallExpr
																			(MethodCallExpr
																				SimpleName
																				(MethodCallExpr
																					NameExpr
																						SimpleName
																					SimpleName
																					(MethodCallExpr
																						SimpleName
																						(MethodCallExpr
																							StringLiteralExpr
																							NameExpr
																								SimpleName
																							SimpleName
																						)
																					)
																				)
																			)
																			SimpleName
																			(MethodCallExpr
																				(MethodCallExpr
																					SimpleName
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						SimpleName
																						(MethodCallExpr
																							SimpleName
																							(MethodCallExpr
																								StringLiteralExpr
																								NameExpr
																									SimpleName
																								SimpleName
																							)
																						)
																					)
																				)
																				SimpleName
																				(MethodCallExpr
																					(MethodCallExpr
																						SimpleName
																						(MethodCallExpr
																							NameExpr
																								SimpleName
																							SimpleName
																							(MethodCallExpr
																								SimpleName
																								(MethodCallExpr
																									StringLiteralExpr
																									NameExpr
																										SimpleName
																									SimpleName
																								)
																							)
																						)
																					)
																					SimpleName
																					(MethodCallExpr
																						(MethodCallExpr
																							SimpleName
																							(MethodCallExpr
																								StringLiteralExpr
																								NameExpr
																									SimpleName
																								SimpleName
																							)
																						)
																						SimpleName
																						(MethodCallExpr
																							(MethodCallExpr
																								StringLiteralExpr
																								NameExpr
																									SimpleName
																								SimpleName
																							)
																							SimpleName
																							(MethodCallExpr
																								(ClassExpr
																									(ClassOrInterfaceType
																										SimpleName
																									)
																								)
																								SimpleName
																								(MethodCallExpr
																									(ClassExpr
																										(ClassOrInterfaceType
																											SimpleName
																										)
																									)
																									SimpleName
																									(MethodCallExpr
																										SimpleName
																										NameExpr
																											SimpleName
																									)
																								)
																							)
																						)
																					)
																				)
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
						)
					)
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(MarkerAnnotationExpr
		Name
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(MethodCallExpr
						StringLiteralExpr
						SimpleName
						NameExpr
							SimpleName
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(IfStmt
			(BinaryExpr
				NameExpr
					SimpleName
				NullLiteralExpr
			)
			(BlockStmt
				(ExpressionStmt
					(MethodCallExpr
						(MethodCallExpr
							(MethodCallExpr
								NameExpr
									SimpleName
								SimpleName
								NameExpr
									SimpleName
							)
							SimpleName
							(MethodCallExpr
								SimpleName
								(MethodCallExpr
									NameExpr
										SimpleName
									SimpleName
									(MethodCallExpr
										StringLiteralExpr
										NameExpr
											SimpleName
										SimpleName
									)
								)
							)
						)
						SimpleName
						NameExpr
							SimpleName
					)
				)
			)
		)
		(ReturnStmt
			(MethodCallExpr
				SimpleName
				(MethodCallExpr
					(MethodCallExpr
						SimpleName
						(MethodCallExpr
							(FieldAccessExpr
								SimpleName
								NameExpr
									SimpleName
							)
							SimpleName
							(MethodCallExpr
								(FieldAccessExpr
									SimpleName
									NameExpr
										SimpleName
								)
								SimpleName
								(MethodCallExpr
									StringLiteralExpr
									NameExpr
										SimpleName
									SimpleName
								)
							)
						)
					)
					SimpleName
					(MethodCallExpr
						(MethodCallExpr
							NameExpr
								SimpleName
							SimpleName
							(MethodCallExpr
								StringLiteralExpr
								NameExpr
									SimpleName
								SimpleName
							)
						)
						SimpleName
						(MethodCallExpr
							(MethodCallExpr
								(MethodCallExpr
									(ClassExpr
										(ClassOrInterfaceType
											SimpleName
										)
									)
									NullLiteralExpr
									(LambdaExpr
										(ExpressionStmt
											(ConditionalExpr
												(MethodCallExpr
													SimpleName
													NameExpr
														SimpleName
												)
												NullLiteralExpr
												NameExpr
													SimpleName
											)
										)
										(Parameter
											SimpleName
											(UnknownType
											)
										)
										(Parameter
											SimpleName
											(UnknownType
											)
										)
										(Parameter
											SimpleName
											(UnknownType
											)
										)
									)
									SimpleName
									NameExpr
										SimpleName
								)
								SimpleName
								(MethodCallExpr
									SimpleName
									(MethodCallExpr
										NameExpr
											SimpleName
										SimpleName
										(MethodCallExpr
											StringLiteralExpr
											NameExpr
												SimpleName
											SimpleName
										)
									)
								)
							)
							SimpleName
							(MethodCallExpr
								(MethodCallExpr
									(MethodCallExpr
										StringLiteralExpr
										SimpleName
										NameExpr
											SimpleName
									)
									SimpleName
									(MethodCallExpr
										SimpleName
										(MethodCallExpr
											NameExpr
												SimpleName
											SimpleName
											(MethodCallExpr
												StringLiteralExpr
												NameExpr
													SimpleName
												SimpleName
											)
										)
									)
								)
								SimpleName
								(MethodCallExpr
									(MethodCallExpr
										(MethodCallExpr
											StringLiteralExpr
											SimpleName
											NameExpr
												SimpleName
										)
										SimpleName
										(MethodCallExpr
											SimpleName
											(MethodCallExpr
												NameExpr
													SimpleName
												SimpleName
												(MethodCallExpr
													StringLiteralExpr
													NameExpr
														SimpleName
													SimpleName
												)
											)
										)
									)
									SimpleName
									(MethodCallExpr
										(MethodCallExpr
											(BooleanLiteralExpr
											)
											SimpleName
											(MethodCallExpr
												StringLiteralExpr
												NameExpr
													SimpleName
												SimpleName
											)
										)
										SimpleName
										(MethodCallExpr
											(MethodCallExpr
												(BooleanLiteralExpr
												)
												SimpleName
												(MethodCallExpr
													StringLiteralExpr
													NameExpr
														SimpleName
													SimpleName
												)
											)
											SimpleName
											(MethodCallExpr
												(MethodCallExpr
													NameExpr
														SimpleName
													SimpleName
													(MethodCallExpr
														SimpleName
														(MethodCallExpr
															StringLiteralExpr
															NameExpr
																SimpleName
															SimpleName
														)
													)
												)
												SimpleName
												(MethodCallExpr
													(MethodCallExpr
														SimpleName
														(MethodCallExpr
															SimpleName
															(MethodCallExpr
																StringLiteralExpr
																NameExpr
																	SimpleName
																SimpleName
															)
														)
													)
													SimpleName
													(MethodCallExpr
														(MethodCallExpr
															SimpleName
															(MethodCallExpr
																SimpleName
																(MethodCallExpr
																	StringLiteralExpr
																	NameExpr
																		SimpleName
																	SimpleName
																)
															)
														)
														SimpleName
														(MethodCallExpr
															(MethodCallExpr
																NameExpr
																	SimpleName
																SimpleName
																(MethodCallExpr
																	SimpleName
																	(MethodCallExpr
																		StringLiteralExpr
																		NameExpr
																			SimpleName
																		SimpleName
																	)
																)
															)
															SimpleName
															(MethodCallExpr
																(MethodCallExpr
																	SimpleName
																	(MethodCallExpr
																		NameExpr
																			SimpleName
																		SimpleName
																		(MethodCallExpr
																			SimpleName
																			(MethodCallExpr
																				StringLiteralExpr
																				NameExpr
																					SimpleName
																				SimpleName
																			)
																		)
																	)
																)
																SimpleName
																(MethodCallExpr
																	(MethodCallExpr
																		SimpleName
																		(MethodCallExpr
																			NameExpr
																				SimpleName
																			SimpleName
																			(MethodCallExpr
																				SimpleName
																				(MethodCallExpr
																					StringLiteralExpr
																					NameExpr
																						SimpleName
																					SimpleName
																				)
																			)
																		)
																	)
																	SimpleName
																	(MethodCallExpr
																		(MethodCallExpr
																			SimpleName
																			(MethodCallExpr
																				NameExpr
																					SimpleName
																				SimpleName
																				(MethodCallExpr
																					SimpleName
																					(MethodCallExpr
																						StringLiteralExpr
																						NameExpr
																							SimpleName
																						SimpleName
																					)
																				)
																			)
																		)
																		SimpleName
																		(MethodCallExpr
																			(MethodCallExpr
																				SimpleName
																				(MethodCallExpr
																					NameExpr
																						SimpleName
																					SimpleName
																					(MethodCallExpr
																						SimpleName
																						(MethodCallExpr
																							StringLiteralExpr
																							NameExpr
																								SimpleName
																							SimpleName
																						)
																					)
																				)
																			)
																			SimpleName
																			(MethodCallExpr
																				(MethodCallExpr
																					SimpleName
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						SimpleName
																						(MethodCallExpr
																							SimpleName
																							(MethodCallExpr
																								StringLiteralExpr
																								NameExpr
																									SimpleName
																								SimpleName
																							)
																						)
																					)
																				)
																				SimpleName
																				(MethodCallExpr
																					(MethodCallExpr
																						SimpleName
																						(MethodCallExpr
																							NameExpr
																								SimpleName
																							SimpleName
																							(MethodCallExpr
																								SimpleName
																								(MethodCallExpr
																									StringLiteralExpr
																									NameExpr
																										SimpleName
																									SimpleName
																								)
																							)
																						)
																					)
																					SimpleName
																					(MethodCallExpr
																						(MethodCallExpr
																							SimpleName
																							(MethodCallExpr
																								StringLiteralExpr
																								NameExpr
																									SimpleName
																								SimpleName
																							)
																						)
																						SimpleName
																						(MethodCallExpr
																							(MethodCallExpr
																								StringLiteralExpr
																								NameExpr
																									SimpleName
																								SimpleName
																							)
																							SimpleName
																							(MethodCallExpr
																								(ClassExpr
																									(ClassOrInterfaceType
																										SimpleName
																									)
																								)
																								SimpleName
																								(MethodCallExpr
																									(ClassExpr
																										(ClassOrInterfaceType
																											SimpleName
																										)
																									)
																									SimpleName
																									(MethodCallExpr
																										SimpleName
																										NameExpr
																											SimpleName
																									)
																								)
																							)
																						)
																					)
																				)
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
						)
					)
				)
			)
		)
	)
	(ClassOrInterfaceType
		SimpleName
	)
	SimpleName
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(Parameter
		SimpleName
		(ClassOrInterfaceType
			SimpleName
		)
	)
	(MarkerAnnotationExpr
		Name
	)
)

