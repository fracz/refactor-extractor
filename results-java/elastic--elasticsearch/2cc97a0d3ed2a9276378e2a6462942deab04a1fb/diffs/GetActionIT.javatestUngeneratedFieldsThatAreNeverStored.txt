@Test
public void testUngeneratedFieldsThatAreNeverStored() throws IOException {
    String createIndexSource = "{\n" + "  \"settings\": {\n" + "    \"index.translog.disable_flush\": true,\n" + "    \"refresh_interval\": \"-1\"\n" + "  },\n" + "  \"mappings\": {\n" + "    \"doc\": {\n" + "      \"properties\": {\n" + "        \"suggest\": {\n" + "          \"type\": \"completion\"\n" + "        }\n" + "      }\n" + "    }\n" + "  }\n" + "}";
    assertAcked(prepareCreate("test").addAlias(new Alias("alias")).setSource(createIndexSource));
    ensureGreen();
    String doc = "{\n" + "  \"suggest\": {\n" + "    \"input\": [\n" + "      \"Nevermind\",\n" + "      \"Nirvana\"\n" + "    ],\n" + "    \"output\": \"Nirvana - Nevermind\"\n" + "  }\n" + "}";
    index("test", "doc", "1", doc);
    String[] fieldsList = { "suggest" };
    // before refresh - document is only in translog
    assertGetFieldsAlwaysNull(indexOrAlias(), "doc", "1", fieldsList);
    refresh();
    // after refresh - document is in translog and also indexed
    assertGetFieldsAlwaysNull(indexOrAlias(), "doc", "1", fieldsList);
    flush();
    // after flush - document is in not anymore translog - only indexed
    assertGetFieldsAlwaysNull(indexOrAlias(), "doc", "1", fieldsList);
}||||||||public void testUngeneratedFieldsThatAreNeverStored() throws IOException {
    String createIndexSource = "{\n" + "  \"settings\": {\n" + "    \"index.translog.disable_flush\": true,\n" + "    \"refresh_interval\": \"-1\"\n" + "  },\n" + "  \"mappings\": {\n" + "    \"doc\": {\n" + "      \"properties\": {\n" + "        \"suggest\": {\n" + "          \"type\": \"completion\"\n" + "        }\n" + "      }\n" + "    }\n" + "  }\n" + "}";
    assertAcked(prepareCreate("test").addAlias(new Alias("alias")).setSource(createIndexSource));
    ensureGreen();
    String doc = "{\n" + "  \"suggest\": {\n" + "    \"input\": [\n" + "      \"Nevermind\",\n" + "      \"Nirvana\"\n" + "    ],\n" + "    \"output\": \"Nirvana - Nevermind\"\n" + "  }\n" + "}";
    index("test", "doc", "1", doc);
    String[] fieldsList = { "suggest" };
    // before refresh - document is only in translog
    assertGetFieldsAlwaysNull(indexOrAlias(), "doc", "1", fieldsList);
    refresh();
    // after refresh - document is in translog and also indexed
    assertGetFieldsAlwaysNull(indexOrAlias(), "doc", "1", fieldsList);
    flush();
    // after flush - document is in not anymore translog - only indexed
    assertGetFieldsAlwaysNull(indexOrAlias(), "doc", "1", fieldsList);
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(BinaryExpr
							(BinaryExpr
								(BinaryExpr
									(BinaryExpr
										(BinaryExpr
											(BinaryExpr
												(BinaryExpr
													(BinaryExpr
														(BinaryExpr
															(BinaryExpr
																(BinaryExpr
																	(BinaryExpr
																		(BinaryExpr
																			StringLiteralExpr
																			StringLiteralExpr
																		)
																		StringLiteralExpr
																	)
																	StringLiteralExpr
																)
																StringLiteralExpr
															)
															StringLiteralExpr
														)
														StringLiteralExpr
													)
													StringLiteralExpr
												)
												StringLiteralExpr
											)
											StringLiteralExpr
										)
										StringLiteralExpr
									)
									StringLiteralExpr
								)
								StringLiteralExpr
							)
							StringLiteralExpr
						)
						StringLiteralExpr
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					NameExpr
						SimpleName
					SimpleName
					(MethodCallExpr
						(ObjectCreationExpr
							StringLiteralExpr
							(ClassOrInterfaceType
								SimpleName
							)
						)
						SimpleName
						(MethodCallExpr
							StringLiteralExpr
							SimpleName
						)
					)
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(BinaryExpr
							(BinaryExpr
								(BinaryExpr
									(BinaryExpr
										(BinaryExpr
											(BinaryExpr
												(BinaryExpr
													StringLiteralExpr
													StringLiteralExpr
												)
												StringLiteralExpr
											)
											StringLiteralExpr
										)
										StringLiteralExpr
									)
									StringLiteralExpr
								)
								StringLiteralExpr
							)
							StringLiteralExpr
						)
						StringLiteralExpr
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				StringLiteralExpr
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(ArrayInitializerExpr
						StringLiteralExpr
					)
					SimpleName
					(ArrayType
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
				)
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
				)
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
				)
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
	)
	(VoidType
	)
	SimpleName
	(ClassOrInterfaceType
		SimpleName
	)
	(MarkerAnnotationExpr
		Name
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(BinaryExpr
							(BinaryExpr
								(BinaryExpr
									(BinaryExpr
										(BinaryExpr
											(BinaryExpr
												(BinaryExpr
													(BinaryExpr
														(BinaryExpr
															(BinaryExpr
																(BinaryExpr
																	(BinaryExpr
																		(BinaryExpr
																			StringLiteralExpr
																			StringLiteralExpr
																		)
																		StringLiteralExpr
																	)
																	StringLiteralExpr
																)
																StringLiteralExpr
															)
															StringLiteralExpr
														)
														StringLiteralExpr
													)
													StringLiteralExpr
												)
												StringLiteralExpr
											)
											StringLiteralExpr
										)
										StringLiteralExpr
									)
									StringLiteralExpr
								)
								StringLiteralExpr
							)
							StringLiteralExpr
						)
						StringLiteralExpr
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					NameExpr
						SimpleName
					SimpleName
					(MethodCallExpr
						(ObjectCreationExpr
							StringLiteralExpr
							(ClassOrInterfaceType
								SimpleName
							)
						)
						SimpleName
						(MethodCallExpr
							StringLiteralExpr
							SimpleName
						)
					)
				)
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(BinaryExpr
						(BinaryExpr
							(BinaryExpr
								(BinaryExpr
									(BinaryExpr
										(BinaryExpr
											(BinaryExpr
												(BinaryExpr
													StringLiteralExpr
													StringLiteralExpr
												)
												StringLiteralExpr
											)
											StringLiteralExpr
										)
										StringLiteralExpr
									)
									StringLiteralExpr
								)
								StringLiteralExpr
							)
							StringLiteralExpr
						)
						StringLiteralExpr
					)
					SimpleName
					(ClassOrInterfaceType
						SimpleName
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				StringLiteralExpr
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
		)
		(ExpressionStmt
			(VariableDeclarationExpr
				(VariableDeclarator
					(ArrayInitializerExpr
						StringLiteralExpr
					)
					SimpleName
					(ArrayType
						(ClassOrInterfaceType
							SimpleName
						)
					)
				)
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
				)
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
				)
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
		(ExpressionStmt
			(MethodCallExpr
				SimpleName
			)
		)
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
				)
				StringLiteralExpr
				StringLiteralExpr
				NameExpr
					SimpleName
				SimpleName
			)
			LineComment
		)
	)
	(VoidType
	)
	SimpleName
	(ClassOrInterfaceType
		SimpleName
	)
)

