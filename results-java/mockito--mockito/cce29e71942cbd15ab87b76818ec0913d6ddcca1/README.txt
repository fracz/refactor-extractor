commit cce29e71942cbd15ab87b76818ec0913d6ddcca1
Author: Szczepan Faber <szczepiq@gmail.com>
Date:   Sun Jan 15 18:20:46 2017 -0800

    Refactorings per code review

    Addressed code review feedback and refactored the code for readability and safety.