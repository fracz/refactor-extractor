commit c8daafd8b3e4dd57f9a7b1baafeec51547edae61
Author: Szczepan Faber <szczepiq@gmail.com>
Date:   Tue May 20 12:35:40 2008 +0000

    simple refactoring,
    added test that prototypes new API

    --HG--
    extra : convert_revision : svn%3Aaa2aecf3-ea3e-0410-9d70-716747e7c967/trunk%40613