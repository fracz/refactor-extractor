commit f668427341272626209d0b21d1cb1e349a7186ad
Author: Tim Perry <tim.perry@softwire.com>
Date:   Wed Jul 31 16:19:51 2013 +0100

    Added early completion on definite failure to timeout() too, by refactoring to combine after() and timeout() implementations