commit 5c7772fbce7ee4e67fed9d363dd3797b069e3a18
Author: Tglman <tglman@tglman.com>
Date:   Wed May 10 13:54:41 2017 +0100

    add test case for push message flow, minor refactoring and issue fixing in push message flow