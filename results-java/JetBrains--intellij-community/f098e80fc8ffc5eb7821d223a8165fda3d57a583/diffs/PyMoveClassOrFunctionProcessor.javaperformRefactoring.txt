@Override
protected void performRefactoring(final UsageInfo[] usages) {
    CommandProcessor.getInstance().executeCommand(myElements[0].getProject(), new Runnable() {

        public void run() {
            ApplicationManager.getApplication().runWriteAction(new Runnable() {

                public void run() {
                    final PyFile dest = getOrCreateFile(myDestination);
                    CommonRefactoringUtil.checkReadOnlyStatus(myProject, dest);
                    for (PsiNamedElement e : myElements) {
                        // TODO: Check for resulting circular imports
                        CommonRefactoringUtil.checkReadOnlyStatus(myProject, e);
                        assert e instanceof PyClass || e instanceof PyFunction;
                        if (e instanceof PyClass && dest.findTopLevelClass(e.getName()) != null) {
                            throw new IncorrectOperationException(PyBundle.message("refactoring.move.class.or.function.error.destination.file.contains.class.$0", e.getName()));
                        }
                        if (e instanceof PyFunction && dest.findTopLevelFunction(e.getName()) != null) {
                            throw new IncorrectOperationException(PyBundle.message("refactoring.move.class.or.function.error.destination.file.contains.function.$0", e.getName()));
                        }
                        checkValidImportableFile(dest, e.getContainingFile().getVirtualFile());
                        checkValidImportableFile(e, dest.getVirtualFile());
                    }
                    for (PsiNamedElement oldElement : myElements) {
                        PyClassRefactoringUtil.rememberNamedReferences(oldElement);
                        final PsiNamedElement newElement = (PsiNamedElement) (dest.add(oldElement));
                        for (UsageInfo usage : usages) {
                            final PsiElement oldExpr = usage.getElement();
                            // TODO: Respect the qualified import style
                            if (oldExpr instanceof PyQualifiedExpression) {
                                final PyQualifiedExpression qexpr = (PyQualifiedExpression) oldExpr;
                                if (qexpr.getQualifier() != null) {
                                    final PsiElement newExpr = qexpr.getParent().addBefore(new PyReferenceExpressionImpl(qexpr.getNameElement()), qexpr);
                                    qexpr.delete();
                                    PyClassRefactoringUtil.insertImport(newExpr, newElement, null, true);
                                }
                            }
                            if (oldExpr instanceof PyStringLiteralExpression) {
                                final PsiReference[] references = oldExpr.getReferences();
                                for (PsiReference ref : references) {
                                    if (ref instanceof DocStringTypeReference && ref.isReferenceTo(oldElement)) {
                                        ref.bindToElement(newElement);
                                    }
                                }
                            } else {
                                PyImportStatementBase importStatement = getUsageImportStatement(usage);
                                if (importStatement != null) {
                                    PyClassRefactoringUtil.updateImportOfElement(importStatement, newElement);
                                }
                                if (usage.getFile() == oldElement.getContainingFile() && (oldExpr == null || !PsiTreeUtil.isAncestor(oldElement, oldExpr, false))) {
                                    PyClassRefactoringUtil.insertImport(oldElement, newElement);
                                }
                            }
                        }
                        PyClassRefactoringUtil.restoreNamedReferences(newElement, oldElement);
                        // TODO: Remove extra empty lines after the removed element
                        oldElement.delete();
                    }
                }
            });
        }
    }, REFACTORING_NAME, null);
}||||||||@Override
protected void performRefactoring(final UsageInfo[] usages) {
    CommandProcessor.getInstance().executeCommand(myElements[0].getProject(), new Runnable() {

        public void run() {
            ApplicationManager.getApplication().runWriteAction(new Runnable() {

                public void run() {
                    final PyFile dest = getOrCreateFile(myDestination);
                    CommonRefactoringUtil.checkReadOnlyStatus(myProject, dest);
                    for (PsiNamedElement e : myElements) {
                        // TODO: Check for resulting circular imports
                        CommonRefactoringUtil.checkReadOnlyStatus(myProject, e);
                        assert e instanceof PyClass || e instanceof PyFunction;
                        if (e instanceof PyClass && dest.findTopLevelClass(e.getName()) != null) {
                            throw new IncorrectOperationException(PyBundle.message("refactoring.move.class.or.function.error.destination.file.contains.class.$0", e.getName()));
                        }
                        if (e instanceof PyFunction && dest.findTopLevelFunction(e.getName()) != null) {
                            throw new IncorrectOperationException(PyBundle.message("refactoring.move.class.or.function.error.destination.file.contains.function.$0", e.getName()));
                        }
                        checkValidImportableFile(dest, e.getContainingFile().getVirtualFile());
                        checkValidImportableFile(e, dest.getVirtualFile());
                    }
                    for (PsiNamedElement oldElement : myElements) {
                        final PsiFile oldFile = oldElement.getContainingFile();
                        PyClassRefactoringUtil.rememberNamedReferences(oldElement);
                        final PsiNamedElement newElement = (PsiNamedElement) (dest.add(oldElement));
                        for (UsageInfo usage : usages) {
                            final PsiElement oldExpr = usage.getElement();
                            // TODO: Respect the qualified import style
                            if (oldExpr instanceof PyQualifiedExpression) {
                                final PyQualifiedExpression qexpr = (PyQualifiedExpression) oldExpr;
                                if (qexpr.getQualifier() != null) {
                                    final PsiElement newExpr = qexpr.getParent().addBefore(new PyReferenceExpressionImpl(qexpr.getNameElement()), qexpr);
                                    qexpr.delete();
                                    PyClassRefactoringUtil.insertImport(newExpr, newElement, null, true);
                                }
                            }
                            if (oldExpr instanceof PyStringLiteralExpression) {
                                final PsiReference[] references = oldExpr.getReferences();
                                for (PsiReference ref : references) {
                                    if (ref instanceof DocStringTypeReference && ref.isReferenceTo(oldElement)) {
                                        ref.bindToElement(newElement);
                                    }
                                }
                            } else {
                                PyImportStatementBase importStatement = getUsageImportStatement(usage);
                                if (importStatement != null) {
                                    PyClassRefactoringUtil.updateImportOfElement(importStatement, newElement);
                                }
                                if (usage.getFile() == oldFile && (oldExpr == null || !PsiTreeUtil.isAncestor(oldElement, oldExpr, false))) {
                                    PyClassRefactoringUtil.insertImport(oldElement, newElement);
                                }
                            }
                        }
                        PyClassRefactoringUtil.restoreNamedReferences(newElement, oldElement);
                        // TODO: Remove extra empty lines after the removed element
                        oldElement.delete();
                        new PyImportOptimizer().processFile(oldFile).run();
                    }
                }
            });
        }
    }, REFACTORING_NAME, null);
}||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
					(ArrayAccessExpr
						(IntegerLiteralExpr
						)
						NameExpr
							SimpleName
					)
				)
				(ObjectCreationExpr
					(MethodDeclaration
						(BlockStmt
							(ExpressionStmt
								(MethodCallExpr
									(ObjectCreationExpr
										(MethodDeclaration
											(BlockStmt
												(ExpressionStmt
													(VariableDeclarationExpr
														(VariableDeclarator
															(MethodCallExpr
																NameExpr
																	SimpleName
																SimpleName
															)
															SimpleName
															(ClassOrInterfaceType
																SimpleName
															)
														)
													)
												)
												(ExpressionStmt
													(MethodCallExpr
														NameExpr
															SimpleName
														NameExpr
															SimpleName
														SimpleName
														NameExpr
															SimpleName
													)
												)
												(ForeachStmt
													(BlockStmt
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																NameExpr
																	SimpleName
																SimpleName
																NameExpr
																	SimpleName
															)
															LineComment
														)
														(AssertStmt
															(BinaryExpr
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(IfStmt
															(BinaryExpr
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
																(BinaryExpr
																	(MethodCallExpr
																		(MethodCallExpr
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																	NullLiteralExpr
																)
															)
															(BlockStmt
																(ThrowStmt
																	(ObjectCreationExpr
																		(MethodCallExpr
																			StringLiteralExpr
																			(MethodCallExpr
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																)
															)
														)
														(IfStmt
															(BinaryExpr
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
																(BinaryExpr
																	(MethodCallExpr
																		(MethodCallExpr
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																	NullLiteralExpr
																)
															)
															(BlockStmt
																(ThrowStmt
																	(ObjectCreationExpr
																		(MethodCallExpr
																			StringLiteralExpr
																			(MethodCallExpr
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																)
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																(MethodCallExpr
																	SimpleName
																	(MethodCallExpr
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																)
																SimpleName
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																(MethodCallExpr
																	SimpleName
																	NameExpr
																		SimpleName
																)
																SimpleName
															)
														)
													)
													NameExpr
														SimpleName
													(VariableDeclarationExpr
														(VariableDeclarator
															SimpleName
															(ClassOrInterfaceType
																SimpleName
															)
														)
													)
												)
												(ForeachStmt
													(BlockStmt
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																SimpleName
																NameExpr
																	SimpleName
															)
														)
														(ExpressionStmt
															(VariableDeclarationExpr
																(VariableDeclarator
																	(CastExpr
																		(EnclosedExpr
																			(MethodCallExpr
																				NameExpr
																					SimpleName
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																		)
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																	SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(ForeachStmt
															(BlockStmt
																(ExpressionStmt
																	(VariableDeclarationExpr
																		(VariableDeclarator
																			(MethodCallExpr
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																			SimpleName
																			(ClassOrInterfaceType
																				SimpleName
																			)
																		)
																	)
																)
																(IfStmt
																	(InstanceOfExpr
																		NameExpr
																			SimpleName
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																	(BlockStmt
																		(ExpressionStmt
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					(CastExpr
																						NameExpr
																							SimpleName
																						(ClassOrInterfaceType
																							SimpleName
																						)
																					)
																					SimpleName
																					(ClassOrInterfaceType
																						SimpleName
																					)
																				)
																			)
																		)
																		(IfStmt
																			(BinaryExpr
																				(MethodCallExpr
																					SimpleName
																					NameExpr
																						SimpleName
																				)
																				NullLiteralExpr
																			)
																			(BlockStmt
																				(ExpressionStmt
																					(VariableDeclarationExpr
																						(VariableDeclarator
																							(MethodCallExpr
																								(ObjectCreationExpr
																									(MethodCallExpr
																										SimpleName
																										NameExpr
																											SimpleName
																									)
																									(ClassOrInterfaceType
																										SimpleName
																									)
																								)
																								NameExpr
																									SimpleName
																								SimpleName
																								(MethodCallExpr
																									SimpleName
																									NameExpr
																										SimpleName
																								)
																							)
																							SimpleName
																							(ClassOrInterfaceType
																								SimpleName
																							)
																						)
																					)
																				)
																				(ExpressionStmt
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																				(ExpressionStmt
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						NameExpr
																							SimpleName
																						NullLiteralExpr
																						(BooleanLiteralExpr
																						)
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																			)
																		)
																	)
																	LineComment
																)
																(IfStmt
																	(InstanceOfExpr
																		NameExpr
																			SimpleName
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																	(BlockStmt
																		(ExpressionStmt
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						SimpleName
																					)
																					SimpleName
																					(ClassOrInterfaceType
																						SimpleName
																					)
																				)
																			)
																		)
																		(IfStmt
																			(BinaryExpr
																				NameExpr
																					SimpleName
																				NullLiteralExpr
																			)
																			(BlockStmt
																				(ExpressionStmt
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						NameExpr
																							SimpleName
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																			)
																		)
																		(IfStmt
																			(BinaryExpr
																				(BinaryExpr
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																				(EnclosedExpr
																					(BinaryExpr
																						(BinaryExpr
																							NameExpr
																								SimpleName
																							NullLiteralExpr
																						)
																						(UnaryExpr
																							(MethodCallExpr
																								NameExpr
																									SimpleName
																								NameExpr
																									SimpleName
																								(BooleanLiteralExpr
																								)
																								SimpleName
																								NameExpr
																									SimpleName
																							)
																						)
																					)
																				)
																			)
																			(BlockStmt
																				(ExpressionStmt
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						NameExpr
																							SimpleName
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																			)
																		)
																	)
																	(BlockStmt
																		(ExpressionStmt
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																					SimpleName
																					(ArrayType
																						(ClassOrInterfaceType
																							SimpleName
																						)
																					)
																				)
																			)
																		)
																		(ForeachStmt
																			(BlockStmt
																				(IfStmt
																					(BinaryExpr
																						(InstanceOfExpr
																							NameExpr
																								SimpleName
																							(ClassOrInterfaceType
																								SimpleName
																							)
																						)
																						(MethodCallExpr
																							NameExpr
																								SimpleName
																							SimpleName
																							NameExpr
																								SimpleName
																						)
																					)
																					(BlockStmt
																						(ExpressionStmt
																							(MethodCallExpr
																								NameExpr
																									SimpleName
																								SimpleName
																								NameExpr
																									SimpleName
																							)
																						)
																					)
																				)
																			)
																			NameExpr
																				SimpleName
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					SimpleName
																					(ClassOrInterfaceType
																						SimpleName
																					)
																				)
																			)
																		)
																	)
																)
															)
															NameExpr
																SimpleName
															(VariableDeclarationExpr
																(VariableDeclarator
																	SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																NameExpr
																	SimpleName
																SimpleName
																NameExpr
																	SimpleName
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																SimpleName
																NameExpr
																	SimpleName
															)
															LineComment
														)
													)
													NameExpr
														SimpleName
													(VariableDeclarationExpr
														(VariableDeclarator
															SimpleName
															(ClassOrInterfaceType
																SimpleName
															)
														)
													)
												)
											)
											(VoidType
											)
											SimpleName
										)
										(ClassOrInterfaceType
											SimpleName
										)
									)
									SimpleName
									(MethodCallExpr
										SimpleName
										NameExpr
											SimpleName
									)
								)
							)
						)
						(VoidType
						)
						SimpleName
					)
					(ClassOrInterfaceType
						SimpleName
					)
				)
				NameExpr
					SimpleName
				NullLiteralExpr
				SimpleName
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(ArrayType
			(ClassOrInterfaceType
				SimpleName
			)
		)
	)
	(MarkerAnnotationExpr
		Name
	)
)
||||||||(MethodDeclaration
	(BlockStmt
		(ExpressionStmt
			(MethodCallExpr
				(MethodCallExpr
					SimpleName
					(ArrayAccessExpr
						(IntegerLiteralExpr
						)
						NameExpr
							SimpleName
					)
				)
				(ObjectCreationExpr
					(MethodDeclaration
						(BlockStmt
							(ExpressionStmt
								(MethodCallExpr
									(ObjectCreationExpr
										(MethodDeclaration
											(BlockStmt
												(ExpressionStmt
													(VariableDeclarationExpr
														(VariableDeclarator
															(MethodCallExpr
																NameExpr
																	SimpleName
																SimpleName
															)
															SimpleName
															(ClassOrInterfaceType
																SimpleName
															)
														)
													)
												)
												(ExpressionStmt
													(MethodCallExpr
														NameExpr
															SimpleName
														NameExpr
															SimpleName
														SimpleName
														NameExpr
															SimpleName
													)
												)
												(ForeachStmt
													(BlockStmt
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																NameExpr
																	SimpleName
																SimpleName
																NameExpr
																	SimpleName
															)
															LineComment
														)
														(AssertStmt
															(BinaryExpr
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(IfStmt
															(BinaryExpr
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
																(BinaryExpr
																	(MethodCallExpr
																		(MethodCallExpr
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																	NullLiteralExpr
																)
															)
															(BlockStmt
																(ThrowStmt
																	(ObjectCreationExpr
																		(MethodCallExpr
																			StringLiteralExpr
																			(MethodCallExpr
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																)
															)
														)
														(IfStmt
															(BinaryExpr
																(InstanceOfExpr
																	NameExpr
																		SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
																(BinaryExpr
																	(MethodCallExpr
																		(MethodCallExpr
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																	NullLiteralExpr
																)
															)
															(BlockStmt
																(ThrowStmt
																	(ObjectCreationExpr
																		(MethodCallExpr
																			StringLiteralExpr
																			(MethodCallExpr
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																			SimpleName
																			NameExpr
																				SimpleName
																		)
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																)
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																(MethodCallExpr
																	SimpleName
																	(MethodCallExpr
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																)
																SimpleName
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																(MethodCallExpr
																	SimpleName
																	NameExpr
																		SimpleName
																)
																SimpleName
															)
														)
													)
													NameExpr
														SimpleName
													(VariableDeclarationExpr
														(VariableDeclarator
															SimpleName
															(ClassOrInterfaceType
																SimpleName
															)
														)
													)
												)
												(ForeachStmt
													(BlockStmt
														(ExpressionStmt
															(VariableDeclarationExpr
																(VariableDeclarator
																	(MethodCallExpr
																		SimpleName
																		NameExpr
																			SimpleName
																	)
																	SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																SimpleName
																NameExpr
																	SimpleName
															)
														)
														(ExpressionStmt
															(VariableDeclarationExpr
																(VariableDeclarator
																	(CastExpr
																		(EnclosedExpr
																			(MethodCallExpr
																				NameExpr
																					SimpleName
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																		)
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																	SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(ForeachStmt
															(BlockStmt
																(ExpressionStmt
																	(VariableDeclarationExpr
																		(VariableDeclarator
																			(MethodCallExpr
																				SimpleName
																				NameExpr
																					SimpleName
																			)
																			SimpleName
																			(ClassOrInterfaceType
																				SimpleName
																			)
																		)
																	)
																)
																(IfStmt
																	(InstanceOfExpr
																		NameExpr
																			SimpleName
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																	(BlockStmt
																		(ExpressionStmt
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					(CastExpr
																						NameExpr
																							SimpleName
																						(ClassOrInterfaceType
																							SimpleName
																						)
																					)
																					SimpleName
																					(ClassOrInterfaceType
																						SimpleName
																					)
																				)
																			)
																		)
																		(IfStmt
																			(BinaryExpr
																				(MethodCallExpr
																					SimpleName
																					NameExpr
																						SimpleName
																				)
																				NullLiteralExpr
																			)
																			(BlockStmt
																				(ExpressionStmt
																					(VariableDeclarationExpr
																						(VariableDeclarator
																							(MethodCallExpr
																								(ObjectCreationExpr
																									(MethodCallExpr
																										SimpleName
																										NameExpr
																											SimpleName
																									)
																									(ClassOrInterfaceType
																										SimpleName
																									)
																								)
																								NameExpr
																									SimpleName
																								SimpleName
																								(MethodCallExpr
																									SimpleName
																									NameExpr
																										SimpleName
																								)
																							)
																							SimpleName
																							(ClassOrInterfaceType
																								SimpleName
																							)
																						)
																					)
																				)
																				(ExpressionStmt
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																				(ExpressionStmt
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						NameExpr
																							SimpleName
																						NullLiteralExpr
																						(BooleanLiteralExpr
																						)
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																			)
																		)
																	)
																	LineComment
																)
																(IfStmt
																	(InstanceOfExpr
																		NameExpr
																			SimpleName
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																	(BlockStmt
																		(ExpressionStmt
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						SimpleName
																					)
																					SimpleName
																					(ClassOrInterfaceType
																						SimpleName
																					)
																				)
																			)
																		)
																		(IfStmt
																			(BinaryExpr
																				NameExpr
																					SimpleName
																				NullLiteralExpr
																			)
																			(BlockStmt
																				(ExpressionStmt
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						NameExpr
																							SimpleName
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																			)
																		)
																		(IfStmt
																			(BinaryExpr
																				(BinaryExpr
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																					NameExpr
																						SimpleName
																				)
																				(EnclosedExpr
																					(BinaryExpr
																						(BinaryExpr
																							NameExpr
																								SimpleName
																							NullLiteralExpr
																						)
																						(UnaryExpr
																							(MethodCallExpr
																								NameExpr
																									SimpleName
																								NameExpr
																									SimpleName
																								(BooleanLiteralExpr
																								)
																								SimpleName
																								NameExpr
																									SimpleName
																							)
																						)
																					)
																				)
																			)
																			(BlockStmt
																				(ExpressionStmt
																					(MethodCallExpr
																						NameExpr
																							SimpleName
																						NameExpr
																							SimpleName
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																				)
																			)
																		)
																	)
																	(BlockStmt
																		(ExpressionStmt
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					(MethodCallExpr
																						SimpleName
																						NameExpr
																							SimpleName
																					)
																					SimpleName
																					(ArrayType
																						(ClassOrInterfaceType
																							SimpleName
																						)
																					)
																				)
																			)
																		)
																		(ForeachStmt
																			(BlockStmt
																				(IfStmt
																					(BinaryExpr
																						(InstanceOfExpr
																							NameExpr
																								SimpleName
																							(ClassOrInterfaceType
																								SimpleName
																							)
																						)
																						(MethodCallExpr
																							NameExpr
																								SimpleName
																							SimpleName
																							NameExpr
																								SimpleName
																						)
																					)
																					(BlockStmt
																						(ExpressionStmt
																							(MethodCallExpr
																								NameExpr
																									SimpleName
																								SimpleName
																								NameExpr
																									SimpleName
																							)
																						)
																					)
																				)
																			)
																			NameExpr
																				SimpleName
																			(VariableDeclarationExpr
																				(VariableDeclarator
																					SimpleName
																					(ClassOrInterfaceType
																						SimpleName
																					)
																				)
																			)
																		)
																	)
																)
															)
															NameExpr
																SimpleName
															(VariableDeclarationExpr
																(VariableDeclarator
																	SimpleName
																	(ClassOrInterfaceType
																		SimpleName
																	)
																)
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																NameExpr
																	SimpleName
																NameExpr
																	SimpleName
																SimpleName
																NameExpr
																	SimpleName
															)
														)
														(ExpressionStmt
															(MethodCallExpr
																SimpleName
																NameExpr
																	SimpleName
															)
															LineComment
														)
														(ExpressionStmt
															(MethodCallExpr
																SimpleName
																(MethodCallExpr
																	NameExpr
																		SimpleName
																	SimpleName
																	(ObjectCreationExpr
																		(ClassOrInterfaceType
																			SimpleName
																		)
																	)
																)
															)
														)
													)
													NameExpr
														SimpleName
													(VariableDeclarationExpr
														(VariableDeclarator
															SimpleName
															(ClassOrInterfaceType
																SimpleName
															)
														)
													)
												)
											)
											(VoidType
											)
											SimpleName
										)
										(ClassOrInterfaceType
											SimpleName
										)
									)
									SimpleName
									(MethodCallExpr
										SimpleName
										NameExpr
											SimpleName
									)
								)
							)
						)
						(VoidType
						)
						SimpleName
					)
					(ClassOrInterfaceType
						SimpleName
					)
				)
				NameExpr
					SimpleName
				NullLiteralExpr
				SimpleName
				(MethodCallExpr
					SimpleName
					NameExpr
						SimpleName
				)
			)
		)
	)
	(VoidType
	)
	SimpleName
	(Parameter
		SimpleName
		(ArrayType
			(ClassOrInterfaceType
				SimpleName
			)
		)
	)
	(MarkerAnnotationExpr
		Name
	)
)

