commit 1e0399ac6d8338bd561bbb5c6cbedd9e49d24c2f
Author: Kirill Likhodedov <Kirill.Likhodedov@jetbrains.com>
Date:   Sun Sep 17 10:35:21 2017 +0300

    Return safe disposer registration, accidentally removed during refactoring

    Introduced in 1b32242, but was removed in 6633c0a