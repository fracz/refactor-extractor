commit dba343069f1b2a4df884282dd5e923d09a966ba1
Author: Roman Chernyatchik <roman.chernyatchik@jetbrains.com>
Date:   Sat Jul 17 22:13:10 2010 +0400

    refactored and simplified