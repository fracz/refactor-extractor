commit 5a6331f1f1e0e9a9342260d49541dce634def09b
Author: Martin Thompson <mjpt777@gmail.com>
Date:   Sun Jul 3 21:05:28 2011 +0000

    Cleaned up logic for some performance improvements.