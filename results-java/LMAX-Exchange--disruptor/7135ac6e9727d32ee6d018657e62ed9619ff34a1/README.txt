commit 7135ac6e9727d32ee6d018657e62ed9619ff34a1
Author: Martin Thompson <mjpt777@gmail.com>
Date:   Fri Jul 8 16:00:03 2011 +0000

    Cleaned up logic for some performance improvements.